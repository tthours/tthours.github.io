<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>AI 造假术-揭秘这项技术背后的真相</title>
    <link href="/2024/12/30/informationCocoon/tk_article/AI%20%E9%80%A0%E5%81%87%E6%9C%AF-%E6%8F%AD%E7%A7%98%E8%BF%99%E9%A1%B9%E6%8A%80%E6%9C%AF%E8%83%8C%E5%90%8E%E7%9A%84%E7%9C%9F%E7%9B%B8/"/>
    <url>/2024/12/30/informationCocoon/tk_article/AI%20%E9%80%A0%E5%81%87%E6%9C%AF-%E6%8F%AD%E7%A7%98%E8%BF%99%E9%A1%B9%E6%8A%80%E6%9C%AF%E8%83%8C%E5%90%8E%E7%9A%84%E7%9C%9F%E7%9B%B8/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>2024 年 12 月初，网络上出现了一段带货视频，在视频中卖力地推销某食品的居然是国家传染病医学中心主任、复旦大学附属华山医院感染科主任张文宏医生。</p><p>不少网友出于对张文宏医生的信任，不仅自己购买，还积极地把视频转发到家族群。然而，<strong>张文宏医生本人很快对此做出了澄清：该视频非其本人录制，应该是用 AI 伪造的。</strong></p><p><img src="/005ztyuLly4hwtpg9ljp0j608r0brjrm02.jpg" alt="img"></p><p>网络截图</p><p>近年来，随着人工智能技术的迅猛发展，此类 AI 伪造视频事件频频曝光。不法分子利用 AI 技术，假冒名人身份进行诈骗、发布虚假广告，甚至通过伪造视频骗取巨额财产，严重威胁社会信任体系和信息安全。</p><p>今天，我们从技术角度来剖析一下此类事件。</p><p><strong>AI 伪造视频的技术：</strong></p><p><strong>从生存对抗网络到 Deepfake</strong></p><p>这类 AI 伪造视频所用的技术并不是最近才出现的，上世纪九十年代学术界就开始了面部替换和图像生成相关技术的研究。2014 年，伊恩·古德费洛（Ian Goodfellow）提出了生成对抗网络（GAN，Generative Adversarial Network），使得计算机可以生成更为逼真且高质量的图像。</p><p>生成对抗网络由生成器（Generator）和判别器（Discriminator）两部分组成。<strong>生成器创建内容，而判别器则检测所创建的内容是不是真实的，并将结果反馈给生成器。在训练过程中，两者一攻一守，相互对抗，并在对抗中提升各自的能力，最终生成器能够生成非常逼真的画面。</strong></p><p>2017 年，有人在网络社区 Reddit 上创建了一个名为“deepfakes”的账号，并发布了一些用生成对抗网络技术制作的名人换脸视频。从此，“Deepfake”一词开始被广泛使用，通常是指代这类换脸视频所用的技术。</p><p>2018 年 1 月，一款名为 FakeApp 的桌面应用程序发布。紧接着，Faceswap、DeepFaceLab 等具有类似功能的开源工具出现了。这些工具大大降低了 Deepfake 的门槛，使不具备专业知识的普通用户也能轻松生成换脸视频。</p><p><strong>随着相关技术不断进步，今天的 Deepfake 和之前相比，不仅生成的视频分辨率更高、面部表情同步更自然，而且所需的数据更少、训练时间更短。</strong>早期 Deepfake 训练往往需要数百到上千张目标人物的图片或数分钟至数小时的视频，以获取不同角度、不同表情的脸部特征。但随着生成对抗网络技术本身的发展，迁移学习（Transfer Learning）、小样本学习（Few-Shot Learning）等技术的出现，现在仅需要几十张甚至单张照片就可以生成 Deepfake 视频。</p><p><img src="/005ztyuLly4hwtpgaoem5j60u00jzwfv02.jpg" alt="img"></p><p>图库版权图片，转载使用可能引发版权纠纷</p><p>另外，早期 Deepfake 只能生成画面，现在结合声音克隆（Voice Cloning）、语音风格迁移（Voice Style Transfer）等技术，还可以生成以假乱真的目标人物声音，并且可以令视频中的嘴部动作和声音一致。</p><p>简单来说，<strong>现在只需要有一张照片，几秒钟的语音，就可以生成 Deepfake 视频。</strong>当然，如果有更多照片和更长的语音，生成的视频也会更逼真。</p><p><strong>Deepfake 技术的</strong></p><p><strong>正面应用和负面影响</strong></p><p>Deepfake 虽然是“伪造”，但在获得被“伪造”者许可的情况下，可以有很多正面的应用。例如，2019 年，英国足球明星大卫·贝克汉姆发布了一段呼吁消灭疟疾的视频。在视频中，他使用了包括斯瓦希里语和约鲁巴语等在内的 9 种语言。而除了英语之外，其余 8 种语言都是用 Deepfake 技术生成的。</p><p>此外，Deepfake 所使用的各类技术在数字人等领域也有广泛应用，在视频主播、影视制作、教育和培训、心理治疗康复等领域都能发挥积极的作用。</p><p><strong>但任何技术都可能被用在不好的地方。</strong>在前面提到的假张文宏之前，已经出现过假靳东、假马云、假雷军、假于东来等。假冒名人卖货不是最糟糕的，<strong>Deepfake 类技术还被用在很多更恶劣的地方，例如诈骗。</strong></p><p>2024 年 12 月 20 日，BBC 报道了一则《爱情骗子利用 Deepfake 从我这里骗走 1.7 万英镑》的故事。受害人是 77 岁的尼基·麦克劳德（Nikki MacLeod）。骗子告诉她，自己在一座石油钻井平台上工作，并要求 Nikki 购买 Steam 礼品卡以及通过 Paypal 转账等方式提供金钱，以便在钻井平台上获得互联网连接，以及支付到苏格兰来见她的旅行费用。Nikki 最初持怀疑态度，但看到对方发来的钻井平台上的视频后就相信了。</p><p>2024 年 1 月，某香港公司的一名员工从公司账户转了 2500 万美元给诈骗者。骗子以首席财务官的名义和他进行了视频通话，要求他执行这笔转账。在视频通话中，该员工不仅看到了首席财务官“本人”，甚至还看到了其它“同事”。</p><p>据著名会计师事务所德勤 2024 年 5 月发布的一份报告，2023 年美国的 Deepfake 欺诈增加了 700%，造成了 123 亿美元的损失，并且这一数字在 2027 年可能会达到 400 亿美元。</p><p><img src="/005ztyuLly4hwtpgbm424j60u00hcgms02.jpg" alt="img"></p><p>图库版权图片，转载使用可能引发版权纠纷</p><p>除了诈骗之外，Deepfake 技术可以还被用来骗过人脸识别。很多移动应用会使用人脸识别来验证用户身份。为防止用照片假冒人脸，现在的人脸识别技术通常都会进行活体检测，类似 3D 结构光等活体识别技术需要特殊硬件，但只有部分手机支持。</p><p>目前，很多场合使用的还是基于手机前置摄像头的 2D 人脸识别。而 2D 人脸识别的活体检测主要是要求用户做出眨眼、点头等动作，以及用屏幕闪烁特定颜色的光线。于是就有人使用 Deepfake 技术结合一些其它的手段，来骗过人脸识别，从而盗取网络账号。</p><p><strong>如何识别和检测 Deepfake 视频？</strong></p><p><strong>制作不够精良的 Deepfake 视频用肉眼就可看出异常。</strong>例如，人物的面部表情或眼神不自然，眨眼的次数过少，面部边缘模糊，或者与背景的过渡不自然，人脸的光影效果与周围环境的光线情况不符等。但是，随着 Deepfake 技术的进步，这些异常特征也越来越少。</p><p>目前已知的 Deepfake 技术能仿冒人脸做出的表情，但还不能仿冒人脸在受到外部压力时产生的变形。所以，在视频通话时，如果怀疑遭到了 Deepfake 欺诈，可以要求对方用食指按压一侧的鼻翼，或按压一侧的脸颊。</p><p><strong>除了肉眼分辨，用 AI 来识别 AI 生成的内容也是热门的研究方向。</strong>例如合成视频可能在帧与帧之间存在不连续性，进行时序一致性分析就可能发现异常。另外，人的心脏跳动会导致皮肤出现和脉搏节律一致的细微色彩变化，通过这种色彩变化可以获取脉搏信息，而 Deepfake 的视频可能没有这种特征。</p><p>但我们也要意识到，Deepfake 使用的生成式对抗网络技术本来就是由生成器和判别器两部分组成，任何一种检测 Deepfake 的技术手段也都可以纳入到 Deepfake 的判别器中，从而生成该技术难以检测的伪造内容。</p><p><img src="/005ztyuLly4hwtpgca9etj60u00k0dh702.jpg" alt="img"></p><p>图库版权图片，转载使用可能引发版权纠纷</p><p>近年来，我国颁布实施了《互联网信息服务深度合成管理规定》《生成式人工智能服务管理暂行办法》等，但这些法律法规主要约束的是提供相关服务的平台。而随着软硬件技术的发展，目前 Deepfake 完全可以只使用运行在个人电脑中的模型完成。</p><p>所以，<strong>要应对 Deepfake 带来的各类问题，需要全流程的综合治理机制，未来需要技术、平台、法律的多元协同。</strong>用 Deepfake 假冒名人身份，欺骗他人购买产品，不仅可能违反《民法典》第 1019 条和第 1024 条，侵犯他人的肖像权、名誉权，还可能涉及《刑法》第 266 条诈骗罪、《刑法》第 222 条虚假广告罪等。对于使用 Deepfake 涉及违法乃至犯罪的行为，就需要依法进行打击。</p><h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><p>【1】科普中国  AI 造假术！揭秘这项技术背后的真相 12-22 15:10</p><p><a href="https://weibo.com/ttarticle/x/m/show#/id=2309405114399823364195&_wb_client_=1">https://weibo.com/ttarticle/x/m/show#/id=2309405114399823364195&amp;_wb_client_=1</a></p>]]></content>
    
    
    <categories>
      
      <category>infomationCocoon</category>
      
      <category>tk</category>
      
    </categories>
    
    
    <tags>
      
      <tag>infomationCocoon</tag>
      
      <tag>tk</tag>
      
      <tag>AI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>被野生松鼠咬的处理方案</title>
    <link href="/2024/12/30/informationCocoon/medical/%E8%A2%AB%E9%87%8E%E7%94%9F%E6%9D%BE%E9%BC%A0%E5%92%AC%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88/"/>
    <url>/2024/12/30/informationCocoon/medical/%E8%A2%AB%E9%87%8E%E7%94%9F%E6%9D%BE%E9%BC%A0%E5%92%AC%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%A1%88/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>尽管暴露于啮齿类动物导致狂犬病的可能性微乎其微，但是面对「野生松鼠」致伤时，一方面仍然应该考虑进行暴露后处置（包括狂犬病、破伤风疫苗接种，以及被动免疫制剂使用），另一方面也应该考虑对致伤动物进行狂犬病毒检测，从而确认感染风险以及在必要情况下调整处置方案。</p><h1 id="分析过程"><a href="#分析过程" class="headerlink" title="分析过程"></a>分析过程</h1><p>#男生手喂公园松鼠被挠伤挨5针花1千# 这个事情的对错可能会比较颠覆既往的一些认知。</p><p>先说一个比较尴尬的事实：虽然被啮齿类动物咬伤后，通常不需要接种狂犬病疫苗，但全世界有两个国家被记录过「松鼠」相关的人类狂犬病案例。</p><p>▌病例1来自印度</p><p>印度特里凡得琅医学学院SAT医院儿科报告了喀拉拉邦一名「过去没有被任何其他动物咬伤的病史」的7岁男孩出现发热、咳嗽、烦躁不安、进食困难以及在喝水时表现出攻击性行为就诊，症状已持续2天。两个月前，患儿右腿曾被松鼠咬伤，并在当地医院接受了破伤风疫苗注射和伤口处理，但「未接种」狂犬病疫苗。</p><p>患儿在重症监护室接受「支持性治疗」，但病情持续恶化，最终在「入院4小时」后因心肺功能衰竭死亡。角膜印片免疫荧光检测结果为狂犬病阳性</p><p>▌病例2来自中国</p><p>我国「中疾控病毒所」的研究显示：2005年至2012年，我国30个省报告了19,221例狂犬病病例，主要发生在中国南部和东部的农村地区，大多与农民、学生和学龄前儿童有关。在对2010年至2011年报告的「死亡病例」的详细分析中发现，这些人类狂犬病病例主要因暴露于狗（93.7%）和猫（4.6%）所致，其余则与其他家畜和野生动物有关，包括马、猪、老鼠和「松鼠」。</p><p>需要注意的是，大多数报告的人类狂犬病病例都是「临床诊断」，而没有经过实验室检测，上述信息基于2010年至2011年疑似人类狂犬病病例的流行病学和暴露后处置的治疗数据。</p><p>▌差点出现的病例3</p><p>根据印度喜马偕尔邦西姆拉卡苏帕提帕里马哈尔州卫生与家庭福利研究所发布的信息，2019年8月10日，「斯里兰卡科伦坡」一名9岁男孩在右手食指中部被松鼠咬伤，但「伤口没有出血」，但有一小块皮肤剥落。医生将其评估为Ⅱ级暴露，并启动「两点皮内（ID）疫苗接种」作为暴露后预防（斯里兰卡这种免疫程序一共要打4次，每次2针皮内注射，可以减少疫苗抗原使用）。</p><p>当天中午「松鼠死亡」，其头部被送往科伦坡斯里兰卡医学研究所的实验室进行狂犬病检测。8月13日，实验室通过荧光抗体试验（FAT）报告（编号H 898，日期13&#x2F;08&#x2F;2019）确认松鼠为「狂犬病毒阳性」！</p><p>孩子的父母「带着报告」再次前往医院与医生会面并沟通接种被动免疫制剂。医生表示，由于伤口表浅且属于Ⅱ级暴露，不需要注射狂犬病免疫球蛋白（RIG），因为RIG可能带来的副作用风险不值得冒。尽管斯里兰卡的医院配备了人用狂犬病免疫球蛋白（HRIG），医生仍认为不应冒过敏反应（如过敏性休克）的风险。因此，在当天即8月13日按计划接种了第二剂皮内疫苗，而「未使用」RIG。</p><p>此后，斯里兰卡的儿童家长给「印度医生」发邮件并得到肯定的回复（需要使用RIG）后，在他们的坚持下给儿童注射了RIG，最终大幅降低了这名9岁儿童的狂犬病发病风险。这一切的结果，来源于家长的坚持和努力。</p><p>▌本次案例分析</p><p>在本次案例中，伤者被野生松鼠攻击后出现手指出血的情况，根据暴露等级属于「Ⅲ级暴露，结合我国对动物狂犬病毒监测水平以及既往在国内出现过疑似暴露于松鼠相关的人类狂犬病病例背景，医院采取狂犬病疫苗接种可以说是「正确」的方案。</p><p>然而有以下几点值得关注：</p><p>②是否使用被动免疫制剂：在面对松鼠所致的暴露时，如果认为需要进行狂犬病疫苗接种，那么按照标准Ⅲ级暴露的处置方式，也应该使用被动免疫制剂（比如免疫球蛋白或单克隆抗体），而新闻提到的数字是「5针和1000元」，那么根据价格计算可能未使用被动免疫制剂；</p><p>②是否属于再次暴露：如果伤者既往因全程接种过狂犬病疫苗而不适用被动免疫制剂，那么就不应该接种5针狂犬病疫苗，而是「2针」，那么如果其余3针是破伤风疫苗的话，价格也不太对；</p><p>③是否进行破伤风暴露后处置：被松鼠致伤后，除了进行狂犬病暴露后处置外，还应该进行「破伤风暴露后处置」，但从接种针次来看似乎也并不成立，也就是可能「没有」进行破伤风暴露后处置。</p><p>当然除了一些疑惑点之外，还是有积极的方面。</p><p>值得表扬的是，视频里云南大学附属医院开具的《狂犬病·破伤风预防处置知情同意书》是一个非常不错的文件，因为很多的狂犬病暴露后处置都应该伴随破伤风暴露后处置，只不过很少被提及，而这个知情同意书做的非常好。</p><p>▌小结</p><p>尽管国家卫健委发布的《常见动物致伤诊疗规范》中提到「啮齿类和免形目动物极少感染狂犬病，目前无导致人类狂犬病病例的证据」，但事实上尽管证据有限且质量不高（印度的没有对动物狂犬病毒感染情况进行检测，中国采用的是病例记录信息而非病毒检测结果），但也提示了《规范》中的表述「并不严谨」。</p><p>综上，尽管暴露于啮齿类动物导致狂犬病的可能性微乎其微，但是面对「野生松鼠」致伤时，一方面仍然应该考虑进行暴露后处置（包括狂犬病、破伤风疫苗接种，以及被动免疫制剂使用），另一方面也应该考虑对致伤动物进行狂犬病毒检测，从而确认感染风险以及在必要情况下调整处置方案。</p><h1 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h1><p>【1】</p><p><a href="https://weibo.com/1803648617/5116944095646116">https://weibo.com/1803648617/5116944095646116</a></p>]]></content>
    
    
    <categories>
      
      <category>infomationCocoon</category>
      
      <category>medical</category>
      
    </categories>
    
    
    <tags>
      
      <tag>infomationCocoon</tag>
      
      <tag>medical</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cissp-密码学和对称密钥算法</title>
    <link href="/2024/12/27/security/seccert/cissp/cissp-%E5%AF%86%E7%A0%81%E5%AD%A6%E5%92%8C%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5%E7%AE%97%E6%B3%95/"/>
    <url>/2024/12/27/security/seccert/cissp/cissp-%E5%AF%86%E7%A0%81%E5%AD%A6%E5%92%8C%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>密码可为已存储（<strong>静态</strong>）、通过网络传输（<strong>传输中&#x2F;动态</strong>）和存在于内存（<strong>使用中&#x2F;处理中</strong>）的敏感信息提供<strong>保密性</strong>、<strong>完整性</strong>、<strong>身份认证</strong>和<strong>不可否认性</strong>保护</p><h2 id="密码学基本知识"><a href="#密码学基本知识" class="headerlink" title="密码学基本知识"></a>密码学基本知识</h2><h3 id="密码学的目标"><a href="#密码学的目标" class="headerlink" title="密码学的目标"></a>密码学的目标</h3><h4 id="保密性confidentiality"><a href="#保密性confidentiality" class="headerlink" title="保密性confidentiality"></a>保密性confidentiality</h4><h5 id="保密性目标"><a href="#保密性目标" class="headerlink" title="保密性目标"></a>保密性目标</h5><p>确保数据在静态、传输中和使用中等三种不同状态下始终保持私密。</p><p>保密性是指为了存储的信息或个人和群体之间的通信保守秘密。</p><h5 id="保密性实现"><a href="#保密性实现" class="headerlink" title="保密性实现"></a>保密性实现</h5><h6 id="对称密码系统symmetric-cryptosystem"><a href="#对称密码系统symmetric-cryptosystem" class="headerlink" title="对称密码系统symmetric cryptosystem"></a>对称密码系统symmetric cryptosystem</h6><p>使用一个共享秘密密钥，提供给密码系统的所有用户。</p><h6 id="非对称密码系统asymmertric-cryptosystem"><a href="#非对称密码系统asymmertric-cryptosystem" class="headerlink" title="非对称密码系统asymmertric cryptosystem"></a>非对称密码系统asymmertric cryptosystem</h6><p>使用为系统每个用户单独组合的公钥和私钥。</p><h5 id="保密性关注的数据"><a href="#保密性关注的数据" class="headerlink" title="保密性关注的数据"></a>保密性关注的数据</h5><h6 id="静态数据（data-at-rest）"><a href="#静态数据（data-at-rest）" class="headerlink" title="静态数据（data at rest）"></a>静态数据（data at rest）</h6><p>被存储的数据，是指驻留在一个永久位置上等待被访问的数据。</p><p>硬盘、备份磁带、云存储服务、USB装置和其他存储介质中的数据</p><p>容易受到物理设备盗窃的影响。</p><h6 id="动态数据（data-in-montion）"><a href="#动态数据（data-in-montion）" class="headerlink" title="动态数据（data in montion）"></a>动态数据（data in montion）</h6><p>线路上的数据（线路是指承载数据通信的网络电缆），是指正在两个系统之间通过网络传送的数据。</p><p>通过公司网络、无线网络或互联网传送的数据</p><p>容易受到窃听的影响。</p><h6 id="使用中的数据（data-in-use）"><a href="#使用中的数据（data-in-use）" class="headerlink" title="使用中的数据（data in use）"></a>使用中的数据（data in use）</h6><p>是指保存在计算机系统活跃内存中，可供系统中运行的进程访问的数据</p><p>容易受到未经授权的进程访问（如果操作系统没有适当隔离不同进程）</p><h4 id="完整性integrity"><a href="#完整性integrity" class="headerlink" title="完整性integrity"></a>完整性integrity</h4><h5 id="完整性目标"><a href="#完整性目标" class="headerlink" title="完整性目标"></a>完整性目标</h5><p>确保数据没有在未经授权的情况下被更改。</p><p>如果完整性机制正常运行，消息的接收者可确定，收到的消息和发出的消息相同。</p><p>完整性检查可确保被存储数据自创建起到被访问时不曾有过更改。</p><p>完整性控制抵御所有形式的更改，其中包括第三方试图插入假信息时进行的有意篡改、有意删除部分数据和因传输过程中的故障而发生的无意更改。</p><h5 id="完整性实现"><a href="#完整性实现" class="headerlink" title="完整性实现"></a>完整性实现</h5><p>通过使用加密的消息摘要来实现，也被称为数据签名（digital signature）</p><h6 id="公钥"><a href="#公钥" class="headerlink" title="公钥"></a>公钥</h6><h6 id="秘密密钥密码系统"><a href="#秘密密钥密码系统" class="headerlink" title="秘密密钥密码系统"></a>秘密密钥密码系统</h6><h4 id="身份认证authentication"><a href="#身份认证authentication" class="headerlink" title="身份认证authentication"></a>身份认证authentication</h4><h5 id="身份认证目标"><a href="#身份认证目标" class="headerlink" title="身份认证目标"></a>身份认证目标</h5><p>用于验证系统用户自称的身份，是密码系统的一项主要功能。</p><h4 id="不可否认性non-repudiation"><a href="#不可否认性non-repudiation" class="headerlink" title="不可否认性non-repudiation"></a>不可否认性non-repudiation</h4><h5 id="不可否认性目标"><a href="#不可否认性目标" class="headerlink" title="不可否认性目标"></a>不可否认性目标</h5><p>向接受者保证：消息发自发送者，而且没有人冒充发送者。</p><p>不可否认性还防止发送者声称自己绝对没有发送过消息（也叫否认消息）。</p><h5 id="不可否认性实现"><a href="#不可否认性实现" class="headerlink" title="不可否认性实现"></a>不可否认性实现</h5><p>公钥或非对称密钥系统提供</p><p>秘密密钥或对称密钥密码系统不提供不可否认性保障，因为参与者都是用的是共享密钥。</p><h3 id="密码学的概念"><a href="#密码学的概念" class="headerlink" title="密码学的概念"></a>密码学的概念</h3><h4 id="密码学术语"><a href="#密码学术语" class="headerlink" title="密码学术语"></a>密码学术语</h4><h5 id="明文消息P（plaintext）"><a href="#明文消息P（plaintext）" class="headerlink" title="明文消息P（plaintext）"></a>明文消息P（plaintext）</h5><h5 id="密文消息C（ciphertext）"><a href="#密文消息C（ciphertext）" class="headerlink" title="密文消息C（ciphertext）"></a>密文消息C（ciphertext）</h5><h5 id="加密（encrypt"><a href="#加密（encrypt" class="headerlink" title="加密（encrypt )"></a>加密（encrypt )</h5><h5 id="解密（decrypt）"><a href="#解密（decrypt）" class="headerlink" title="解密（decrypt）"></a>解密（decrypt）</h5><h5 id="密钥（key）"><a href="#密钥（key）" class="headerlink" title="密钥（key）"></a>密钥（key）</h5><p>所有的密码算法都靠密钥维持安全。</p><p>多数情况下，密钥是一个极大的二进制数。</p><p><strong>密钥空间</strong>：每种算法都有一个特定密钥空间（key space）。</p><p>密钥空间是一个特定的数值范围，而某一特定算法的密钥在这个范围内才有效。</p><p>密钥空间由位大小（bit size）决定，也就是密钥内二进制位（0 和 1）的数量。</p><p>密钥空间指的是从全 0 密钥到全 1 密钥的范围，也就是从 0 到 2 n 次方的数范围，其中 n 是密钥的位大小。</p><p>事实上，从密码得到的安全保护完全取决于为所用密钥保守秘密的能力。</p><h4 id="科克霍夫原则"><a href="#科克霍夫原则" class="headerlink" title="科克霍夫原则"></a>科克霍夫原则</h4><p>所有的密码都依赖算法，算法（algorithm）也就是一套规则，通常是数学规则，规定了加密和解密过程应该怎么进行。</p><p>科克霍夫原则（Kerckhoffs’s principle）也叫科克霍夫假说，只要密钥不被被人掌握，那么即便有关密码系统的一切都是公开的，密码系统也是安全的。</p><h4 id="私钥（也叫秘密密钥）密码系统"><a href="#私钥（也叫秘密密钥）密码系统" class="headerlink" title="私钥（也叫秘密密钥）密码系统"></a>私钥（也叫秘密密钥）密码系统</h4><p>所有参与者使用一个共享密钥</p><h4 id="公钥密码系统"><a href="#公钥密码系统" class="headerlink" title="公钥密码系统"></a>公钥密码系统</h4><p>每个参与者各有一个密钥对</p><h4 id="密码变量（cryptovariable）-密码密钥"><a href="#密码变量（cryptovariable）-密码密钥" class="headerlink" title="密码变量（cryptovariable）&#x3D;&#x3D; 密码密钥"></a>密码变量（cryptovariable）&#x3D;&#x3D; 密码密钥</h4><h4 id="密码术（cryptography）"><a href="#密码术（cryptography）" class="headerlink" title="密码术（cryptography）"></a>密码术（cryptography）</h4><p>创建和执行秘密代码和密码的技艺</p><h4 id="密码分析（cryptanalysis）"><a href="#密码分析（cryptanalysis）" class="headerlink" title="密码分析（cryptanalysis）"></a>密码分析（cryptanalysis）</h4><p>研究如何打败代码和密码</p><h4 id="密码学（cryptology）"><a href="#密码学（cryptology）" class="headerlink" title="密码学（cryptology）"></a>密码学（cryptology）</h4><p>密码术+密码分析</p><h4 id="密码系统（cryptosystem）"><a href="#密码系统（cryptosystem）" class="headerlink" title="密码系统（cryptosystem）"></a>密码系统（cryptosystem）</h4><p>一种代码或密码在硬件和软件中的具体实现</p><h3 id="密码数学"><a href="#密码数学" class="headerlink" title="密码数学"></a>密码数学</h3><h4 id="布尔数学（Boolean-mathermatics）"><a href="#布尔数学（Boolean-mathermatics）" class="headerlink" title="布尔数学（Boolean mathermatics）"></a>布尔数学（Boolean mathermatics）</h4><p>为用于构成任何计算机神经系统的位和字节定义了规则。</p><p>一般来说，计算机科学家把“开”状态称作真（true）值，把“关”状态称作假（false）值</p><p>0 &#x3D; FLASE</p><p>1 &#x3D; TRUE</p><h4 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h4><p>密码学涉及的布尔数学利用各种逻辑函数来操控数据。</p><h5 id="AND（与）"><a href="#AND（与）" class="headerlink" title="AND（与）"></a>AND（与）</h5><p>“AND”运算（用符号“^”表示）检查两个值是否都真</p><p>比较两个变量每列中的值，当列中的值都为真时，输出值才为真</p><h4 id="逻辑运算-1"><a href="#逻辑运算-1" class="headerlink" title="逻辑运算"></a>逻辑运算</h4>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>seccert</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>seccert</tag>
      
      <tag>cissp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mtr</title>
    <link href="/2024/12/27/network/networktools/mtr/"/>
    <url>/2024/12/27/network/networktools/mtr/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>mtr（My Traceroute）是一款非常有用的网络诊断工具，它结合了 traceroute 和 ping 的功能，可以用来追踪数据包到达目标主机所经过的路径，并同时显示每个跃点（hop）的丢包率和平均往返时间（RTT）。这对于诊断网络问题、了解网络延迟以及定位故障点非常有用。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Debian系统（Ubuntu-Debian）"><a href="#Debian系统（Ubuntu-Debian）" class="headerlink" title="Debian系统（Ubuntu\Debian）"></a>Debian系统（Ubuntu\Debian）</h3><pre><code class="hljs">sudo apt-get updatesudo apt-get install mtr</code></pre><h3 id="x20-Red-Hat系统（Fedora-CentOS-RHEL）"><a href="#x20-Red-Hat系统（Fedora-CentOS-RHEL）" class="headerlink" title="&#x20;Red Hat系统（Fedora, CentOS, RHEL）"></a>&#x20;Red Hat系统（Fedora, CentOS, RHEL）</h3><pre><code class="hljs">sudo dnf install mtrsudo yum install mtr</code></pre><h3 id="Mac系统"><a href="#Mac系统" class="headerlink" title="Mac系统"></a>Mac系统</h3><pre><code class="hljs">brew install mtr</code></pre><h3 id="安装验证"><a href="#安装验证" class="headerlink" title="安装验证"></a>安装验证</h3><pre><code class="hljs">mtr -c 5 8.8.8.8110.local (10.222.28.6) -&gt; 8.8.8.8 (8.8.8.8)                                         2024-07-30T14:55:57+0800Keys:  Help   Display mode   Restart statistics   Order of fields   quit                                                                     Packets               Pings Host                                                              Loss%   Snt   Last   Avg  Best  Wrst StDev 1. 10.222.28.254                                                   0.0%     3    5.9   8.7   5.9  12.9   3.7 2. 10.234.253.18                                                   0.0%     3    6.5   6.4   6.0   6.8   0.4 3. 10.234.253.109                                                  0.0%     3    8.9 111.4   8.9 316.5 177.6 4. 61.135.152.129                                                  0.0%     3    9.7  88.7   9.7 244.9 135.3 5. 192.168.255.5                                                  33.3%     3    9.6  10.0   9.6  10.4   0.6 6. 123.125.248.73                                                  0.0%     3   11.6  56.8  11.5 147.3  78.3 7. 221.216.106.109                                                66.7%     3    9.5   9.5   9.5   9.5   0.0 8. 202.96.12.53                                                   50.0%     3   11.4  11.4  11.4  11.4   0.0 9. 219.158.108.242                                                66.7%     3   47.7  47.7  47.7  47.7   0.010. 219.158.8.118                                                   0.0%     3   54.9  51.8  49.3  54.9   2.811. 219.158.103.26                                                  0.0%     3   54.4  53.3  50.9  54.5   2.012. 219.158.6.66                                                    0.0%     3   61.4  59.3  58.1  61.4   1.813. (waiting for reply)14. 162.245.124.254                                                 0.0%     2   60.0  61.6  60.0  63.2   2.315. ae-25.a00.chwahk03.hk.bb.gin.ntt.net                            0.0%     2   80.3  81.8  80.3  83.2   2.116. 203.131.250.82                                                  0.0%     2   52.2  52.9  52.2  53.6   1.017. 142.250.60.155                                                  0.0%     2   53.3  53.8  53.3  54.4   0.818. 108.170.232.111                                                 0.0%     2   51.6  53.1  51.6  54.7   2.219. dns.google         </code></pre><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><pre><code class="hljs">mtr [options] hostname_or_ip</code></pre><p>hostname_or_ip 要追踪的目标主机的域名或 IP 地址</p><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><h4 id="c-num-x20"><a href="#c-num-x20" class="headerlink" title="-c num&#x20;"></a>-c num&#x20;</h4><p>限制每个跃点的测试次数。默认情况下，mtr 会持续运行，直到手动停止。</p><h4 id="r-x20"><a href="#r-x20" class="headerlink" title="-r&#x20;"></a>-r&#x20;</h4><p>随机DNS解析结果，防止DNS污染</p><h4 id="w"><a href="#w" class="headerlink" title="-w"></a>-w</h4><p>宽屏幕模式</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><br><span class="hljs-attribute">HOST</span>: aliyun-<span class="hljs-number">39</span>_106_2_51                   Loss%   Snt   Last   Avg  Best  Wrst StDev<br>  <span class="hljs-attribute">1</span>.|-- <span class="hljs-number">10.36.72.158</span>                         <span class="hljs-number">25</span>.<span class="hljs-number">0</span>%    <span class="hljs-number">20</span>    <span class="hljs-number">1</span>.<span class="hljs-number">9</span>   <span class="hljs-number">2</span>.<span class="hljs-number">0</span>   <span class="hljs-number">1</span>.<span class="hljs-number">9</span>   <span class="hljs-number">2</span>.<span class="hljs-number">2</span>   <span class="hljs-number">0</span>.<span class="hljs-number">0</span><br>  <span class="hljs-attribute">2</span>.|-- <span class="hljs-number">11.73.7.186</span>                          <span class="hljs-number">75</span>.<span class="hljs-number">0</span>%    <span class="hljs-number">20</span>    <span class="hljs-number">2</span>.<span class="hljs-number">2</span>   <span class="hljs-number">2</span>.<span class="hljs-number">4</span>   <span class="hljs-number">2</span>.<span class="hljs-number">2</span>   <span class="hljs-number">2</span>.<span class="hljs-number">8</span>   <span class="hljs-number">0</span>.<span class="hljs-number">0</span><br>  <span class="hljs-attribute">3</span>.|-- <span class="hljs-number">10.102.252.34</span>                         <span class="hljs-number">0</span>.<span class="hljs-number">0</span>%    <span class="hljs-number">20</span>   <span class="hljs-number">15</span>.<span class="hljs-number">2</span>   <span class="hljs-number">2</span>.<span class="hljs-number">6</span>   <span class="hljs-number">1</span>.<span class="hljs-number">9</span>  <span class="hljs-number">15</span>.<span class="hljs-number">2</span>   <span class="hljs-number">3</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h3 id="结果解读"><a href="#结果解读" class="headerlink" title="结果解读"></a>结果解读</h3><pre><code class="hljs">Loss%：丢包百分比Snt：发送的数据包总数Last：最后一次测试的往返时间（RTT）Avg：平均往返时间（RTT）Best：最佳往返时间（RTT）Wrst：最差往返时间（RTT）IP address：跃点的 IP 地址</code></pre>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>traceroute</title>
    <link href="/2024/12/27/network/networktools/traceroute/"/>
    <url>/2024/12/27/network/networktools/traceroute/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="traceroute原理"><a href="#traceroute原理" class="headerlink" title="traceroute原理"></a>traceroute原理</h1><p>traceroute是一个网络诊断工具，主要用于跟踪 IP 数据包从源主机到目标主机所经过的路径。它通过发送一系列具有不同生存时间（TTL）值的 UDP 数据包（在某些情况下也可以是 ICMP 数据包）来实现路径追踪。</p><p>当一个数据包的 TTL 值减为 0 时，它会被当前路由器丢弃，并返回一个 ICMP “Time - Exceeded” 消息给源主机。通过分析这些返回的消息，<code>traceroute</code>就可以确定数据包经过的每个路由器的 IP 地址。</p><h1 id="traceroute命令及语法"><a href="#traceroute命令及语法" class="headerlink" title="traceroute命令及语法"></a>traceroute命令及语法</h1><h2 id="命令语法"><a href="#命令语法" class="headerlink" title="命令语法"></a>命令语法</h2><p>traceroute [选项] 目标主机名或目标IP</p><h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><h3 id="n"><a href="#n" class="headerlink" title="-n"></a>-n</h3><p>以数字形式显示IP地址，而不去进行DNS反查</p><h3 id="I（大写i）"><a href="#I（大写i）" class="headerlink" title="-I（大写i）"></a>-I（大写i）</h3><p>使用ICMP Echo请求代替UDP数据包进行探测，因为有些网络会限制UDP数据包</p><h3 id="m-NUM"><a href="#m-NUM" class="headerlink" title="-m NUM"></a>-m NUM</h3><p>设置最大跳数，即数据包最多经过的路由器数量。如果超过这个跳数还没有到达目标主机，traceroute 就会停止。例如，traceroute -m 10 8.8.8.8，表示最多追踪 10 个路由器。</p><h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><h3 id="初始阶段"><a href="#初始阶段" class="headerlink" title="初始阶段"></a>初始阶段</h3><p>traceroute发送第一个 UDP 数据包，其 TTL 值设置为 1。这个数据包到达路径上的第一个路由器后，TTL 值减为 0，路由器会返回一个 ICMP “Time - Exceeded” 消息给源主机。traceroute记录下这个路由器的 IP 地址，这就是路径中的第一跳。</p><h3 id="迭代过程"><a href="#迭代过程" class="headerlink" title="迭代过程"></a>迭代过程</h3><p>traceroute发送第二个 UDP 数据包，TTL 值设置为 2。这个数据包会经过第一个路由器（TTL 减为 1），然后到达第二个路由器（TTL 减为 0），第二个路由器返回 ICMP “Time - Exceeded” 消息，记录第二个路由器的 IP 地址，即第二跳。这个过程不断重复，每次增加 TTL 值，直到数据包到达目标主机或者达到设置的最大跳数。</p><h3 id="到达目标主机"><a href="#到达目标主机" class="headerlink" title="到达目标主机"></a>到达目标主机</h3><p>当 UDP 数据包最终到达目标主机时，目标主机可能会返回一个 ICMP “Port Unreachable” 消息（因为默认情况下traceroute使用的 UDP 端口可能没有在目标主机上打开），这表示已经成功追踪到目标主机。traceroute会记录下整个路径上的所有路由器的 IP 地址和相应的往返时间（RTT）。</p>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ping</title>
    <link href="/2024/12/27/network/networktools/ping/"/>
    <url>/2024/12/27/network/networktools/ping/</url>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pathping</title>
    <link href="/2024/12/27/network/networktools/pathping/"/>
    <url>/2024/12/27/network/networktools/pathping/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>Windows系统中命令</p>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>wireshark</title>
    <link href="/2024/12/27/network/networktools/wireshark/"/>
    <url>/2024/12/27/network/networktools/wireshark/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><h2 id="过滤ACK报文"><a href="#过滤ACK报文" class="headerlink" title="过滤ACK报文"></a>过滤ACK报文</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">tcp.flags.ack <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="过滤指定IP报文"><a href="#过滤指定IP报文" class="headerlink" title="过滤指定IP报文"></a>过滤指定IP报文</h2><p>显示所有目的ip或者来源ip为10.13.8.75的数据包</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">ip.addr <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">10.13</span>.<span class="hljs-number">8.75</span><br></code></pre></td></tr></table></figure><h2 id="过滤指定端口"><a href="#过滤指定端口" class="headerlink" title="过滤指定端口"></a>过滤指定端口</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">udp.port <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1900</span> <br></code></pre></td></tr></table></figure><p>显示所有目的端口和来源端口为1900端口的UDP的数据包</p><h2 id="过滤DNS报文"><a href="#过滤DNS报文" class="headerlink" title="过滤DNS报文"></a>过滤DNS报文</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">dns</span><br></code></pre></td></tr></table></figure><h2 id="过滤查询指定域名的DNS-Query"><a href="#过滤查询指定域名的DNS-Query" class="headerlink" title="过滤查询指定域名的DNS Query"></a>过滤查询指定域名的DNS Query</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">dns.qry.name <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;www.xiaohongshu.com&quot;</span><br></code></pre></td></tr></table></figure><h2 id="过滤特定-DNS-记录类型"><a href="#过滤特定-DNS-记录类型" class="headerlink" title="过滤特定 DNS 记录类型"></a>过滤特定 DNS 记录类型</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs abnf">dns.qry.type <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;A&quot;</span><br>dns.qry.type <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;AAAA&quot;</span><br>dns.qry.type <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;NS&quot;</span><br>dns.qry.type <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;TXT&quot;</span><br>dns.qry.type <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-string">&quot;MX&quot;</span><br></code></pre></td></tr></table></figure><h2 id="过滤多种协议报文-or"><a href="#过滤多种协议报文-or" class="headerlink" title="过滤多种协议报文 or"></a>过滤多种协议报文 or</h2><p>可以使用 or 关键字连接</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">udp or icmp</span><br></code></pre></td></tr></table></figure><h2 id="多个过滤条件拼接-or-and"><a href="#多个过滤条件拼接-or-and" class="headerlink" title="多个过滤条件拼接 or and"></a>多个过滤条件拼接 or and</h2><p>可以使用 or 、and关键字连接</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">udp or dns</span><br></code></pre></td></tr></table></figure><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">udp</span> <span class="hljs-keyword">and</span> dns<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tcpdump</title>
    <link href="/2024/12/27/network/networktools/tcpdump/"/>
    <url>/2024/12/27/network/networktools/tcpdump/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="i-网卡名"><a href="#i-网卡名" class="headerlink" title="-i 网卡名"></a>-i 网卡名</h3><p>抓取指定网卡数据包</p><p>-i any</p><p>-i eth0</p><h3 id="dst-port-端口号"><a href="#dst-port-端口号" class="headerlink" title="dst port 端口号"></a>dst port 端口号</h3><p>抓取指定目的端口数据包</p><p>dst port 80</p><h3 id="w-文件名-pcap"><a href="#w-文件名-pcap" class="headerlink" title="-w 文件名.pcap"></a>-w 文件名.pcap</h3><p>保存数据包到指定文件</p><p>-w test.pcap</p><h3 id="host-ip"><a href="#host-ip" class="headerlink" title="host ip"></a>host ip</h3><p>抓取与指定IP交互数据包</p><p>host 192.168.1.1</p><h3 id="c-num"><a href="#c-num" class="headerlink" title="-c num"></a>-c num</h3><p>抓取指定数量的数据包</p><h2 id="常见示例"><a href="#常见示例" class="headerlink" title="常见示例"></a>常见示例</h2><h3 id="抓取指定目的端口数据包"><a href="#抓取指定目的端口数据包" class="headerlink" title="抓取指定目的端口数据包"></a>抓取指定目的端口数据包</h3><pre><code class="hljs">tcpdump -i eth0 dst port 80</code></pre><h3 id="抓取与指定主机和指定目的端口交互的数据包"><a href="#抓取与指定主机和指定目的端口交互的数据包" class="headerlink" title="抓取与指定主机和指定目的端口交互的数据包"></a>抓取与指定主机和指定目的端口交互的数据包</h3><pre><code class="hljs">tcpdump -i eth0 host 10.185.16.237 and dst port 80</code></pre><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2><p>多个条件需要使用 and 连接</p><p>&#x9;host 192.168.1.1 and dst port 80</p>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>netcat</title>
    <link href="/2024/12/27/network/networktools/netcat/"/>
    <url>/2024/12/27/network/networktools/netcat/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="debain系统"><a href="#debain系统" class="headerlink" title="debain系统"></a>debain系统</h3><pre><code class="hljs">sudo apt-get install nmap</code></pre><h3 id="Red-Hat系统"><a href="#Red-Hat系统" class="headerlink" title="Red Hat系统"></a>Red Hat系统</h3><pre><code class="hljs">sudo yum install nmap-ncatsudo dnf install nmap-ncat</code></pre><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="l-–listen"><a href="#l-–listen" class="headerlink" title="-l –listen"></a>-l –listen</h3><p>开启监听，也就是处于监听端口的状态，并不会对外发起连接</p><h3 id="u-–udp"><a href="#u-–udp" class="headerlink" title="-u –udp"></a>-u –udp</h3><p>监听UDP协议端口，默认监听TCP协议</p><h3 id="p-–source-port-端口号"><a href="#p-–source-port-端口号" class="headerlink" title="-p –source-port 端口号"></a>-p –source-port 端口号</h3><p>指定源端口，也就是本地监听端口号</p><h3 id="v-–verbose-x20"><a href="#v-–verbose-x20" class="headerlink" title="-v –verbose&#x20;"></a>-v –verbose&#x20;</h3><p>Set verbosity level (can be used several times)</p><p>显示执行过程</p><pre><code class="hljs">[root@nvm-14yhwwkhnu5v0 ~]# ncat -lvp 443Ncat: Version 7.50 ( https://nmap.org/ncat )Ncat: Listening on :::443Ncat: Listening on 0.0.0.0:443^C[root@nvm-14yhwwkhnu5v0 ~]# ncat -lp 443</code></pre><h3 id="k-–keep-open"><a href="#k-–keep-open" class="headerlink" title="-k –keep-open"></a>-k –keep-open</h3><p>Accept multiple connections in listen mode</p><p>可以接受多个连接</p><p>默认是单线程的，只允许有单个连接</p><pre><code class="hljs">1、监听单线程443[root@nvm-14yhwwkhnu5v0 ~]# ncat -lvp 443Ncat: Version 7.50 ( https://nmap.org/ncat )Ncat: Listening on :::443Ncat: Listening on 0.0.0.0:443第一个连接➜  ~ telnet 10.2.2.63 443Trying 10.2.2.63...Connected to 10.2.2.63.Escape character is &#39;^]&#39;.第二个连接➜  /tmp telnet 10.2.2.63 443Trying 10.2.2.63...telnet: connect to address 10.2.2.63: Connection refusedtelnet: Unable to connect to remote host监听连接[root@nvm-14yhwwkhnu5v0 ~]# ncat -lvp 443Ncat: Version 7.50 ( https://nmap.org/ncat )Ncat: Listening on :::443Ncat: Listening on 0.0.0.0:443Ncat: Connection from 10.222.28.6.Ncat: Connection from 10.222.28.6:52072.2、监听多线程443[root@nvm-14yhwwkhnu5v0 ~]# ncat -lvkp 443Ncat: Version 7.50 ( https://nmap.org/ncat )Ncat: Listening on :::443Ncat: Listening on 0.0.0.0:443第一个连接➜  ~ telnet 10.2.2.63 443Trying 10.2.2.63...Connected to 10.2.2.63.Escape character is &#39;^]&#39;.第二个连接➜  /tmp telnet 10.2.2.63 443Trying 10.2.2.63...Connected to 10.2.2.63.Escape character is &#39;^]&#39;.监听连接[root@nvm-14yhwwkhnu5v0 ~]# ncat -lvkp 443Ncat: Version 7.50 ( https://nmap.org/ncat )Ncat: Listening on :::443Ncat: Listening on 0.0.0.0:443Ncat: Connection from 10.222.28.6.Ncat: Connection from 10.222.28.6:52190.Ncat: Connection from 10.222.28.6.Ncat: Connection from 10.222.28.6:52191.</code></pre><h3 id="w-–wait"><a href="#w-–wait" class="headerlink" title="-w –wait &lt;time&gt;"></a>-w –wait &lt;time&gt;</h3><p>Connect timeout</p><p>设置连接超时时间</p><h3 id="z-x20"><a href="#z-x20" class="headerlink" title="-z&#x20;"></a>-z&#x20;</h3><p>Zero-I&#x2F;O mode, report connection status only</p><p>没有任何输入输出的模式，只有在扫描通信端口时使用</p><h3 id="n-–nodns"><a href="#n-–nodns" class="headerlink" title="-n –nodns"></a>-n –nodns</h3><p>Do not resolve hostnames via DNS</p><p>不使用DNS解析主机名</p><h2 id="常见示例"><a href="#常见示例" class="headerlink" title="常见示例"></a>常见示例</h2><h3 id="监听UDP端口"><a href="#监听UDP端口" class="headerlink" title="监听UDP端口"></a>监听UDP端口</h3><pre><code class="hljs">ncat --listen --udp 443</code></pre><h3 id="扫描端口开放情况"><a href="#扫描端口开放情况" class="headerlink" title="扫描端口开放情况"></a>扫描端口开放情况</h3><h4 id="TCP端口"><a href="#TCP端口" class="headerlink" title="TCP端口"></a>TCP端口</h4><pre><code class="hljs">nc -zvw time(s) IP sport-eport</code></pre><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>networktools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>networktools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>yuangekecheng</title>
    <link href="/2024/12/26/security/secstudy/yuangekecheng/"/>
    <url>/2024/12/26/security/secstudy/yuangekecheng/</url>
    
    <content type="html"><![CDATA[<p>中级班课程目录</p><p>一、溢出利用<br>1、平台演示<br>2、exp代码框架、SHELLCODE编写<br>3、溢出通道对抗防火墙<br>4、异常链表对抗堆栈COOKIES保护技术<br>5、溢出跳转、兼容技术<br>6、堆溢出利用<br>7、溢出程序跟踪调试<br>8、一些典型溢出漏洞分析<br>9、RPC编程简单介绍<br>10、RPC的漏洞利用<br>11、一些典型的RPC漏洞分析<br>12、更多的利用代码包括RPC漏洞利用代码<br>二、漏洞挖掘<br>1、漏洞研究<br>2、数据流挖掘技术<br>3、FUZZ技术<br>4、关键API、系统特性<br>5、内核漏洞挖掘和利用技术<br>三、总结提高<br>1、前面内容的一些补充<br>2、高级DVE对抗技术<br>3、xp挑战赛对抗360沙箱技术</p><p>高级班课程目录</p><p>一、溢出利用<br>1、平台演示<br>2、exp代码框架、SHELLCODE编写<br>3、溢出通道对抗防火墙<br>4、异常链表对抗堆栈COOKIES保护技术<br>5、溢出跳转、兼容技术<br>6、堆溢出利用<br>7、溢出程序跟踪调试<br>8、一些典型溢出漏洞分析，更多一些<br>9、RPC编程简单介绍<br>10、RPC的漏洞利用<br>11、一些典型的RPC漏洞分析<br>12、更多的利用代码包括RPC漏洞利用代码，比中级班再更多<br>二、漏洞挖掘<br>1、漏洞研究<br>2、数据流挖掘技术<br>3、FUZZ<br>4、关键API、系统特性<br>5、内核漏洞挖掘和利用技术<br>6、RPC漏洞的挖掘<br>7、RPC漏洞挖掘的小工具<br>三、总结提高<br>1、前面内容的一些补充<br>2、高级DVE对抗技术<br>3、xp挑战赛对抗360沙箱技术<br>4、调试技术<br>5、安全模型和安全本质理解</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>secstudy</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>secstudy</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>weibo_video_download</title>
    <link href="/2024/12/26/yunwei/yunweitips/weibo_video_download/"/>
    <url>/2024/12/26/yunwei/yunweitips/weibo_video_download/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>微博中存在部分视频内容由于设置无法直接下载</p><h2 id="下载步骤"><a href="#下载步骤" class="headerlink" title="下载步骤"></a>下载步骤</h2><p>1、edge观看视频，右击“检查”，查看网络-&gt;媒体，复制对应的链接</p><p><img src="/image-20241226101057449.png" alt="image-20241226101057449"></p><p>2、直接访问复制的链接，会返回 403 </p><p><img src="/image-20241226101211385.png" alt="image-20241226101211385"></p><p>3、增加referer后可以正常访问</p><p><img src="/image-20241226101304944.png" alt="image-20241226101304944"></p><p>4、右击视频，点击“另存视频为”即可下载视频</p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweitips</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweitips</tag>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>secops_bas</title>
    <link href="/2024/12/26/security/secops/secops_bas/"/>
    <url>/2024/12/26/security/secops/secops_bas/</url>
    
    <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>入侵和攻击模拟（BAS）</p><p>BAS是一种先进的信息安全技术，它通过模拟真实的攻击场景来评估和提高组织的网络安全防御能力。与传统的渗透测试和漏洞管理工具相比，BAS有着显著的不同之处。传统的渗透测试通常是由安全团队执行的一系列预先计划好的攻击行动，旨在发现系统中的漏洞并评估其严重性。而BAS则更加动态和全面，它不仅模拟攻击行为，还模拟了数据泄露的过程。这使得BAS能够更加真实地反映出安全防御在实际攻击面前的反应和表现。</p><p>BAS的攻击模拟是持续进行的，它不会只在特定时间进行一次性的测试，而是像持续的网络安全监控一样运行。BAS能够及时地检测和评估组织对于新出现的威胁的防御能力。使用BAS的目的是为了确保安全措施能够在不断变化的威胁环境中有效运作。这种模拟攻击可以验证安全策略、检测潜在的弱点，并提供实时反馈，帮助组织改善其安全防御。</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>secops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>secops</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>awk</title>
    <link href="/2024/12/25/yunwei/yunweicommands/awk/"/>
    <url>/2024/12/25/yunwei/yunweicommands/awk/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><h3 id="分割字符串"><a href="#分割字符串" class="headerlink" title="&#x2F; 分割字符串"></a>&#x2F; 分割字符串</h3><p>需要对多行URL的文本切割，输出域名，输出下标从1开始</p><p>cat filename.txt | awk -F ‘&#x2F;‘ ‘{print $3}’</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://umeay.com/名单.bat<br>https://qqfnmasqq.bond/电子普票.rar<br>https://ehfof.shop/查阅8080.exe<br><br>➜  内网安全 <span class="hljs-built_in">cat</span> yhioc20241225.txt| awk -F <span class="hljs-string">&#x27;/&#x27;</span> <span class="hljs-string">&#x27;&#123;print $3&#125;&#x27;</span><br>umeay.com<br>qqfnmasqq.bond<br>ehfof.shop<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweicommands</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweicommands</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>delete_file_null_line</title>
    <link href="/2024/12/25/yunwei/yunweitips/delete_file_null_line/"/>
    <url>/2024/12/25/yunwei/yunweitips/delete_file_null_line/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="sed命令"><a href="#sed命令" class="headerlink" title="sed命令"></a>sed命令</h3><p>brew install coreutils 安装</p><h3 id="vim命令"><a href="#vim命令" class="headerlink" title="vim命令"></a>vim命令</h3><p>进入vim，输入以下命令删除空行</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:g/^</span><span class="hljs-variable">$/</span>d<br></code></pre></td></tr></table></figure><h3 id="sublime"><a href="#sublime" class="headerlink" title="sublime"></a>sublime</h3><p><strong>mac</strong></p><p>1、option+command+F 打开查找和替换窗口</p><p>2、查找框输入 ^\n</p><p>^ 表示行的开头</p><p>\n 表示换行符</p><p>3、替换框确保为空</p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweitips</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweitips</tag>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tk_group_message</title>
    <link href="/2024/12/24/informationCocoon/tk_group_message/"/>
    <url>/2024/12/24/informationCocoon/tk_group_message/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="2024-12-23"><a href="#2024-12-23" class="headerlink" title="2024.12.23"></a>2024.12.23</h2><h3 id="砂糖橘不能吃的微博解读"><a href="#砂糖橘不能吃的微博解读" class="headerlink" title="砂糖橘不能吃的微博解读"></a>砂糖橘不能吃的微博解读</h3><h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>砂糖橘不能吃的微博</p><h4 id="TK解读"><a href="#TK解读" class="headerlink" title="TK解读"></a>TK解读</h4><p>首先，这条微博是在咋呼。但又不能说他在撒谎。</p><p><img src="/2024/12/24/informationCocoon/tk_group_message/27A87621-AECA-4D9C-8CC1-B3D136380408.png" alt="27A87621-AECA-4D9C-8CC1-B3D136380408"></p><p>他把nature那篇论文和别的一些东西揉到一起说了</p><p>这条微博在引流技巧的使用上是是教科书式的。因为</p><p>nature那篇论文我之前看过，讲的是果糖被转换为几种脂质后，可以被肿瘤细胞利用。</p><p>但如果一上来讲这个，很多人一看就脑子涨。</p><p>所以你们看，这条微博从头到尾没提具体细节，就是果糖、肿瘤。大家都能看懂。</p><p>但光是果糖、肿瘤，也还不够</p><p>但“砂糖橘真的不能再吃了”这就很到位</p><p>果糖、肿瘤这些词对一些人来说也会导致脑子涨。但“砂糖橘真的不能再吃了”这种句子大家都喜闻乐见。</p><p>虽然说使用脱酸剂的是柑橘类水果，但“柑橘类水果”这几个字就不如“沙糖桔”来的厉害。</p><p>所以，那条微博是精心设计的引流文。每个地方都不是随便写的。</p>]]></content>
    
    
    <categories>
      
      <category>infomationCocoon</category>
      
      <category>tk</category>
      
    </categories>
    
    
    <tags>
      
      <tag>infomationCocoon</tag>
      
      <tag>tk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tk_wb_blog</title>
    <link href="/2024/12/24/informationCocoon/tk_wb_blog/"/>
    <url>/2024/12/24/informationCocoon/tk_wb_blog/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="2018-1-29"><a href="#2018-1-29" class="headerlink" title="2018.1.29"></a>2018.1.29</h2><p>“保持好奇心”这个说法暗示了好奇心是一种先天的、易失的东西。如果现在有，必须努力保持才不会失去；而如果现在没有，就永远不会有。 </p><p><a href="https://weibo.com/1401527553/4201572646302667">https://weibo.com/1401527553/4201572646302667</a></p><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/image-20241224145809209.png" alt="image-20241224145809209"></p><h2 id="2018-6-17"><a href="#2018-6-17" class="headerlink" title="2018.6.17"></a>2018.6.17</h2><p>兴趣是产生自驱力的源头，但光靠兴趣无法维持自驱力。能为自驱力源源不断提供能量的必然是更强大的东西：好奇心和野心。 </p><p><a href="https://weibo.com/1401527553/4255510397959170">https://weibo.com/1401527553/4255510397959170</a></p><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/image-20241224150044001.png" alt="image-20241224150044001"></p><h2 id="2022-9-28"><a href="#2022-9-28" class="headerlink" title="2022.9.28"></a>2022.9.28</h2><p>有人想不通贾跃亭为什么到今天还要造车。</p><p>贾跃亭必须造车。普京必须打乌克兰。乾隆必须凑十全武功。这个用咱们过日子人的心去想是想不明白的。</p><p>好大喜功和雄才伟略之间的区别主要是干没干成。没干成就是好大喜功，干成了就是雄才伟略。</p><p>所以前面的例子只能举到乾隆。因为十全武功虽然凑成了，但比较勉强。后世夸得少，笑的多。所以说乾隆好大喜功不会有很多人反对。要是举了秦皇汉武的例子，挨骂的就是我了。我们从来不用“好大喜功”形容成功者。</p><p>其实，如果一个人不“好大喜功”，或者用现代词儿说叫“强烈的成就动机”，又怎么能做成大事呢？靠狗屎运吗？所以，单单“好大喜功”其实没什么不对。成功人士都好大喜功。</p><p>当然，说“好大喜功”等于“雄才伟略”其实也不对。“好大喜功”只对应了“伟略”。有伟略，还得有雄才。那么，即便最后没成，大家也认为是时也运也命也，不至于给个好大喜功的评价。诸葛亮五次北伐都没搞成，后人也不说他好大喜功，只说他鞠躬尽瘁。</p><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/image-20241224150406643.png" alt="image-20241224150406643"></p><p><a href="https://weibo.com/6827625527/4818648269064364">https://weibo.com/6827625527/4818648269064364</a></p><h2 id="2023-4-12"><a href="#2023-4-12" class="headerlink" title="2023.4.12"></a>2023.4.12</h2><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/007s41inly1hwvrayrmu0j30u011i7aq.jpg" alt="img"></p><h2 id="2024-5-7"><a href="#2024-5-7" class="headerlink" title="2024.5.7"></a>2024.5.7</h2><p><a href="https://weibo.com/6827625527/5031372701569943">https://weibo.com/6827625527/5031372701569943</a></p><p>我所在的某个群，里面主要是文艺工作者和科技工作者，以文艺工作者为主。搞书画的，搞雕塑的，搞音乐的，搞建筑的，搞时装的，主持人，作家，导演，啥都有。科技工作者从院士、科技企业家到我这样的小虾米，也是啥都有。</p><p>虽然这种群里大家说话不会太直接，不过还是可以感觉到气氛和社会主流思潮不太一样。他们就像所有时间所有空间的大多数艺术家和知识分子，真实的一面不怎么讨人喜欢。或者说，“脱离群众”。</p><p>有人问一个导演：你的那个作品在国内能上吗？导演说：等通知吧。</p><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/image-20241224112629346.png" alt="image-20241224112629346"></p><p>。。。。。</p><p>。。。。。</p><h2 id="2024-12-24"><a href="#2024-12-24" class="headerlink" title="2024.12.24"></a>2024.12.24</h2><p>美国购物网站上有些商品页面能看到这样的免责声明 :</p><p>“本产品含有加利福尼亚州已知会导致癌症和出生缺陷或其他生殖危害的化学物质。”</p><p>这是加州 65 号提案也就是《1986 年安全饮用水和有毒物质执行法案》的要求。好在国内知道的人不多，要不然用这种当证据，能把一大堆产品都打成沙糖桔。</p><p><img src="/2024/12/24/informationCocoon/tk_wb_blog/image-20241224101623194.png" alt="image-20241224101623194"></p>]]></content>
    
    
    <categories>
      
      <category>infomationCocoon</category>
      
      <category>tk</category>
      
    </categories>
    
    
    <tags>
      
      <tag>infomationCocoon</tag>
      
      <tag>tk</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>life_yl</title>
    <link href="/2024/12/24/life/life_yl/"/>
    <url>/2024/12/24/life/life_yl/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="流感"><a href="#流感" class="headerlink" title="流感"></a>流感</h3><p>罗氏出品-玛巴洛沙韦干混悬剂：5 岁以上都可以用</p><p>罗氏出品-速福达</p><p>来自TK茧房群</p>]]></content>
    
    
    <categories>
      
      <category>life</category>
      
      <category>yiliao</category>
      
    </categories>
    
    
    <tags>
      
      <tag>life</tag>
      
      <tag>yiliao</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cissp-实现安全治理的原则和策略</title>
    <link href="/2024/12/24/security/seccert/cissp/cissp-%E5%AE%9E%E7%8E%B0%E5%AE%89%E5%85%A8%E6%B2%BB%E7%90%86%E7%9A%84%E5%8E%9F%E5%88%99%E5%92%8C%E7%AD%96%E7%95%A5/"/>
    <url>/2024/12/24/security/seccert/cissp/cissp-%E5%AE%9E%E7%8E%B0%E5%AE%89%E5%85%A8%E6%B2%BB%E7%90%86%E7%9A%84%E5%8E%9F%E5%88%99%E5%92%8C%E7%AD%96%E7%95%A5/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="评估和应用安全治理原则"><a href="#评估和应用安全治理原则" class="headerlink" title="评估和应用安全治理原则"></a>评估和应用安全治理原则</h3><h4 id="第三方治理"><a href="#第三方治理" class="headerlink" title="第三方治理"></a>第三方治理</h4><p>一方面可能是由法律、法规、行业标准、合同义务或许可要求强制执行的外部实体监督系统</p><p>另一方是组织对所依赖的第三方应用进行安全监督，例如外包</p><p>侧重点在于验证其是否符合声明的安全目标、需求、法规和合同义务</p><h4 id="文件审查"><a href="#文件审查" class="headerlink" title="文件审查"></a>文件审查</h4><p>文件审查是查看交换材料并根据标准和期望对其进行验证的过程。</p><p>通常发生在现场检查之前，如果所交换的文件充分并且满足期望（或至少满足需求），那么现场审查将集中审查其与所声明文件是否相符；如果所交换的文件不完整、不准确或不充分，现场审查将推迟到文件更新或更正后进行。</p><p>如果文件不合规，那现场也可能不合规。</p><p>风险管理、风险评估和风险处置是执行流程&#x2F;策略评审时所使用的方法与技术。</p><h3 id="管理安全功能"><a href="#管理安全功能" class="headerlink" title="管理安全功能"></a>管理安全功能</h3><p>安全功能是业务运营的一个方面，专注于随着时间的推移评估和改进安全性的任务。</p><p>通过执行风险评估以推动安全策略的行为是有关安全功能管理的最清晰与最直接的示例。</p><p>安全必须是可衡量的。</p><p>可衡量的安全意味着安全机制的各个方面都发挥作用，提供明显的收益，并有一个或多个可以进行记录与分析的指标。</p><p>当实施安全对策或保护措施后，安全指标应显示出意外事件数量的减少或尝试检测事件数量的增加。</p><p>测量和评估安全指标的行为可以评估安全计划的完整性和有效性。</p><p>还应该包括根据通用安全准则对安全计划进行测量，并跟踪其控制措施的成功与否。</p><h4 id="与业务战略、目标、使命和宗旨相一致的安全功能"><a href="#与业务战略、目标、使命和宗旨相一致的安全功能" class="headerlink" title="与业务战略、目标、使命和宗旨相一致的安全功能"></a>与业务战略、目标、使命和宗旨相一致的安全功能</h4><p>安全管理计划确保正确地创建、执行和实施安全策略。</p><p>最能有效处理安全管理计划的一个方法是自上而下方法。</p><p>1、上层、高级或管理部门负责启动和定义组织的策略。安全策略为组织架构内的各个级别提供指导。</p><p>2、中层管理人员负责将安全策略落实到标准、基线、指导方针和程序。</p><p>3、操作管理人员或安全专业人员必须实现安全管理文档中规定的配置。</p><p>4、最终用户必须遵守组织的所有安全策略。</p><p>安全管理计划的内容包括：定义安全角色，规定如何管理安全、由谁负责安全以及如何检验安全的有效性，制定安全策略，执行风险分析，要求对员工进行安全教育。</p><p>安全管理计划团队应制定战略计划、战术计划和操作计划三种类型的计划。</p><p>1、战略计划（strategic plan）</p><p>相对稳定的长期计划，定义组织的安全目的和安全功能。</p><p>有效期大约是5年。</p><p>也被视为愿景规划</p><p>讨论了未来的长期目标和愿景，需要包含风险评估。</p><p>2、战术计划（tactical plan）</p><p>中期计划</p><p>为战略计划中设定的目标提供更多细节，该计划也可根据不可预测的事件临时制定。</p><p>有效期大约是1年左右。</p><p>通常规定和安排实现组织目标所需的任务。</p><p>可以包含项目计划、收购计划、招聘计划、预算计划、维护计划、支持计划和系统开发计划。</p><p>3、操作计划（operational plan）</p><p>短期、高度详细的计划</p><p>在战略计划和战术计划的基础上制定</p><p>短期内有效或有用</p><p>必须经常更新（如每月或每季度），以保证其与战术计划的一致性。</p><p>阐明了如何实现组织的各种目标，包括资源分配、预算需求、人员分配、进度安排与细化或执行程序。</p><p>包含执行流程与组织安全策略的合规性细节。</p><p>可以包含培训计划、系统部署计划和产品设计计划。</p><p>安全是一个持续的过程。</p><p>安全管理计划的活动可能有一个确定的起点，但其任务和工作永远无法彻底完成或实现。</p><p>有效的安全计划关注具体和可实现的目标、预测变化和潜在问题，并充当整个组织决策的基础。</p><p>安全文档应该是具体的、定义完善的和明确说明的。</p><h4 id="组织的流程"><a href="#组织的流程" class="headerlink" title="组织的流程"></a>组织的流程</h4><p>安全治理需要关注组织的方方面面，包括收购、资产剥离和治理委员会的组织流程。</p><p><strong>收购与兼并会提升组织的安全风险</strong>，这些风险包括不恰当的信息泄露、数据丢失、停机或未能获得足够的投资回报率（return on investment，ROI），还需要良好的安全监督和加强的审查。</p><p>收购如果不考虑安全性，所收购的产品固有风险将在整个部署生命周期内一直存在。</p><p>重要的是评估与硬件、软件和服务相关的风险。</p><p>收购不仅涉及硬件和软件，也包括外包、与供应商签订合同、聘请顾问等内容。与外部实体协同工作时，不仅要重视集成的安全性评估，还要确保在设计产品时考虑了安全性。</p><p>当使用第三方评估和监控服务时，外部实体需要在其操作中体现出安全意识。</p><p>在为安全集成评估第三方时，考虑以下过程：</p><p>1、<strong>现场评估</strong> 到组织现场进行访谈，观察工作人员的操作习惯。</p><p>2、<strong>文件交换和审查</strong> 调查数据和文件记录交换的方式，以及执行评估和审查的正式过程。</p><p>3、<strong>过程&#x2F;策略审查</strong> 要求提供安全策略、过程&#x2F;程序，以及事件和响应文件的副本以供审查。</p><p>4、<strong>第三方审计</strong> 根据美国注册会计师协会（AICPA）的定义，拥有独立性的第三方审计机构可根据SOC报告，对实体的安全基础设施进行公正的审查。</p><p>为所有收购设立最低限度的安全要求。</p><p><strong>资产剥离或任何形式的资产减少或员工裁减</strong>，会增加组织对集中安全治理的需求。</p><p>具体治理需求：</p><p>1、对资产进行净化以防止数据泄露。</p><p>2、应该删除和销毁存储介质，因为介质净化处理技术不能保证残留数据不会被恢复。</p><p>3、对于不再负责相关事宜的员工，应询问其工作完成情况，也称为离职面谈。通常包含审查所有保密协议以及其他任何在此雇佣关系终止后继续生效的约束合同或协议。</p><h4 id="组织的角色与责任"><a href="#组织的角色与责任" class="headerlink" title="组织的角色与责任"></a>组织的角色与责任</h4><p>安全角色是个人在组织内的安全实施和管理总体方案中扮演的角色。</p><p>典型安全环境中存在的常见安全角色：</p><p><strong>高级管理者</strong></p><p>组织所有着（高级管理者）角色被分配给最终对组织安全的维护负责及最关心资产保护的人员。</p><p>高级管理者需要对安全策略授权和支持，对安全解决方案的总体成功或失败负责。</p><p>很少直接实施安全解决方案，大多情况下，实施会被分配给安全专业人员。</p><p><strong>安全专业人员</strong></p><p>安全专业人员、信息安全官（InfoSec）或计算机事件响应小组（computer incident response team，CIRT）的角色被分配给受过培训和经验丰富的网络、系统和安全工程师们，负责落实高级管理者下达的指示。</p><p>职责是保证安全性，包括编写和执行安全策略。</p><p>安全专业人员是实施者，决策者是高级管理者。</p><p><strong>资产所有者</strong></p><p>资产所有者（asset owner ）角色将被分配在安全解决方案中负责布置和保护信息分类的人员。</p><p>资产所有者通常是高级管理人员，最终对资产保护负责。</p><p>资产所有者通常将实际数据管理任务的责任委托给托管员。</p><p><strong>托管员</strong></p><p>托管员（custodian）角色被分配给负责执行安全策略与高级管理者规定的保护任务的人员。</p><p>托管员执行所有必要的活动，为实现数据的 CIA 三元组（保密性、完整性和可用性）提供充分的数据支持，并履行上级管理部门委派的要求和职责。</p><p><strong>用户</strong></p><p>用户（最终用户或操作员）角色被分配给任何能访问安全系统的人员。</p><p>用户的访问权限与他们的工作任务相关并受其限制，只有足以执行工作岗位所需的任务的访问权限（最小特权原则）。</p><p><strong>审计人员</strong></p><p>审计人员（auditor）负责审查和验证安全策略是否被正确执行，以及相关的安全解决方案是否完备。</p><p>审计人员出具由高级管理者审核的合规性和有效性报告。</p><p>高级管理者将报告中发现的问题当作新的工作内容分配给安全专业人员或托管员。</p><h4 id="安全控制框架"><a href="#安全控制框架" class="headerlink" title="安全控制框架"></a>安全控制框架</h4><p>安全规划步骤中的第一步（也是最重要的一步），就是考虑组织所希望的安全解决方案的总体安全控制框架或结构。</p><p>应用最广泛的安全控制框架之一是信息和相关技术控制目标（COBIT）</p><p>COBIT由ISACA编制的一套记录IT最佳安全实践的文档，规定了安全控制的目标和需求，并鼓励将IT安全思路映射到业务目标。</p><p>COBIT基于六个关键原则进行企业IT治理和管理：</p><p>原则1：为利益相关方创造价值</p><p>原则2：采用整体分析法</p><p>原则3：动态地治理系统</p><p>原则4：把治理从管理中分离出来</p><p>原则5：根据企业需求量身定制</p><p>原则6：采用端到端的治理系统</p><p>COBIT还可以作为审计人员的工作指南。</p><p>IT安全其他的标准和指南：</p><p><strong>NIST SP 800-53 Rev.5 信息系统和组织的安全和隐私控制</strong></p><p>包含美国政府为组织安全提供的通用性建议</p><p><strong>互联网安全中心（CIS）</strong></p><p>提供针对操作系统、应用程序和硬件的安全配置指引。</p><p><strong>NIST 风险管理框架（RMF）</strong></p><p>对联邦机构制定了强制性要求。</p><p>RMF分为六个阶段：分类、选择、实施、评估、授权和监控。</p><p><strong>NIST 网络安全框架（CSF）</strong></p><p>为关键基础设施和商业组织而设计，由识别、保护、检测、响应和恢复五个功能构成。</p><p><strong>ISO&#x2F;IEC 27000系列</strong></p><p>国际标准，可作为实施组织信息安全及相关管理实践的基础。</p><p><strong>信息技术基础设施库（Information Technology Infrastructure Library，ITIL）</strong></p><p>最初由英国政府制定，是一套被推荐的优化IT服务以及支持业务增长、转型和变革的最佳实践。</p><p>重点是理解IT和安全需求如何与组织目标进行集成一致。</p><h4 id="应尽关心和尽职审查"><a href="#应尽关心和尽职审查" class="headerlink" title="应尽关心和尽职审查"></a>应尽关心和尽职审查</h4><p>计划安全重要的原因之一是需要进行应尽关心和尽职审查。</p><p>应尽关心是指制定计划、策略和流程以保护组织的利益。</p><p>尽职审查指的是实践那些维持应尽关心工作的活动。</p><p>对于考试</p><p>应尽关心是指制定一种正式的安全框架，其中包含安全策略、标准、基线、指南和程序。</p><p>尽职审查是指将这种安全框架持续应用到组织的IT基础设施上。</p><p>运营安全指组织内的所有责任相关方持续实施应尽关心和尽职审查。</p><p>应尽关心是知道应该做什么并为此制订计划。</p><p>尽职审查是在正确的时间采取正确的行为。</p><p>在发生安全事故时，拿出应尽关心和尽职审查的证据是证明没有疏忽的唯一方法。</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>seccert</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>seccert</tag>
      
      <tag>cissp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>golang_base</title>
    <link href="/2024/12/24/dev/golang/golang_base/"/>
    <url>/2024/12/24/dev/golang/golang_base/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p>官方网址</p><p>go.dev&#x2F;dl&#x2F;</p><p>golang.org&#x2F;dl&#x2F;</p><h2 id="安装注意事项"><a href="#安装注意事项" class="headerlink" title="安装注意事项"></a>安装注意事项</h2><h3 id="解压到指定目录"><a href="#解压到指定目录" class="headerlink" title="解压到指定目录"></a>解压到指定目录</h3><p>源码解压到&#x2F;usr&#x2F;local</p><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>vim ~&#x2F;.bashrc</p><p>export GOROOT&#x3D;&#x2F;usr&#x2F;local&#x2F;go</p><p>export GOPATH&#x3D;$HOME&#x2F;go</p><p>export PATH&#x3D;$PATH:$GOROOT&#x2F;bin:$GOPATH&#x2F;bin</p><p>GOROOT  go语言源码包所在位置</p><p>GOPATH   开发者GO项目的默认路径，也就是代码路径</p><h2 id="语言结构"><a href="#语言结构" class="headerlink" title="语言结构"></a>语言结构</h2><h3 id="基础组成"><a href="#基础组成" class="headerlink" title="基础组成"></a>基础组成</h3><h4 id="包声明"><a href="#包声明" class="headerlink" title="包声明"></a>包声明</h4><p>必须在非注释的第一行表明文件属于哪个包，例如：package main</p><p>package main 表示该文件是可独立执行的程序，每个Go应用程序都包含一个名为 main 的包</p><h4 id="引入包"><a href="#引入包" class="headerlink" title="引入包"></a>引入包</h4><p>import “包名”</p><p>import “fmt”，告诉程序需要使用 fmt 包，fmt 包实现了格式化IO（输入&#x2F;输出）的函数</p><p>多个包引入</p><p>import (</p><p>​“fmt”</p><p>​“time”</p><p>)</p><h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>func 函数名()</p><p>func main()</p><p>main 函数是每个可执行程序必须包含的，也是一般情况下程序启动后第一个执行的函数（如果程序中包含 init 函数，将会先执行 init 函数）</p><p>函数体的左大括号必须和函数名在同行，不可换行在另一行或者单独成行，</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">//this is first demo code</span><br>fmt.Println(<span class="hljs-string">&quot;this is main func&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span> &#123;<br>fmt.Println(<span class="hljs-string">&quot;this is init func&quot;</span>)<br>&#125;<br><br><br>➜  gocode <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span><br>this is init <span class="hljs-function"><span class="hljs-keyword">func</span></span><br>this is main <span class="hljs-function"><span class="hljs-keyword">func</span></span><br></code></pre></td></tr></table></figure><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><h4 id="语句-表达式"><a href="#语句-表达式" class="headerlink" title="语句&amp;表达式"></a>语句&amp;表达式</h4><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>单行注释：“\”的行</p><p>多行注释，块注释，不可嵌套使用</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-comment">/* 开头</span><br><span class="hljs-comment">*/</span> 结尾<br></code></pre></td></tr></table></figure><h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h3 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h3><p>GO程序可以由多个标记构成，标记可以是关键词、标识符、常量、字符串、符号等</p><h3 id="行分隔符"><a href="#行分隔符" class="headerlink" title="行分隔符"></a>行分隔符</h3><p>每一行代表一个语句结束，不需要分号结尾</p><p>如果将多个语句写入一行，每个语句就需要以分号分隔</p><h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>用来命名变量、类型等程序实体</p><p>标识符规定：大小写字母、数字和下划线组成，必须以字母或者下划线开头，不能以数字开头Go语言关键字</p><h3 id="字符串连接符"><a href="#字符串连接符" class="headerlink" title="字符串连接符"></a>字符串连接符</h3><p>通过 + 进行字符串的连接</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function">func <span class="hljs-title">init</span>()</span> &#123;<br>fmt.Println(<span class="hljs-string">&quot;this is init func&quot;</span> + <span class="hljs-string">&quot; &quot;</span> + <span class="hljs-string">&quot;字符串连接符测试&quot;</span>)<br>&#125;<br><br>➜  gocode go run hello.go<br><span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">init</span> func 字符串连接符测试<br></code></pre></td></tr></table></figure><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><h4 id="25个关键字或保留字"><a href="#25个关键字或保留字" class="headerlink" title="25个关键字或保留字"></a>25个关键字或保留字</h4><h5 id="break"><a href="#break" class="headerlink" title="break"></a><strong>break</strong></h5><p>用于跳出循环，常和 for 循环或 switch 语句使用</p><h5 id="default"><a href="#default" class="headerlink" title="default"></a><strong>default</strong></h5><p>循环默认选项，用在switch和select语句中</p><h5 id="func"><a href="#func" class="headerlink" title="func"></a><strong>func</strong></h5><p>函数定义</p><h5 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h5><p>定义接口</p><h5 id="select"><a href="#select" class="headerlink" title="select"></a>select</h5><p>通道控制结构，类似 switch，作用对象为通道操作（发送或接收）</p><h5 id="case"><a href="#case" class="headerlink" title="case"></a>case</h5><p>用在switch语句之中，表示其中的一个分支</p><h5 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h5><p>延迟执行，函数的收尾工作，在函数结束前执行</p><h5 id="go"><a href="#go" class="headerlink" title="go"></a>go</h5><p>并发</p><h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>map结构类型</p><h5 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h5><p>定义结构体</p><h5 id="chan"><a href="#chan" class="headerlink" title="chan"></a>chan</h5><p>定义 channel</p><h5 id="else"><a href="#else" class="headerlink" title="else"></a>else</h5><p>用在条件语句中，表明当条件不成立时的分支</p><h5 id="goto"><a href="#goto" class="headerlink" title="goto"></a>goto</h5><p>跳转语句</p><h5 id="package"><a href="#package" class="headerlink" title="package"></a>package</h5><p>包</p><h5 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h5><p>分支语句结构的引导词</p><h5 id="const"><a href="#const" class="headerlink" title="const"></a>const</h5><p>声明常量</p><h5 id="fallthrough"><a href="#fallthrough" class="headerlink" title="fallthrough"></a>fallthrough</h5><p>如果case带有fallthrough，程序会继续执行下一条case,不会再判断下一条case的值</p><h5 id="if"><a href="#if" class="headerlink" title="if"></a>if</h5><p>条件语句的判断</p><h5 id="range"><a href="#range" class="headerlink" title="range"></a>range</h5><p>从slice、map等结构中取元素</p><h5 id="type"><a href="#type" class="headerlink" title="type"></a>type</h5><p>定义类型</p><h5 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h5><p>回到一次循环的开始处</p><h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5><p>for 循环</p><p>import</p><p>引入指定的包或类</p><h5 id="return"><a href="#return" class="headerlink" title="return"></a>return</h5><p>从方法中返回</p><h5 id="var"><a href="#var" class="headerlink" title="var"></a>var</h5><p>声明变量</p><h4 id="36-个预定义标识"><a href="#36-个预定义标识" class="headerlink" title="36 个预定义标识"></a>36 个预定义标识</h4><table><thead><tr><th align="left">append</th><th align="left">bool</th><th align="left">byte</th><th align="left">cap</th><th align="left">close</th><th align="left">complex</th><th align="left">complex64</th><th align="left">complex128</th><th align="left">uint16</th></tr></thead><tbody><tr><td align="left">copy</td><td align="left">false</td><td align="left">float32</td><td align="left">float64</td><td align="left">imag</td><td align="left">int</td><td align="left">int8</td><td align="left">int16</td><td align="left">uint32</td></tr><tr><td align="left">int32</td><td align="left">int64</td><td align="left">iota</td><td align="left">len</td><td align="left">make</td><td align="left">new</td><td align="left">nil</td><td align="left">panic</td><td align="left">uint64</td></tr><tr><td align="left">print</td><td align="left">println</td><td align="left">real</td><td align="left">recover</td><td align="left">string</td><td align="left">true</td><td align="left">uint</td><td align="left">uint8</td><td align="left">uintptr</td></tr></tbody></table><h3 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h3><h4 id="fmt-Sprintf"><a href="#fmt-Sprintf" class="headerlink" title="fmt.Sprintf"></a>fmt.Sprintf</h4><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><p>fmt.Sprintf(格式化样式, 参数列表…)</p><p>格式化样式：字符串形式，格式化符号以 % 开头， %s 字符串格式，%d 十进制的整数格式</p><p>参数列表：多个参数以逗号分隔，个数必须与格式化样式中的个数一一对应，否则运行时会报错。</p><p>根据格式化参数生成格式化的字符串并写入标准输出</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> inttype = <span class="hljs-number">123</span><br><span class="hljs-keyword">var</span> stringtype = <span class="hljs-string">&quot;test&quot;</span><br><span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%d&amp;str=%s&quot;</span><br><span class="hljs-keyword">var</span> spliceresult = fmt.Sprintf(splice, inttype, stringtype)<br>fmt.Println(spliceresult)<br>&#125;<br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=<span class="hljs-number">123</span>&amp;str=test<br></code></pre></td></tr></table></figure><h4 id="fmt-Printf"><a href="#fmt-Printf" class="headerlink" title="fmt.Printf"></a>fmt.Printf</h4><p>根据格式化参数生成格式化的字符串并返回该字符串</p><h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5><p>fmt.Printf(格式化样式, 参数列表…)</p><p>格式化样式：字符串形式，格式化符号以 % 开头， %s 字符串格式，%d 十进制的整数格式。<br>参数列表：多个参数以逗号分隔，个数必须与格式化样式中的个数一一对应，否则运行时会报错。</p><h4 id="字符串格式化符号"><a href="#字符串格式化符号" class="headerlink" title="字符串格式化符号"></a>字符串格式化符号</h4><h5 id="v"><a href="#v" class="headerlink" title="%v"></a>%v</h5><p>按照值的本来值输出</p><h5 id="v-1"><a href="#v-1" class="headerlink" title="%+v"></a>%+v</h5><p>在 %v 基础上，对结构体字段名和值进行展开</p><h5 id="v-2"><a href="#v-2" class="headerlink" title="%#v"></a>%#v</h5><p>输出 Go 语言语法格式的值</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> inttype = <span class="hljs-number">123</span><br><span class="hljs-keyword">var</span> stringtype = <span class="hljs-string">&quot;test&quot;</span><br><span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%b&amp;str=%#v&quot;</span><br>result := fmt.Sprintf(splice, inttype, stringtype)<br>io.WriteString(os.Stdout, result)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=<span class="hljs-number">1111011</span>&amp;str=<span class="hljs-string">&quot;test&quot;</span>% <br></code></pre></td></tr></table></figure><h5 id="T"><a href="#T" class="headerlink" title="%T"></a>%T</h5><p>输出 Go 语言语法格式的类型和值</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> stringtype = <span class="hljs-string">&quot;test&quot;</span><br><span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;str=%T&quot;</span><br>result := fmt.Sprintf(splice, stringtype)<br>io.WriteString(os.Stdout, result)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br>str=<span class="hljs-type">string</span>%     <br></code></pre></td></tr></table></figure><h5 id=""><a href="#" class="headerlink" title="%%"></a>%%</h5><p>输出 %</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;str=%%&quot;</span><br>result := fmt.Sprintf(splice)<br>io.WriteString(os.Stdout, result)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br>str=%%    <br></code></pre></td></tr></table></figure><h5 id="b"><a href="#b" class="headerlink" title="%b"></a>%b</h5><p>整型以二进制方式显示</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">66</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%b&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br><br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=<span class="hljs-number">1000010</span>%   <br></code></pre></td></tr></table></figure><h5 id="o"><a href="#o" class="headerlink" title="%o"></a>%o</h5><p>整型以八进制方式显示</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">66</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%o&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=<span class="hljs-number">102</span>%   <br></code></pre></td></tr></table></figure><h5 id="d"><a href="#d" class="headerlink" title="%d"></a>%d</h5><p>整型以十进制方式显示</p><h5 id="x"><a href="#x" class="headerlink" title="%x"></a>%x</h5><p>整型以十六进制方式显示</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">66</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%x&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span> <br><span class="hljs-type">int</span>=<span class="hljs-number">42</span>% <br></code></pre></td></tr></table></figure><h5 id="X"><a href="#X" class="headerlink" title="%X"></a>%X</h5><p>整型以十六进制方式显示，显示中的字母为大写</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">666666</span><br> <span class="hljs-comment">// var strtype = &quot;123kkkkk&quot;</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%x&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=a2c2a%  <br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">666666</span><br> <span class="hljs-comment">// var strtype = &quot;123kkkkk&quot;</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%X&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=A2C2A%  <br></code></pre></td></tr></table></figure><h5 id="U"><a href="#U" class="headerlink" title="%U"></a>%U</h5><p>Unicode字符</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">666666</span><br> <span class="hljs-comment">// var strtype = &quot;123kkkkk&quot;</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%U&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=U+A2C2A%   <br></code></pre></td></tr></table></figure><h5 id="f"><a href="#f" class="headerlink" title="%f"></a>%f</h5><p>浮点数</p><p>%.2f，小数点后两位精度</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-keyword">var</span> inttype = <span class="hljs-number">6.66666</span><br> <span class="hljs-keyword">var</span> splice = <span class="hljs-string">&quot;int=%f&quot;</span><br> <span class="hljs-keyword">var</span> splice1 = <span class="hljs-string">&quot;\nint=%.2f&quot;</span><br> result := fmt.Sprintf(splice, inttype)<br> io.WriteString(os.Stdout, result)<br> result1 := fmt.Sprintf(splice1, inttype)<br> io.WriteString(os.Stdout, result1)<br>&#125;<br><br>➜  gocode <span class="hljs-keyword">go</span> run printgo.<span class="hljs-keyword">go</span><br><span class="hljs-type">int</span>=<span class="hljs-number">6.666660</span><br><span class="hljs-type">int</span>=<span class="hljs-number">6.67</span>%   <br></code></pre></td></tr></table></figure><h5 id="p"><a href="#p" class="headerlink" title="%p"></a>%p</h5><p>指针，十六进制显示</p><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>数据类型用于声明函数和变量，不同的数据类型代表不同大小内存大小</p><h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>值必须是常量 true 或者 false</p><p>var booltest bool &#x3D; true</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> code<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> booltest <span class="hljs-type">bool</span> = <span class="hljs-literal">true</span><br><span class="hljs-built_in">println</span>(booltest)<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs go">➜  code <span class="hljs-keyword">go</span> run booltest.<span class="hljs-keyword">go</span><br><span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h3 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h3><h4 id="整型int"><a href="#整型int" class="headerlink" title="整型int"></a>整型int</h4><p>uint8  无符号 8 位整型 (0 到 255)</p><p>uint16  无符号 16 位整型（0 到 65535）</p><p>uint32 无符号 32 位整型  (0 到 4294967295)</p><p>uint64 无符号 64 位整型 (0 到 18446744073709551615)</p><p>int8 有符号 8 位整型（-128 到 127）</p><p>int16 有符号 16 位整型  (-32768 到 32767)</p><p>int32 有符号 32 位整型  (-2147483648 到 2147483647)</p><p>int64 有符号 64 位整型  (-9223372036854775808 到 9223372036854775807)</p><p>byte 类似uint8</p><p>rune 类似int32</p><p>uint 32 或 64 位</p><p>int 与uint一样大小</p><p>uintptr 无符号整型，用于存放一个指针</p><h4 id="浮点型-float"><a href="#浮点型-float" class="headerlink" title="浮点型 float"></a>浮点型 float</h4><p> float32、float64</p><p>支持复数，位的运算采用补码</p><h3 id="派生类型"><a href="#派生类型" class="headerlink" title="派生类型"></a>派生类型</h3><p>指针类型 Pointer</p><p>数组类型</p><p>结构化类型 struct</p><p>Channel类型</p><p>函数类型</p><p>切片类型</p><p>接口类型 interface</p><p>Map类型</p><h2 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h2><p>变量可以通过变量名访问</p><p>变量名由字母、数字、下划线组成，首字母不可以是数字</p><h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><p>声明变量使用 var 关键字</p><h4 id="声明变量类型"><a href="#声明变量类型" class="headerlink" title="声明变量类型"></a>声明变量类型</h4><p>var 变量名 变量类型</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> vartest <span class="hljs-built_in">string</span><br></code></pre></td></tr></table></figure><p>整型变量未赋值，默认是0</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">//声明整型变量不初始化，默认是空值</span><br>var <span class="hljs-built_in">int</span>test <span class="hljs-built_in">int</span><br>fmt.Println(<span class="hljs-built_in">int</span>test)<br><br><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>布尔型变量未赋值，默认是false</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">//声明布尔型变量不初始化，默认是false</span><br>var <span class="hljs-built_in">bool</span>test <span class="hljs-built_in">bool</span><br>fmt.Println(<span class="hljs-built_in">bool</span>test)<br><br><span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>字符型变量未赋值，默认是“”，空字符串</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//声明字符变量不初始化，默认是空</span><br><span class="hljs-keyword">var</span> strtest <span class="hljs-built_in">string</span><br><span class="hljs-comment">//strtest = &quot;strtest&quot;</span><br>fmt.Println(strtest)<br></code></pre></td></tr></table></figure><h4 id="根据值自动设置变量类型"><a href="#根据值自动设置变量类型" class="headerlink" title="根据值自动设置变量类型"></a>根据值自动设置变量类型</h4><p>var 变量名 &#x3D; 变量值</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">var <span class="hljs-built_in">bool</span>vartest = <span class="hljs-literal">true</span><br>fmt.Println(<span class="hljs-built_in">bool</span>vartest)<br><br>var <span class="hljs-built_in">string</span>vartest = <span class="hljs-string">&quot;this is string var test&quot;</span><br>fmt.Println(<span class="hljs-built_in">string</span>vartest)<br></code></pre></td></tr></table></figure><h4 id="声明-赋值"><a href="#声明-赋值" class="headerlink" title="声明+赋值"></a>声明+赋值</h4><p>变量名 :&#x3D; 变量值</p><p>注意：已经使用 var 声明过的变量，再使用 :&#x3D; 会报错</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-built_in">string</span>var1test := <span class="hljs-string">&quot;this is var := test &quot;</span><br>fmt.Println(<span class="hljs-built_in">string</span>var1test)<br><br>var <span class="hljs-built_in">string</span>vartest <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;this is string var test&quot;</span><br>fmt.Println(<span class="hljs-built_in">string</span>vartest)<br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim">var stringvartest <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;this is string var test&quot;</span><br>fmt.Println(stringvartest)<br><br>stringvartest := <span class="hljs-string">&quot;error test&quot;</span><br>fmt.Println(stringvartest)<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span><br># <span class="hljs-keyword">command</span>-<span class="hljs-built_in">line</span>-arguments<br>./hello.<span class="hljs-keyword">go</span>:<span class="hljs-number">17</span>:<span class="hljs-number">16</span>: <span class="hljs-keyword">no</span> <span class="hljs-keyword">new</span> variables <span class="hljs-keyword">on</span> <span class="hljs-keyword">left</span> side of :=<br></code></pre></td></tr></table></figure><h4 id="多变量声明赋值"><a href="#多变量声明赋值" class="headerlink" title="多变量声明赋值"></a>多变量声明赋值</h4><p>var name1,name2,name3 type &#x3D; value1, value2, value3</p><p>name11,name12 :&#x3D; value11,value12</p><p>var test1,test2,test3 int &#x3D; 1,2,3</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> test1, test2, test3 <span class="hljs-type">int</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><br>fmt.Println(test1, test2, test3)<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span> <br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go">test11, test12, test13 := <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span><br>fmt.Println(test11, test12, test13)<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span> <br><span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span><br></code></pre></td></tr></table></figure><h4 id="全局变量声明"><a href="#全局变量声明" class="headerlink" title="全局变量声明"></a>全局变量声明</h4><p>var (</p><p>   name1 type1</p><p>   name2 type2</p><p>)</p><h3 id="值类型-指针类型"><a href="#值类型-指针类型" class="headerlink" title="值类型&#x2F;指针类型"></a>值类型&#x2F;指针类型</h3><p>类似 int, float, bool, string等这些基本类型，使用这些变量就是直接指向存在内存的值</p><p>使用等号&#x3D;，将一个变量的值赋给另一个变量，也就是将指定内存中的值拷贝一份过去</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>1、:&#x3D; 不可以用于全局变量</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> (<br>a <span class="hljs-type">int</span><br>b <span class="hljs-type">string</span><br>c := <span class="hljs-number">1</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>time.Sleep(<span class="hljs-number">1</span> * time.Second)<br>fmt.Println(a, b, c)<br><br>&#125;<br><br>➜  firstGoland <span class="hljs-keyword">go</span> build hello.<span class="hljs-keyword">go</span><br># command-line-arguments<br>./hello.<span class="hljs-keyword">go</span>:<span class="hljs-number">11</span>:<span class="hljs-number">4</span>: syntax <span class="hljs-type">error</span>: unexpected :=, expected =<br></code></pre></td></tr></table></figure><p>2、相同代码块不可以重复声明变量</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>a := <span class="hljs-number">1</span><br>a := <span class="hljs-number">2</span><br>fmt.Println(a)<br>&#125;<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span>  <br># command-line-arguments<br>./hello.<span class="hljs-keyword">go</span>:<span class="hljs-number">9</span>:<span class="hljs-number">4</span>: no <span class="hljs-built_in">new</span> variables on left side of :=<br></code></pre></td></tr></table></figure><p>3、全局变量名可以和局部变量名相同，代码块中声明的变量优先</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">var</span> (<br><span class="hljs-selector-tag">a</span> int<br>)<br><br>func <span class="hljs-selector-tag">main</span>() &#123;<br><span class="hljs-selector-tag">a</span> := <span class="hljs-string">&quot;test&quot;</span><br>fmt.<span class="hljs-built_in">Println</span>(a)<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs go">➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span><br>test<br></code></pre></td></tr></table></figure><p>4、局部变量声明必须使用，全局变量声明可以不使用</p><p>5、多变量赋值，值按顺序赋值给变量名</p><p>6、变量值交换</p><p>a, b&#x3D;b, a</p><p>变量类型必须一致</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs stylus">func <span class="hljs-selector-tag">main</span>() &#123;<br><span class="hljs-selector-tag">a</span> := <span class="hljs-string">&quot;a value&quot;</span><br><span class="hljs-selector-tag">b</span> := <span class="hljs-string">&quot;b value&quot;</span><br><span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">b</span>, <span class="hljs-selector-tag">a</span><br>fmt<span class="hljs-selector-class">.Println</span>(<span class="hljs-string">&quot;a = &quot;</span> + a)<br>fmt<span class="hljs-selector-class">.Println</span>(<span class="hljs-string">&quot;b = &quot;</span> + b)<br>&#125;<br><br>➜  firstGoland go run hello<span class="hljs-selector-class">.go</span><br><span class="hljs-selector-tag">a</span> = <span class="hljs-selector-tag">b</span> value<br><span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">a</span> value<br></code></pre></td></tr></table></figure><p>7、空白标识符 _ 用于抛弃值，常用于获取函数返回值</p><p>因为go语言要求必须使用所有变量，日常开发会存在从函数获取到不使用值的可能性</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>_, testfuncb := testfunc()<br>fmt.Println(testfuncb)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">testfunc</span><span class="hljs-params">()</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">string</span>) &#123; <span class="hljs-comment">//可以返回多个值</span><br>a := <span class="hljs-string">&quot;a value&quot;</span><br>b := <span class="hljs-string">&quot;b value&quot;</span><br><span class="hljs-comment">//fmt.Println(&quot;a = &quot; + a)</span><br><span class="hljs-comment">//fmt.Println(&quot;b = &quot; + b)</span><br><span class="hljs-keyword">return</span> a, b<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs go">➜  firstGoland <span class="hljs-keyword">go</span> run hello.<span class="hljs-keyword">go</span><br>b value<br></code></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>程序运行不会修改常量的值</p><p>常量只能是数字型（整型、浮点型、复数）、布尔型和字符串型</p><h3 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h3><p>const 常量名 [常量类型] &#x3D; 常量值</p><h4 id="显式定义类型"><a href="#显式定义类型" class="headerlink" title="显式定义类型"></a>显式定义类型</h4><p>const 常量名 常量类型 &#x3D; 常量值</p><p>const constname int &#x3D; 1</p><h4 id="隐式定义类型"><a href="#隐式定义类型" class="headerlink" title="隐式定义类型"></a>隐式定义类型</h4><p>const 常量名 &#x3D; 常量值</p><p>const constname1 &#x3D; “constname1”</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">const</span> constname <span class="hljs-type">int</span> = <span class="hljs-number">1</span><br>fmt.Println(constname)<br><br><span class="hljs-keyword">const</span> constname1 = <span class="hljs-string">&quot;constname1&quot;</span><br>fmt.Println(constname1)<br>&#125;<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run consttest.<span class="hljs-keyword">go</span><br><span class="hljs-number">1</span><br>constname1<br></code></pre></td></tr></table></figure><h4 id="多常量定义"><a href="#多常量定义" class="headerlink" title="多常量定义"></a>多常量定义</h4><p>const constname1, constname2, constname3 &#x3D; constvalue1, constvalue2, constvalue3</p><p>const (</p><p>constname1 &#x3D; constvalue1</p><p>constname2 &#x3D; constvalue2</p><p>constname3 &#x3D; constvalue3</p><p>)</p><h4 id="常量表达式"><a href="#常量表达式" class="headerlink" title="常量表达式"></a>常量表达式</h4><p>常量可以用len()、cap()、unsafe.Sizeof()函数计算表达式的值，只有内置函数才可以进行常量表达式计算</p><p>unsafe.Sizeof(var)：获取指定变量&#x2F;常量数据类型的字节数，根据变量&#x2F;常量类型，和存储的值无关，返回的是无符号整型</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">const</span> constname1 = <span class="hljs-string">&quot;constvalue1&quot;</span><br><span class="hljs-keyword">const</span> lenconstname1 = <span class="hljs-built_in">len</span>(constname1)<br><br>fmt.Println(constname1, lenconstname1, unsafe.Sizeof(constname1))<br>&#125;<br><br>➜  firstGoland <span class="hljs-keyword">go</span> run consttest.<span class="hljs-keyword">go</span><br>constvalue1 <span class="hljs-number">11</span> <span class="hljs-number">16</span><br></code></pre></td></tr></table></figure><h3 id="iota"><a href="#iota" class="headerlink" title="iota"></a>iota</h3><p>特殊常量，可以被编译器修改的常量</p><p>iota 在 const关键字出现时将被重置为 0(const 内部的第一行之前)，const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)。</p><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>golang</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dev</tag>
      
      <tag>golang</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>golang_error</title>
    <link href="/2024/12/24/dev/golang/golang_error/"/>
    <url>/2024/12/24/dev/golang/golang_error/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="runtime-main-main·f-function-main-is-undeclared-in-the-main-package"><a href="#runtime-main-main·f-function-main-is-undeclared-in-the-main-package" class="headerlink" title="runtime.main_main·f: function main is undeclared in the main package"></a>runtime.main_main·f: function main is undeclared in the main package</h2><h3 id="报错信息"><a href="#报错信息" class="headerlink" title="报错信息"></a>报错信息</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ada">➜  gocode go run printgo.go<br># command-line-arguments<br>runtime.main_main·f: <span class="hljs-keyword">function</span> <span class="hljs-title">main</span> <span class="hljs-keyword">is</span> undeclared <span class="hljs-keyword">in</span> the main <span class="hljs-keyword">package</span><br><span class="hljs-title"><span class="hljs-keyword">package</span> main</span><br><br>import <span class="hljs-string">&quot;fmt&quot;</span><br><br>func printtest() &#123;<br>fmt.Println(<span class="hljs-string">&quot;test&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="报错原因"><a href="#报错原因" class="headerlink" title="报错原因"></a>报错原因</h3><p>Go程序中找不到主函数（main函数）的定义或声明。在Go中，每个可执行程序都必须包含一个名为<code>main</code>的包，并在该包中包含一个名为<code>main</code>的函数。这个<code>main</code>函数是程序的入口点，它会被自动调用。</p><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>增加main函数</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printtest</span><span class="hljs-params">()</span></span> &#123;<br>fmt.Println(<span class="hljs-string">&quot;test&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>printtest()<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="go-run-提示package-command-line-arguments-is-not-a-main-package"><a href="#go-run-提示package-command-line-arguments-is-not-a-main-package" class="headerlink" title="go run 提示package command-line-arguments is not a main package"></a>go run 提示package command-line-arguments is not a main package</h2><h3 id="报错信息-1"><a href="#报错信息-1" class="headerlink" title="报错信息"></a>报错信息</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> code<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> booltest <span class="hljs-type">bool</span> = <span class="hljs-literal">true</span><br><span class="hljs-built_in">println</span>(booltest)<br>&#125;<br><br>➜  code <span class="hljs-keyword">go</span> run booltest.<span class="hljs-keyword">go</span> <br><span class="hljs-keyword">package</span> command-line-arguments is not a main <span class="hljs-keyword">package</span><br></code></pre></td></tr></table></figure><h3 id="报错原因-1"><a href="#报错原因-1" class="headerlink" title="报错原因"></a>报错原因</h3><p>使用 go run 命令运行的包必须是主包，也就是package 需要声明为 main </p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>package code</p><p>修改为</p><p>package main</p>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>golang</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dev</tag>
      
      <tag>golang</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tthours</title>
    <link href="/2024/12/16/tthours/"/>
    <url>/2024/12/16/tthours/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p><img src="/image-20241224173609469.png" alt="image-20241224173609469"></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>datasec_base</title>
    <link href="/2024/12/16/security/datasec/datasec_base/"/>
    <url>/2024/12/16/security/datasec/datasec_base/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="数据安全技术"><a href="#数据安全技术" class="headerlink" title="数据安全技术"></a>数据安全技术</h2><h3 id="数据加密技术"><a href="#数据加密技术" class="headerlink" title="数据加密技术"></a>数据加密技术</h3><h3 id="数据脱敏技术"><a href="#数据脱敏技术" class="headerlink" title="数据脱敏技术"></a>数据脱敏技术</h3><h4 id="数据屏蔽（Masking）"><a href="#数据屏蔽（Masking）" class="headerlink" title="数据屏蔽（Masking）"></a>数据屏蔽（Masking）</h4><h5 id="数据屏蔽原理"><a href="#数据屏蔽原理" class="headerlink" title="数据屏蔽原理"></a>数据屏蔽原理</h5><p>将敏感数据的部分或全部内容通过特定的字符或符号替换真实信息。</p><p>例如：用*或x替换手机号指定几位</p><p>在实现时，要确定屏蔽的位置和屏蔽字符的规则，以达到既能隐藏敏感信息，又能保留数据部分特征的目的。</p><h5 id="数据屏蔽场景及优势"><a href="#数据屏蔽场景及优势" class="headerlink" title="数据屏蔽场景及优势"></a>数据屏蔽场景及优势</h5><p>能够在保持数据格式完整性的同时，有效地隐藏敏感信息，让用户对数据的大致格式和类型有直观的了解。</p><h4 id="数据替换（Substitution）"><a href="#数据替换（Substitution）" class="headerlink" title="数据替换（Substitution）"></a>数据替换（Substitution）</h4><h5 id="数据替换原理"><a href="#数据替换原理" class="headerlink" title="数据替换原理"></a>数据替换原理</h5><p>将敏感数据替换为虚拟的或通用的数据。</p><p>例如：</p><p>真实姓名替换为张三、李四这种通用名字</p><p>详细地址替换为大致区域</p><h5 id="数据替换场景及优势"><a href="#数据替换场景及优势" class="headerlink" title="数据替换场景及优势"></a>数据替换场景及优势</h5><p>适用于对数据真实性要求不高，但需要保护隐私的场景，例如软件开发过程中测试数据生成。</p><p>操作简单，可快速对大量数据操作，也可以在一定程度上保留数据格式和类型</p><h4 id="数据扰动（Perturbation）"><a href="#数据扰动（Perturbation）" class="headerlink" title="数据扰动（Perturbation）"></a>数据扰动（Perturbation）</h4><h5 id="数据扰动原理"><a href="#数据扰动原理" class="headerlink" title="数据扰动原理"></a>数据扰动原理</h5><p>对原始数据进行随机化处理，添加一定的随机误差，使得敏感信息无法被还原</p><h5 id="数据扰动场景及优势"><a href="#数据扰动场景及优势" class="headerlink" title="数据扰动场景及优势"></a>数据扰动场景及优势</h5><h4 id="数据匿名化（Anonymization）"><a href="#数据匿名化（Anonymization）" class="headerlink" title="数据匿名化（Anonymization）"></a>数据匿名化（Anonymization）</h4><h4 id="数据加密（Encryption）"><a href="#数据加密（Encryption）" class="headerlink" title="数据加密（Encryption）"></a>数据加密（Encryption）</h4><h3 id="数据访问控制技术"><a href="#数据访问控制技术" class="headerlink" title="数据访问控制技术"></a>数据访问控制技术</h3><h4 id="RBAC（基于角色的访问控制）模型"><a href="#RBAC（基于角色的访问控制）模型" class="headerlink" title="RBAC（基于角色的访问控制）模型"></a>RBAC（基于角色的访问控制）模型</h4><h4 id="ABAC（基于属性的访问控制）模型"><a href="#ABAC（基于属性的访问控制）模型" class="headerlink" title="ABAC（基于属性的访问控制）模型"></a>ABAC（基于属性的访问控制）模型</h4><h3 id="隐私计算技术"><a href="#隐私计算技术" class="headerlink" title="隐私计算技术"></a>隐私计算技术</h3><h4 id="隐私计算定义"><a href="#隐私计算定义" class="headerlink" title="隐私计算定义"></a>隐私计算定义</h4><p>是一种在保护数据隐私的前提下，实现数据价值挖掘和利用的技术体系。</p><p>允许数据所有者在不泄漏敏感信息的情况下，对数据进行计算、分析和共享等操作。</p><h4 id="隐私计算主要技术方向"><a href="#隐私计算主要技术方向" class="headerlink" title="隐私计算主要技术方向"></a>隐私计算主要技术方向</h4><h5 id="同态加密（Homomorphic-Encryption）"><a href="#同态加密（Homomorphic-Encryption）" class="headerlink" title="同态加密（Homomorphic Encryption）"></a>同态加密（Homomorphic Encryption）</h5><h6 id="同态加密原理"><a href="#同态加密原理" class="headerlink" title="同态加密原理"></a>同态加密原理</h6><h5 id="安全多方计算"><a href="#安全多方计算" class="headerlink" title="安全多方计算"></a>安全多方计算</h5><h5 id="联邦学习（Federated-Learning）"><a href="#联邦学习（Federated-Learning）" class="headerlink" title="联邦学习（Federated Learning）"></a>联邦学习（Federated Learning）</h5><h6 id="联邦学习原理"><a href="#联邦学习原理" class="headerlink" title="联邦学习原理"></a>联邦学习原理</h6><p>一种分布式机器学习方法，允许多个数据源（如不同的设备或机构）在本地数据上训练模型，然后将模型参数（如神经网络的权重）进行共享聚合，而不是直接共享数据。这样可以在保护数据隐私的基础上，利用各方的数据来训练一个更强大的全局模型。</p><h6 id="联邦学习分类"><a href="#联邦学习分类" class="headerlink" title="联邦学习分类"></a>联邦学习分类</h6><p><strong>集中式联邦学习</strong>：中央服务器负责协调学习过程，包括选择参与节点和聚合模型更新。</p><p><strong>去中心化联邦学习</strong>：允许节点自主协调获取全局模型，避免单点故障。</p><p><strong>异构联邦学习</strong>：支持具有不同计算和通信能力的异构本地模型训练，同时生成准确的全局推理模型。</p><h6 id="联邦学习一般流程"><a href="#联邦学习一般流程" class="headerlink" title="联邦学习一般流程"></a>联邦学习一般流程</h6><p>1、<strong>问题定义与参与方确定</strong></p><p><strong>明确目标</strong>：首先需要确定联邦学习要解决的问题，目标决定了后续的数据需求和模型类型。</p><p><strong>识别参与方</strong>：找出拥有相关数据且愿意参与联邦学习的各方。这些参与方可以是不同的机构（如多家医院、银行），也可以是不同的设备（如智能手机、物联网设备）。参与方需要具备一定的数据存储和计算能力，以便在本地进行数据处理。</p><p>2、<strong>数据准备与预处理</strong></p><p><strong>本地数据收集</strong>：每个参与方在本地收集用于训练模型的数据。这些数据通常是敏感的，不会离开本地设备或机构。</p><p><strong>数据清洗与特征工程（本地）</strong>：参与方在本地对数据进行清洗，去除噪声、错误数据和重复数据。同时，进行特征工程，如提取有用的特征、对特征进行编码或归一化等操作。</p><p>3、<strong>模型初始化与分发</strong></p><p><strong>模型选择与初始化</strong>：由协调者（可以是一个中立的第三方机构，也可以是参与方中的主导者）选择合适的机器学习模型架构，如神经网络、决策树等，并进行初始化，如设置权重和偏置参数。</p><p><strong>模型分发</strong>：将初始化后的模型参数发送给各个参与方。</p><p>4、<strong>本地模型训练</strong></p><p><strong>利用本地数据训练</strong>：各参与方在本地使用自己的数据对收到的模型进行训练。在训练过程中，模型根据本地数据的特征和标签，通过优化算法（如梯度下降）来调整模型参数，使模型在本地数据上的性能（如准确率、损失函数值）得到优化。</p><p><strong>计算梯度更新（本地）</strong>：在训练过程中，参与方计算模型参数的梯度更新。梯度表示模型参数对损失函数的变化率，用于指导模型参数的调整方向。</p><p>5、<strong>模型参数聚合</strong></p><p><strong>上传梯度更新或模型参数</strong>：参与方将本地计算的梯度更新或训练后的模型参数发送给协调者。这一步骤需要注意数据传输的安全性，通常会采用加密等手段来保护数据。例如，通过同态加密技术对梯度更新进行加密，使得协调者在接收数据时无法获取梯度中的隐私信息。</p><p><strong>聚合操作（协调者）</strong>：协调者收到来自各个参与方的梯度更新或模型参数后，进行聚合操作。对于梯度更新，聚合操作可以是简单的加权平均（根据参与方数据量、数据质量等因素确定权重）；对于模型参数，聚合操作可能更复杂，如对不同模型的参数进行融合。例如，在简单的线性回归模型联邦学习中，协调者将各参与方上传的梯度更新进行加权平均，然后更新全局模型的参数。</p><p>6、<strong>模型更新与评估</strong></p><p><strong>更新全局模型（协调者）</strong>：根据聚合后的结果，协调者更新全局模型的参数。</p><p><strong>模型评估（可选）</strong>：可以对更新后的全局模型进行评估，评估指标可以是准确率、召回率、F1 - 分数等（取决于具体的任务）。评估数据可以是预留的测试数据（这些测试数据也可以通过联邦学习的方式获取），或者是模拟数据。通过评估来判断模型是否达到预期的性能目标，如果没有达到，可能需要调整模型架构、训练策略或联邦学习的参数。</p><p>7、<strong>迭代训练与优化</strong></p><p><strong>循环训练过程</strong>：重复上述本地模型训练、模型参数聚合、模型更新与评估的步骤，直到全局模型达到满意的性能或者达到预定的训练次数。在每次迭代中，模型不断吸收各参与方的本地数据信息，逐步优化性能。</p><p><strong>优化调整（可选）</strong>：在迭代过程中，可以根据模型的性能表现和训练情况，对联邦学习的各个环节进行优化调整。例如，调整参与方的权重、更新数据预处理方法、改变模型架构等，以提高模型的收敛速度和最终性能。</p><h6 id="联邦学习优势"><a href="#联邦学习优势" class="headerlink" title="联邦学习优势"></a>联邦学习优势</h6><p><strong>保护隐私</strong>：由于数据不需要上传到中央服务器，用户的隐私得到了很好的保护。</p><p><strong>减少数据传输</strong>：只需传输模型参数，显著减少了数据传输的量。</p><p><strong>提高模型的泛化能力</strong>：由于模型是在不同设备上训练的，这些设备的数据分布可能会有所不同，因此最终的全局模型能够更好地适应不同用户的需求。</p><p><strong>利用边缘计算</strong>：联邦学习可以利用用户设备的计算能力，在边缘进行数据处理，减轻了中央服务器的负担。</p><p><strong>适应动态环境</strong>：联邦学习能够快速适应动态变化的环境。</p><h6 id="联邦学习应用"><a href="#联邦学习应用" class="headerlink" title="联邦学习应用"></a>联邦学习应用</h6><p>移动设备的个性化推荐系统</p><p>医疗领域的疾病预测模型</p><p>金融行业的反欺诈模型</p><h6 id="联邦学习挑战"><a href="#联邦学习挑战" class="headerlink" title="联邦学习挑战"></a>联邦学习挑战</h6><p><strong>数据异构性</strong>：不同设备的数据分布可能存在差异，这种异构性会影响模型的训练效果。</p><p><strong>通信效率</strong>：由于设备的网络环境可能不稳定，因此在联邦学习中，需要考虑如何减少通信开销。</p><p><strong>安全性</strong>：尽管联邦学习可以保护用户隐私，但仍然需要防范一些潜在的安全威胁，比如模型反向工程和恶意设备的影响。</p><h5 id="可信执行环境"><a href="#可信执行环境" class="headerlink" title="可信执行环境"></a>可信执行环境</h5><h5 id="差分隐私"><a href="#差分隐私" class="headerlink" title="差分隐私"></a>差分隐私</h5><h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>【1】联邦学习：去中心化的机器学习新模式 川后静波 吴建明利驰软件 2024年10月09日 22:13</p><p><a href="https://mp.weixin.qq.com/s?__biz=Mzg2MDg5NzE5NA==&mid=2247491179&idx=1&sn=bfdb40f3d7bfef6b4ea294b7a6a96120&chksm=cf6915a369d37b516940c2c48eaae5ec7010335d389422a25ffbd87f910cefa04829fd5bd6d9#rd">https://mp.weixin.qq.com/s?__biz=Mzg2MDg5NzE5NA==&amp;mid=2247491179&amp;idx=1&amp;sn=bfdb40f3d7bfef6b4ea294b7a6a96120&amp;chksm=cf6915a369d37b516940c2c48eaae5ec7010335d389422a25ffbd87f910cefa04829fd5bd6d9#rd</a></p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>datasec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>datasec</tag>
      
      <tag>base</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo_images</title>
    <link href="/2024/12/16/yunwei/hexo/hexo_images/"/>
    <url>/2024/12/16/yunwei/hexo/hexo_images/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="hexo-typora"><a href="#hexo-typora" class="headerlink" title="hexo+typora"></a>hexo+typora</h2><h3 id="设置typora"><a href="#设置typora" class="headerlink" title="设置typora"></a>设置typora</h3><p>在设置-&gt;图像设置</p><p><img src="/2024/12/16/yunwei/hexo/hexo_images/image-20221230182231829.png" alt="image-20221230182231829"></p><h3 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h3><p>_config.yml中配置，会在使用 hexo new post_name 创建新文档时，在当前目录创建和文档名相同的文件夹，用于存储对应文档的图像</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">post_asset_folder:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>按照上述设置后，typora可以限制图像，但是hexo无法显示图像</p><h3 id="安装插件hexo-renderer-marked"><a href="#安装插件hexo-renderer-marked" class="headerlink" title="安装插件hexo-renderer-marked"></a>安装插件hexo-renderer-marked</h3><p>新版本hexo已集成hexo-renderer-marked，如果不确定，可以使用npm查询</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mel">➜  tthourshexo npm list hexo-<span class="hljs-keyword">renderer</span>-marked<br>hexo-site@0<span class="hljs-number">.0</span><span class="hljs-number">.0</span> /Users/admin/tthours/tthourshexo<br>└── hexo-<span class="hljs-keyword">renderer</span>-marked@6<span class="hljs-number">.3</span><span class="hljs-number">.0</span><br></code></pre></td></tr></table></figure><h3 id="修改-config-yml配置"><a href="#修改-config-yml配置" class="headerlink" title="修改_config.yml配置"></a>修改_config.yml配置</h3><p>增加如下内容</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">marked:</span><br>  <span class="hljs-params">prependRoot:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">postAsset:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><img src="/2024/12/16/yunwei/hexo/hexo_images/image-20241216185909849.png" alt="image-20241216185909849"></p><p><img src="/2024/12/16/yunwei/hexo/hexo_images/image-20241216185919525.png" alt="image-20241216185919525"></p><p><img src="/2024/12/16/yunwei/hexo/hexo_images/image-20241216185930812.png" alt="image-20241216185930812"></p><h3 id="安装插件hexo-asset-image-不好用"><a href="#安装插件hexo-asset-image-不好用" class="headerlink" title="安装插件hexo-asset-image(不好用)"></a>安装插件hexo-asset-image(不好用)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">npm install hexo-asset-<span class="hljs-selector-tag">image</span> <span class="hljs-attr">--save</span><br></code></pre></td></tr></table></figure><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">➜  tthourshexo npm install hexo-asset-image --save<br><br>added <span class="hljs-number">21</span> packages, <span class="hljs-literal">and</span> audited <span class="hljs-number">254</span> packages in <span class="hljs-number">5</span>s<br><br><span class="hljs-number">30</span> packages are looking for funding<br>  run `npm fund` for details<br><br><span class="hljs-number">6</span> vulnerabilities (<span class="hljs-number">1</span> moderate, <span class="hljs-number">4</span> high, <span class="hljs-number">1</span> <span class="hljs-keyword">critical</span>)<br><br>Some issues need review, <span class="hljs-literal">and</span> may require choosing<br>a different dependency.<br><br>Run `npm audit` for details.<br></code></pre></td></tr></table></figure><p>插件的作用在于<code>hexo generate</code>生成静态网页资源时自动由相对路径生成绝对路径，但要求md文件中必须使用相对路径，此时的md中复制的图片目录为<code>/同名文件夹/图片名</code>，多了个文件夹路径</p><h4 id="图片文件根目录设置"><a href="#图片文件根目录设置" class="headerlink" title="图片文件根目录设置"></a>图片文件根目录设置</h4><p>打开<code>/blog/scaffolds/post.md</code>，该文件为每次hexo新建md文件时的格式，包括title、date等属性，在该属性中加入<code>typora-root-url: &#123;&#123; title &#125;&#125;</code>，使hexo新建的md文件自动以同路径下的同名文件夹为图片根目录。</p><h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>【1】Typora与Hexo的图片根目录设置 Magnesium 2022年12月30日</p><p><a href="https://cmmyyyy.github.io/2022/12/30/Typora%E4%B8%8EHexo%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%B9%E7%9B%AE%E5%BD%95%E8%AE%BE%E7%BD%AE/">https://cmmyyyy.github.io/2022/12/30/Typora%E4%B8%8EHexo%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%B9%E7%9B%AE%E5%BD%95%E8%AE%BE%E7%BD%AE/</a></p><p>【2】Hexo插入图片（好用的办法）robotx 2023-11-29</p><p><a href="https://juejin.cn/post/7306723921717198899">https://juejin.cn/post/7306723921717198899</a></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cpe</title>
    <link href="/2024/12/16/yunwei/yunweibase/cpe/"/>
    <url>/2024/12/16/yunwei/yunweibase/cpe/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Common Platform Enumeration 通用平台枚举</p><p>以标准化方式为软件应用程序、操作系统及硬件命令的方法</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">cpe:</span>/&lt;part&gt;<span class="hljs-symbol">:&lt;vendor&gt;</span><span class="hljs-symbol">:&lt;product&gt;</span><span class="hljs-symbol">:&lt;version&gt;</span><span class="hljs-symbol">:&lt;update&gt;</span><span class="hljs-symbol">:&lt;edition&gt;</span><span class="hljs-symbol">:&lt;language&gt;</span><br></code></pre></td></tr></table></figure><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>cpe:&#x2F;o:almalinux:almalinux:9::baseos</p><h3 id="参数解释"><a href="#参数解释" class="headerlink" title="参数解释"></a>参数解释</h3><h4 id="part-目标类型"><a href="#part-目标类型" class="headerlink" title="part 目标类型"></a>part 目标类型</h4><p>可选的值：<br>a 应用程序</p><p>h 硬件平台</p><p>o 操作系统</p><h4 id="vendor-厂商"><a href="#vendor-厂商" class="headerlink" title="vendor 厂商"></a>vendor 厂商</h4><h4 id="product-产品名称"><a href="#product-产品名称" class="headerlink" title="product 产品名称"></a>product 产品名称</h4><h4 id="version-厂商提供的产品版本号"><a href="#version-厂商提供的产品版本号" class="headerlink" title="version 厂商提供的产品版本号"></a>version 厂商提供的产品版本号</h4><h4 id="update-厂商提供的产品更新版本，细粒度更小"><a href="#update-厂商提供的产品更新版本，细粒度更小" class="headerlink" title="update 厂商提供的产品更新版本，细粒度更小"></a>update 厂商提供的产品更新版本，细粒度更小</h4><h4 id="edition-发行版本，属于被弃用的属性，一般是为了兼容更早-CPE-版本，默认值为-ANY"><a href="#edition-发行版本，属于被弃用的属性，一般是为了兼容更早-CPE-版本，默认值为-ANY" class="headerlink" title="edition 发行版本，属于被弃用的属性，一般是为了兼容更早 CPE 版本，默认值为 ANY"></a>edition 发行版本，属于被弃用的属性，一般是为了兼容更早 CPE 版本，默认值为 ANY</h4><h4 id="language-界面语言"><a href="#language-界面语言" class="headerlink" title="language  界面语言"></a>language  界面语言</h4><h4 id="se-edittion-表示产品是针对某些特定市场或类别的目标用户"><a href="#se-edittion-表示产品是针对某些特定市场或类别的目标用户" class="headerlink" title="se_edittion  表示产品是针对某些特定市场或类别的目标用户"></a>se_edittion  表示产品是针对某些特定市场或类别的目标用户</h4><h4 id="target-sw-产品运行需要的软件环境"><a href="#target-sw-产品运行需要的软件环境" class="headerlink" title="target_sw 产品运行需要的软件环境"></a>target_sw 产品运行需要的软件环境</h4><h4 id="target-hw-产品运行需要的硬件环境"><a href="#target-hw-产品运行需要的硬件环境" class="headerlink" title="target_hw  产品运行需要的硬件环境"></a>target_hw  产品运行需要的硬件环境</h4><h4 id="other-表示无法归类上上述其他属性的值"><a href="#other-表示无法归类上上述其他属性的值" class="headerlink" title="other 表示无法归类上上述其他属性的值"></a>other 表示无法归类上上述其他属性的值</h4><p>如果在 WFN 未使用某个属性，则称为未指明的属性，默认值未 ANY。<code>sw_edition</code> <code>target_sw</code> <code>target_hw</code> <code>other</code> 是新引入的属性，被称作扩展属性</p><p><img src="/2024/12/16/yunwei/yunweibase/cpe/image-20241217145011696.png" alt="image-20241217145011696"></p><h3 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h3><p>【1】网络安全知识图谱构建之CPE通用组件数据集 </p><p><a href="https://zhuanlan.zhihu.com/p/282898536">https://zhuanlan.zhihu.com/p/282898536</a></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweibase</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweibase</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>machine_id</title>
    <link href="/2024/12/16/yunwei/yunweibase/machine_id/"/>
    <url>/2024/12/16/yunwei/yunweibase/machine_id/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>在 Linux 系统中，每台计算机都有一个唯一的标识符，称为机器 ID（Machine ID）。机器 ID 是一个由操作系统生成的字符串，用于标识特定的计算机。它在系统启动时自动生成，并且在系统的整个生命周期中保持不变。本文将详细介绍机器 ID 的作用、生成方式以及在 Linux 系统中的应用。</p><h2 id="机器-ID-的生成方式"><a href="#机器-ID-的生成方式" class="headerlink" title="机器 ID 的生成方式"></a>机器 ID 的生成方式</h2><p>Linux 系统中的机器 ID 是通过以下方式生成的：</p><h3 id="systemd"><a href="#systemd" class="headerlink" title="systemd"></a>systemd</h3><p>在现代的 Linux 发行版中，机器 ID 是由 systemd 生成和管理的。systemd 是一个系统和服务管理器，它负责启动、停止和管理系统上的各种进程和服务。当系统启动时，systemd 会生成一个机器 ID 并将其存储在 <code>/etc/machine-id</code> 文件中。这个文件是一个只包含机器 ID 的纯文本文件。</p><p>&#x2F;etc&#x2F;machine-id 文件默认权限</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">root<span class="hljs-variable">@iZbp1191gh7vw52537lyxrZ</span><span class="hljs-symbol">:/var/log</span><span class="hljs-comment"># ls -lat /etc/machine-id</span><br>-r--r--r-- <span class="hljs-number">1</span> root root <span class="hljs-number">33</span> <span class="hljs-title class_">Jun</span> <span class="hljs-number">13</span>  <span class="hljs-number">2023</span> /etc/machine-id<br></code></pre></td></tr></table></figure><h3 id="生成规则"><a href="#生成规则" class="headerlink" title="生成规则"></a>生成规则</h3><p>机器 ID 是一个 32 位的十六进制字符串，由 16 个字符组成。生成机器 ID 的规则如下：</p><ul><li>首先，系统会尝试读取 <code>/etc/machine-id</code> 文件。如果该文件存在且内容有效，则将其用作机器 ID。</li><li>如果 <code>/etc/machine-id</code> 文件不存在或内容无效，则系统会生成一个新的机器 ID，并将其写入 <code>/etc/machine-id</code> 文件中。</li></ul><h2 id="机器-ID-的作用"><a href="#机器-ID-的作用" class="headerlink" title="机器 ID 的作用"></a>机器 ID 的作用</h2><p>机器 ID 在 Linux 系统中具有以下作用：</p><h3 id="唯一标识符"><a href="#唯一标识符" class="headerlink" title="唯一标识符"></a>唯一标识符</h3><p>机器 ID 是用来唯一标识一台计算机的。通过机器 ID，系统可以识别不同的计算机，并进行一些特定的操作和配置。</p><h3 id="许可验证"><a href="#许可验证" class="headerlink" title="许可验证"></a>许可验证</h3><p>一些软件和服务提供商可能使用机器 ID 来验证许可证和授权。通过检查机器 ID，他们可以确定软件是否在授权范围内运行。</p><h3 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h3><p>机器 ID 在安全性方面也起到了一定的作用。它可以用于生成一些加密密钥或用于加密通信，以确保只有具有特定机器 ID 的计算机才能解密和访问数据。</p><h3 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h3><p>机器 ID 还可以用于系统配置和管理。一些配置文件和脚本可能会根据机器 ID 进行不同的操作或应用不同的设置。</p><h2 id="使用机器-ID"><a href="#使用机器-ID" class="headerlink" title="使用机器 ID"></a>使用机器 ID</h2><p>在 Linux 系统中，可以使用机器 ID 来进行一些操作和配置。</p><h3 id="查看机器-ID"><a href="#查看机器-ID" class="headerlink" title="查看机器 ID"></a>查看机器 ID</h3><p>要查看当前计算机的机器 ID，可以使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /etc/machine-id<br></code></pre></td></tr></table></figure><h3 id="使用机器-ID-进行其他操作"><a href="#使用机器-ID-进行其他操作" class="headerlink" title="使用机器 ID 进行其他操作"></a>使用机器 ID 进行其他操作</h3><p>除了查看机器 ID，还可以在以下情况下使用机器 ID 进行操作和配置：</p><ul><li>许可验证：某些软件和服务可能需要验证机器 ID 才能使用许可证进行授权。在这种情况下，你可以将机器 ID 提供给软件或服务提供商以进行许可证验证。</li><li>系统配置：一些配置文件或脚本可能会使用机器 ID 进行不同的操作或应用不同的设置。你可以根据机器 ID 编写脚本或配置文件，以根据不同的机器 ID 进行特定的配置。</li><li>安全性：机器 ID 可用于增加系统的安全性。例如，你可以使用机器 ID 生成一些加密密钥，以确保只有具有特定机器 ID 的计算机才能解密和访问数据。</li></ul><h2 id="机器-ID-的注意事项"><a href="#机器-ID-的注意事项" class="headerlink" title="机器 ID 的注意事项"></a>机器 ID 的注意事项</h2><p>在使用机器 ID 时，需要注意以下事项：</p><ul><li>唯一性：机器 ID 应该是唯一的，每台计算机都应该有不同的机器 ID。确保在克隆或复制系统时更新机器 ID。</li><li>保密性：机器 ID 是一个敏感信息，应该妥善保管。避免将机器 ID 泄露给不信任的人或系统。</li><li>持久性：机器 ID 在系统的整个生命周期中保持不变。在更换硬件或重新安装操作系统时，机器 ID 通常不会改变。</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>机器 ID 是 Linux 系统中用于唯一标识计算机的标识符。它由 systemd 生成并存储在 <code>/etc/machine-id</code> 文件中。机器 ID 在许可验证、安全性和系统配置方面发挥着重要作用。通过机器 ID，系统可以识别不同的计算机并进行特定的操作和配置。在使用机器 ID 时，请确保唯一性、保密性和持久性，并根据需要使用相应的命令和配置文件来操作和配置系统。</p><h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>【1】开发者社区&#x2F;龙蜥操作系统&#x2F;文章&#x2F;什么是 Linux 中的机器 ID？</p><p><a href="https://developer.aliyun.com/article/1319056">https://developer.aliyun.com/article/1319056</a></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweibase</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweibase</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>view_dir_belong_disk</title>
    <link href="/2024/12/16/yunwei/yunweitips/view_dir_belong_disk/"/>
    <url>/2024/12/16/yunwei/yunweitips/view_dir_belong_disk/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="查看目录归属磁盘"><a href="#查看目录归属磁盘" class="headerlink" title="查看目录归属磁盘"></a>查看目录归属磁盘</h2><p>df -h [目录]</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crystal">ubuntu<span class="hljs-variable">@ip</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>:<span class="hljs-regexp">/$ df -h /opt</span><span class="hljs-regexp">/</span><br><span class="hljs-regexp">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="hljs-regexp">/dev</span><span class="hljs-regexp">/root       6.8G  2.6G  4.2G  38% /</span><br></code></pre></td></tr></table></figure><p><img src="/2024/12/16/yunwei/yunweitips/view_dir_belong_disk/image-20241217142507343.png" alt="image-20241217142507343"></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweitips</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweitips</tag>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cloudsec_base</title>
    <link href="/2024/12/16/security/cloudsec/cloudsec_base/"/>
    <url>/2024/12/16/security/cloudsec/cloudsec_base/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="云原生基础概念"><a href="#云原生基础概念" class="headerlink" title="云原生基础概念"></a>云原生基础概念</h1><h2 id="qemu-kvm"><a href="#qemu-kvm" class="headerlink" title="qemu-kvm"></a>qemu-kvm</h2><h3 id="qemu"><a href="#qemu" class="headerlink" title="qemu"></a>qemu</h3><h4 id="qemu原理"><a href="#qemu原理" class="headerlink" title="qemu原理"></a>qemu原理</h4><p>qemu 是通过软件实现的虚拟化模拟器，可以模拟大多数硬件设备，可以通过 qemu 模拟虚拟机，模拟出来的虚拟机与之交互的硬件就是 qemu 模拟出来的硬件，qemu 模拟的硬件将从虚拟机接收过来的指令转译给真正的硬件。</p><h4 id="qemu优势"><a href="#qemu优势" class="headerlink" title="qemu优势"></a>qemu优势</h4><h4 id="qemu劣势"><a href="#qemu劣势" class="headerlink" title="qemu劣势"></a>qemu劣势</h4><p>由于 qemu 是基于软件的，指令需要 qemu 进行转译，所以速度会相对较慢一些。</p><h3 id="KVM"><a href="#KVM" class="headerlink" title="KVM"></a>KVM</h3><p>kernel-based Virtual Machine</p><h4 id="KVM原理"><a href="#KVM原理" class="headerlink" title="KVM原理"></a>KVM原理</h4><p>硬件辅助的虚拟化技术。</p><p>kvm 是 linux 的内核模块,用于模拟 CPU 和内存。</p><h4 id="KVM优势"><a href="#KVM优势" class="headerlink" title="KVM优势"></a>KVM优势</h4><p>由于是基于linux内核的，所以模拟出来的虚拟机的 CPU 指令会直接和真正的硬件进行交互，因此速度会更加快速</p><h4 id="KVM劣势"><a href="#KVM劣势" class="headerlink" title="KVM劣势"></a>KVM劣势</h4><h3 id="qemu-kvm-1"><a href="#qemu-kvm-1" class="headerlink" title="qemu-kvm"></a>qemu-kvm</h3><h4 id="qemu-kvm原理"><a href="#qemu-kvm原理" class="headerlink" title="qemu-kvm原理"></a>qemu-kvm原理</h4><p>由于 qemu 和 kvm 单独使用都会存在一些不满意的地方，所以 qemu 将 kvm 整合，使用 ioctl 调用 &#x2F;dev&#x2F;kvm 接口，将相关 CPU 的指令直接交由 内核进行处理。</p><p>kvm 模拟 CPU 和内存，实现CPU和内存的虚拟化；qemu 模拟 IO 设备，实现 IO 的虚拟化。通过两者实现服务器的虚拟化，所以就是 qemu-kvm。</p><h2 id="容器技术"><a href="#容器技术" class="headerlink" title="容器技术"></a>容器技术</h2><h3 id="容器和虚拟化"><a href="#容器和虚拟化" class="headerlink" title="容器和虚拟化"></a>容器和虚拟化</h3><p><strong>虚拟化：Vritualization</strong></p><p>通常在hypervisor层实现对硬件资源的虚拟化，hypervisor为虚拟机提供了虚拟的运行平台，管理虚拟机的操作系统的运行，每个虚拟机都有自己的操作系统、系统库和应用</p><p><strong>容器：Container</strong></p><p>没有hypervisor层，每个容器是与主机共享硬件资源及操作系统</p><p>在操作系统层面实现了对计算机系统资源的虚拟化，在操作系统中对CPU、内存和文件系统等资源的隔离划分和控制，实现进程之间透明的资源使用。</p><h3 id="容器镜像"><a href="#容器镜像" class="headerlink" title="容器镜像"></a>容器镜像</h3><p>镜像是容器运行的基础，容器引擎可使用不同的镜像启动相应的容器</p><p>虚拟机镜像是将完整的操作系统封装成一个镜像文件</p><p>容器镜像不是一个文件，是分层存储的文件系统，所以如果对镜像内某个文件修改时，只是修改的最上方的读写层，不会覆盖下层已有的文件系统</p><h3 id="容器存储"><a href="#容器存储" class="headerlink" title="容器存储"></a>容器存储</h3><h4 id="镜像元数据"><a href="#镜像元数据" class="headerlink" title="镜像元数据"></a>镜像元数据</h4><p>Linux系统中docker的数据默认存储在&#x2F;var&#x2F;lib&#x2F;docker中</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs tap">└─<span class="hljs-comment"># ls -l /var/lib/docker</span><br>总用量 44<br>drwx--x--x <span class="hljs-number"> 4 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 buildkit<br>drwx--x--- <span class="hljs-number"> 3 </span>root root<span class="hljs-number"> 4096 </span> 7月 <span class="hljs-number"> 5 </span>09:00 containers<br>drwx------ <span class="hljs-number"> 3 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 image<br>drwxr-x--- <span class="hljs-number"> 3 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 network<br>drwx--x---<span class="hljs-number"> 26 </span>root root<span class="hljs-number"> 4096 </span> 7月 <span class="hljs-number"> 5 </span>09:00 overlay2<br>drwx------ <span class="hljs-number"> 4 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 plugins<br>drwx------ <span class="hljs-number"> 2 </span>root root<span class="hljs-number"> 4096 </span> 7月 <span class="hljs-number"> 3 </span>11:05 runtimes<br>drwx------ <span class="hljs-number"> 2 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 swarm<br>drwx------ <span class="hljs-number"> 2 </span>root root<span class="hljs-number"> 4096 </span> 7月 <span class="hljs-number"> 4 </span>09:33 tmp<br>drwx------ <span class="hljs-number"> 2 </span>root root<span class="hljs-number"> 4096 </span> 4月<span class="hljs-number"> 22 </span>19:08 trust<br>drwx-----x<span class="hljs-number"> 17 </span>root root<span class="hljs-number"> 4096 </span> 7月 <span class="hljs-number"> 5 </span>09:00 volumes<br><br></code></pre></td></tr></table></figure><p>基于不同的系统又有不同的存储驱动和不同的目录结构</p><p>镜像每一层的ID是该文件内容的散列校验值，作为该层的唯一标识。</p><p>镜像索引方式：</p><p>读取镜像的manifests文件</p><p>获取config的sha256码</p><p>得到镜像config文件</p><p>遍历manifests文件中的所有层（layer）</p><p>根据sha256码在本地查找</p><p>拼出完整镜像</p><h4 id="存储驱动"><a href="#存储驱动" class="headerlink" title="存储驱动"></a>存储驱动</h4><p>Docker 依靠驱动技术管理镜像和运行它们的容器间的存储和交互</p><p>当前支持的存储驱动</p><p>overlay2、aufs、fuse-overlays、devicemapper、btrfs、zfs、vfs</p><h4 id="数据卷"><a href="#数据卷" class="headerlink" title="数据卷"></a>数据卷</h4><p>docker采用数据卷（Volume）的形式向容器提供持久化存储</p><h3 id="容器网络"><a href="#容器网络" class="headerlink" title="容器网络"></a>容器网络</h3><p>容器网络目前可分为主机网络和集群网络</p><p>主机网络</p><p>以Docker为例，分为 None 网络模式、Bridge 网络模式、Host 网络模式和 Container 网络模式</p><p>集群网络以 Kubernetes 为例</p><p>Pod 为 Kubernetes 应用运行的基本单元，每个 Pod 中包含一个或多个相关的容器，多个容器运行在同一主机中，并且共享相同的网络命名空间和相同的Linux协议栈</p><p>集群网络基于Pod主要涉及以下三种通信</p><p>同一Pod内，容器和容器之间的通信</p><p>同一主机内不同Pod之间的通信</p><p>跨主机Pod之间的通信</p><h3 id="容器运行时"><a href="#容器运行时" class="headerlink" title="容器运行时"></a>容器运行时</h3><p>容器运行时负责管理容器运行的整个生命周期，包括但不限于指定容器镜像格式、构建镜像、上传和拉取镜像、管理镜像、管理容器实例、运行容器等</p><p>OCI（Open Container Initiative）开放容器标准</p><p>包含容器运行时标准和容器镜像标准</p><p>容器运行时标准主要包含 runC、Rocket、Kata Containers、gVisor等</p><p>CRI（Container Runtime Interface）容器运行时接口</p><p>当前支持的CRI运行时包括 Docker、Containerd、CRI-O</p><h2 id="容器编排"><a href="#容器编排" class="headerlink" title="容器编排"></a>容器编排</h2><p>关注度较高的容器编排平台</p><p>Kubernetes </p><p>apache mesos</p><p>docker Swarm</p><p>OpenShift</p><p>Rancher</p><h2 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h2><p>服务之间通常通过 RESTful 通信</p><h2 id="服务网格"><a href="#服务网格" class="headerlink" title="服务网格"></a>服务网格</h2><p>Service Mesh</p><p>通常通过一组轻量级网络代理实现，这些代理与应用程序一起部署，而无须感知应用程序本身</p><p>Sidecar 运行在服务旁，并对服务透明。由于所有通过服务的流量均会经过Sidecar，因此Sidecar可实现流量控制功能，如服务发现、负载均衡、智能路由、故障注入、熔断器、TLS终止等</p><p>Istio为代表</p><h2 id="Serverless"><a href="#Serverless" class="headerlink" title="Serverless"></a>Serverless</h2><p>Serverless可在不考虑服务器的情况下构建并运行应用程序和服务，也就是开放者只负责开发，服务器均交给第三方管理</p><p>两种实现方式</p><p>BaaS（Backend as a Service，后端即服务）</p><p>FaaS（Functions as a Service，函数即服务），主要实现方式</p><p>典型代表</p><p>AWS Lamba</p><p>阿里云的函数计算</p><p>Kubernetes的kubeless</p><p>Apache OpenWhisk</p><h1 id="云原生安全架构"><a href="#云原生安全架构" class="headerlink" title="云原生安全架构"></a>云原生安全架构</h1><h2 id="容器安全"><a href="#容器安全" class="headerlink" title="容器安全"></a>容器安全</h2><p>关键字：容器逃逸</p><h3 id="容器基础设施安全"><a href="#容器基础设施安全" class="headerlink" title="容器基础设施安全"></a>容器基础设施安全</h3><p>主机安全配置是否会影响到容器</p><p>主机恶意进程和安全漏洞是否会影响到容器</p><p>容器内进程是否可以利用主机上的安全漏洞</p><h3 id="容器镜像安全"><a href="#容器镜像安全" class="headerlink" title="容器镜像安全"></a>容器镜像安全</h3><p>镜像中的软件是否存在安全漏洞</p><p>镜像构建过程中是否存在安全风险</p><p>镜像传输过程中是否被恶意篡改</p><h3 id="容器运行安全"><a href="#容器运行安全" class="headerlink" title="容器运行安全"></a>容器运行安全</h3><p>运行的容器间的隔离是否充分</p><p>容器间的通信是否安全</p><p>容器内的恶意程序是否会影响到主机或者其他容器</p><p>容器的资源使用情况是否安全</p><h3 id="容器编排安全"><a href="#容器编排安全" class="headerlink" title="容器编排安全"></a>容器编排安全</h3><p>Docker自身的安全性</p><p>service mesh&#x2F;serverless对容器安全的影响</p><p>容器中安全密钥的管理和传统环境的不同</p><p>容器化的数据隐私保护与传统的数据隐私保护是否一致</p><h3 id="容器应用安全"><a href="#容器应用安全" class="headerlink" title="容器应用安全"></a>容器应用安全</h3><h2 id="安全能力架构"><a href="#安全能力架构" class="headerlink" title="安全能力架构"></a>安全能力架构</h2><h3 id="物理安全"><a href="#物理安全" class="headerlink" title="物理安全"></a>物理安全</h3><h3 id="系统安全"><a href="#系统安全" class="headerlink" title="系统安全"></a>系统安全</h3><p>系统完整性保护</p><p>OS&#x2F;DB&#x2F;WEB加固</p><p>安全补丁</p><p>病毒防护</p><h3 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h3><p>防火墙</p><p>IDS&#x2F;IPS</p><p>Anti-DDOS</p><p>僵尸网络&#x2F;蠕虫检测</p><p>网络平面隔离</p><p>传输安全（SSL&#x2F;VPN)</p><h3 id="管理安全"><a href="#管理安全" class="headerlink" title="管理安全"></a>管理安全</h3><p>多因素接入认证</p><p>集中用户管理和认证</p><p>集中日志审计</p><p>镜像签名和完整性保护</p><h3 id="虚拟化安全"><a href="#虚拟化安全" class="headerlink" title="虚拟化安全"></a>虚拟化安全</h3><p>虚拟机隔离</p><p>虚拟防火墙</p><p>恶意VM预防</p><h3 id="数据安全"><a href="#数据安全" class="headerlink" title="数据安全"></a>数据安全</h3><p>数据隔离</p><p>数据访问控制</p><p>剩余信息保护</p><p>快照加密</p><p>用户数据加密存储</p><p>存储位置要求</p><h1 id="元原生安全风险"><a href="#元原生安全风险" class="headerlink" title="元原生安全风险"></a>元原生安全风险</h1><h2 id="容器基础设施的风险分析"><a href="#容器基础设施的风险分析" class="headerlink" title="容器基础设施的风险分析"></a>容器基础设施的风险分析</h2><h3 id="1、容器基础设施面临的风险"><a href="#1、容器基础设施面临的风险" class="headerlink" title="1、容器基础设施面临的风险"></a>1、容器基础设施面临的风险</h3><h4 id="1-1、容器镜像存在的风险"><a href="#1-1、容器镜像存在的风险" class="headerlink" title="1.1、容器镜像存在的风险"></a>1.1、容器镜像存在的风险</h4><h5 id="1-1-1、不安全的第三方组件"><a href="#1-1-1、不安全的第三方组件" class="headerlink" title="1.1.1、不安全的第三方组件"></a>1.1.1、不安全的第三方组件</h5><p>基于原生镜像的基础上进行二次开发，导致原有镜像中存在非必须的组件，且这些组件存在风险。</p><h5 id="1-1-2、恶意镜像"><a href="#1-1-2、恶意镜像" class="headerlink" title="1.1.2、恶意镜像"></a>1.1.2、恶意镜像</h5><p>公共镜像存在引入恶意镜像的风险</p><h5 id="1-1-3、敏感信息泄露"><a href="#1-1-3、敏感信息泄露" class="headerlink" title="1.1.3、敏感信息泄露"></a>1.1.3、敏感信息泄露</h5><p>为开发调试的便捷性，存在将敏感信息写入代码或配置文件，构成镜像时，敏感信息一并打包到，传输的外部镜像仓库，导致信息泄露。</p><h4 id="1-2、活动容器存在的风险"><a href="#1-2、活动容器存在的风险" class="headerlink" title="1.2、活动容器存在的风险"></a>1.2、活动容器存在的风险</h4><h5 id="1-2-1、不安全的容器应用"><a href="#1-2-1、不安全的容器应用" class="headerlink" title="1.2.1、不安全的容器应用"></a>1.2.1、不安全的容器应用</h5><p>如果启动时配置了端口映射，容器应用外部可访问，传统业务代码的安全风险依然存在。</p><h5 id="1-2-2、不受限制的资源共享"><a href="#1-2-2、不受限制的资源共享" class="headerlink" title="1.2.2、不受限制的资源共享"></a>1.2.2、不受限制的资源共享</h5><p>默认情况下，Docker不会对容器的资源使用进行限制，也就是容器可以无限制使用宿主机资源。存在容器耗尽宿主机资源的风险。</p><h5 id="1-2-3、不安全的配置与挂载"><a href="#1-2-3、不安全的配置与挂载" class="headerlink" title="1.2.3、不安全的配置与挂载"></a>1.2.3、不安全的配置与挂载</h5><p>配置与挂载：容器在启动时带有的配置选项和挂载选项</p><p><strong>容器核心隔离机制</strong>：</p><ul><li>Linux命名空间机制：在文件系统、网络、进程、进程间通信和主机名等方面实现隔离。</li><li>cgroups机制：在CPU、内存和硬盘等资源方面实现隔离。</li><li>Capabilities、Seccomp和AppArmor等机制：限制容器内进程间的权限和系统调用访问能力</li></ul><p><strong>打破隔离方式</strong>：</p><ul><li>配置 –privileged 选项，容器将不受 Seccomp等安全机制的限制，容器内root权限将变得和宿主机上的root一样</li><li>配置 –net&#x3D;host，容器将与宿主机处于同一网络命令空间（打破网络隔离）</li><li>配置 –pid&#x3D;host，容器将与宿主机处于同一进程命令空间（打破进程隔离）</li><li>执行挂载 –volume &#x2F;:&#x2F;host，宿主机根目录将被挂载到容器内部（打破文件系统隔离）</li></ul><p>1.3、容器网络存在的风险</p><h3 id="3-4、运行时容器的攻击案例"><a href="#3-4、运行时容器的攻击案例" class="headerlink" title="3.4、运行时容器的攻击案例"></a>3.4、运行时容器的攻击案例</h3><h4 id="攻击分类"><a href="#攻击分类" class="headerlink" title="攻击分类"></a>攻击分类</h4><p>1）主要影响机密性、完整性的：通常是获取目标系统控制权、窃取或修改数据等。</p><p>2）主要影响可用性的：通常是对目标系统信息资源的耗尽型攻击。</p><h4 id="3-4-1、容器逃逸"><a href="#3-4-1、容器逃逸" class="headerlink" title="3.4.1、容器逃逸"></a>3.4.1、容器逃逸</h4><h5 id="3-4-1-1、不安全配置导致的容器逃逸"><a href="#3-4-1-1、不安全配置导致的容器逃逸" class="headerlink" title="3.4.1.1、不安全配置导致的容器逃逸"></a>3.4.1.1、不安全配置导致的容器逃逸</h5><p>docker 已经将容器运行时的Capabilities黑名单机制改为如今的默认禁止所有Capabilities，再以白名单方式赋予容器运行所需的最小权限。</p><p>Docker默认赋予容器近40项权限中的14项</p><p>CAP_CHOWN</p><p>CAP_DAC_OVERRIDE</p><p>CAP_FSETID</p><p>CAP_FOWNER<br>CAP_MKNOD<br>CAP_NET_RAW<br>CAP_SETGID<br>CAP_SETUID<br>CAP_SETFCAP</p><p>CAP_SETPCAP</p><p>CAP_NET_BIND_SERVICE</p><p>CAP_SYS_CHROOT<br>CAP_KILL<br>CAP_AUDIT_WAITE</p><p><strong>–privileged  特权模式运行容器</strong></p><p>特权容器允许访问宿主机上的所有设备，同时修改AppArmor或SELinux的配置，使容器拥有于那些直接运行在宿主机上的进程几乎相同的权限</p><p>创建非特权容器</p><p>docker run -itd –name non_privileged_centos centos &#x2F;bin&#x2F;bash</p><p>root@VM-8-5-ubuntu:~# docker run -itd –name non_privileged_centos centos &#x2F;bin&#x2F;bash<br>f2fa3a889b7d43d5bc371bf02d62b360ffa9cce7737eb6a4cfae60864be5625e</p><p>创建特权容器</p><p>docker run -t -i -d –privileged  –name privileged_centos centos &#x2F;bin&#x2F;bash</p><p>root@VM-8-5-ubuntu:~# docker run -t -i -d –privileged  –name privileged_centos centos &#x2F;bin&#x2F;bash<br>7ef25d5d2b4605bef917323d591f9596b95c6262268fda77edac4f13322de2f5</p><p>root@VM-8-5-ubuntu:~# docker run -itd –name privileged busybox –privileged<br>e5b459ca0fe56484dee600d919f1fafde42631923fa326393d60c1692fea1d27<br>docker: Error response from daemon: failed to create shim: OCI runtime create failed: container_linux.go:380: starting container process caused: exec: “–privileged”: executable file not found in $PATH: unknown.</p><p>docker exec id fdisk -l</p><p>docker exec id fdisk -l | tail -n 2</p><p>ps </p><p>procfs</p><h5 id="3-4-1-2-不安全挂载导致的容器逃逸"><a href="#3-4-1-2-不安全挂载导致的容器逃逸" class="headerlink" title="3.4.1.2 不安全挂载导致的容器逃逸"></a>3.4.1.2 不安全挂载导致的容器逃逸</h5><p>将宿主机敏感文件或敏感目录挂在到不可控的容器中，会存在安全问题</p><h6 id="将-Docker-Socket-挂载到容器内"><a href="#将-Docker-Socket-挂载到容器内" class="headerlink" title="将 Docker Socket 挂载到容器内"></a>将 Docker Socket 挂载到容器内</h6><p>Docker Socket 是 Docker  守护进程监听的UNIX套接字，用来与守护进程通信-查询信息或下发命令，如果将该套接字文件&#x2F;var&#x2F;run&#x2F;docker.sock挂载到攻击者可控容器，存在被逃逸的风险</p><h6 id="挂载宿主机-profs"><a href="#挂载宿主机-profs" class="headerlink" title="挂载宿主机 profs"></a>挂载宿主机 profs</h6><h5 id="3-4-1-3-相关程序漏洞导致的容器逃逸"><a href="#3-4-1-3-相关程序漏洞导致的容器逃逸" class="headerlink" title="3.4.1.3 相关程序漏洞导致的容器逃逸"></a>3.4.1.3 相关程序漏洞导致的容器逃逸</h5><p>CVE-2019-5736 覆盖宿主机上的runC文件</p><h5 id="3-4-1-4-内核漏洞导致的容器逃逸"><a href="#3-4-1-4-内核漏洞导致的容器逃逸" class="headerlink" title="3.4.1.4 内核漏洞导致的容器逃逸"></a>3.4.1.4 内核漏洞导致的容器逃逸</h5><p>CVE-2016-5195 内存页的写时复制问题</p><h4 id="3-4-2-安全容器逃逸"><a href="#3-4-2-安全容器逃逸" class="headerlink" title="3.4.2 安全容器逃逸"></a>3.4.2 安全容器逃逸</h4><h4 id="3-4-3-资源耗尽型攻击"><a href="#3-4-3-资源耗尽型攻击" class="headerlink" title="3.4.3 资源耗尽型攻击"></a>3.4.3 资源耗尽型攻击</h4><p>容器运行时默认情况下未对容器内进程在资源使用上做任何限制，以Pod为基本单位的容器编排管理系统在默认情况下也未对用户创建的Pod做任何CPU、内容使用限制</p><h5 id="3-4-3-1-CPU资源耗尽攻击"><a href="#3-4-3-1-CPU资源耗尽攻击" class="headerlink" title="3.4.3.1 CPU资源耗尽攻击"></a>3.4.3.1 CPU资源耗尽攻击</h5><h2 id="容器编排平台的风险分析"><a href="#容器编排平台的风险分析" class="headerlink" title="容器编排平台的风险分析"></a>容器编排平台的风险分析</h2><h3 id="容器编排平台面临的风险"><a href="#容器编排平台面临的风险" class="headerlink" title="容器编排平台面临的风险"></a>容器编排平台面临的风险</h3><h4 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h4><p>CNI插件Flannel：Pod之间通信的工具</p><p>kube-system命名空间</p><p>Flannel Pod</p><p>kube-proxy Pod</p><p>Kubernetes集群中需要以YAML声明式文件的形式来创建Pod，Pod为逻辑概念，实际由一个或多个容器组成。</p><p>对容器的配置须以Pod的配置方式下发。</p><h4 id="4-1-1-容器基础设施存在的风险"><a href="#4-1-1-容器基础设施存在的风险" class="headerlink" title="4.1.1 容器基础设施存在的风险"></a>4.1.1 容器基础设施存在的风险</h4><p>kubernetes提供了ConfigMaps和Secrets两种资源来单独存储常规配置和敏感信息</p><h4 id="4-1-2-Kubernetes-组件接口存在的风险"><a href="#4-1-2-Kubernetes-组件接口存在的风险" class="headerlink" title="4.1.2 Kubernetes 组件接口存在的风险"></a>4.1.2 Kubernetes 组件接口存在的风险</h4><p>Kubernetes中绝大多数组件以基于HTTP或HTTPS的API形式提供服务</p><p>常见服务及端口信息</p><table><thead><tr><th>组件</th><th>默认端口</th><th>说明</th></tr></thead><tbody><tr><td>API Server</td><td>6443</td><td>基于HTTPS的安全端口</td></tr><tr><td>API Server</td><td>8080</td><td>不安全的HTTP端口，不建议启用</td></tr><tr><td>Kubelet</td><td>10248</td><td>用于检查kubelet健康状态的HTTP端口</td></tr><tr><td>Kubelet</td><td>10250</td><td>面向API Server提供服务的HTTPS端口</td></tr><tr><td>Dashboard</td><td>8001</td><td>提供HTTP服务的端口</td></tr><tr><td>etcd</td><td>2379</td><td>客户端与服务端之间通信的接口</td></tr><tr><td>etcd</td><td>2380</td><td>不同服务端实例之间通信的端口</td></tr></tbody></table><p>1、API Server</p><p>默认情况下，API Server在8080和6443两个端口提供服务</p><p>8080端口提供没有TLS加密的HTTP服务，所有到达端口的请求将绕过所有认证和授权模块（但是任然会被准入控制模块处理？？？）</p><p>6443端口提供TLS加密的HTTPS服务，到达的请求必须通过认证和授权机制才能被成功处理</p><p>2、Dashboard</p><p>按照官方文档部署的K8s需要经过 kubectl proxy 才可以通过本地8001端口访问dashboard，但是如果直接将dashboard映射到宿主机节点或者在执行 kubectl proxy是使用额外的参数（kubectl proxy –address 0.0.0.0 –accept-hosts&#x3D;’^*$’），会出现只要可以访问到宿主机的都可以访问到dashboard</p><p>默认情况下，dashboard是需要登录认证，但是如果在dashboard启动参数中添加 –enable-skip-login选项，则就可以通过点击dashboard界面的“跳过”来绕过认证</p><p>3、Kubelet</p><h2 id="云原生应用的风险分析"><a href="#云原生应用的风险分析" class="headerlink" title="云原生应用的风险分析"></a>云原生应用的风险分析</h2><p>5.3 云原生应用的新风险分析</p><p>5.3.1 数据泄露风险</p><p>1）应用漏洞</p><p>API造成的数据泄露风险</p><p>2）密钥不规范管理</p><p>硬编码</p><p>解决方案：</p><p>代码与配置可分离</p><p>配置支持分布式</p><p>配置实时可更新</p><p>配置可统一治理</p><p>3）应用间通信未加密</p><p>gRPC协议，默认不加密</p><p>5.3.2 未授权访问的风险</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>cloudsec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>base</tag>
      
      <tag>cloudsec</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dc_attack</title>
    <link href="/2024/12/16/security/itsec/dc/dc_attack/"/>
    <url>/2024/12/16/security/itsec/dc/dc_attack/</url>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>itsec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>itsec</tag>
      
      <tag>attack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>distinguish_virtual_container_machine</title>
    <link href="/2024/12/16/security/cloudsec/cloudsectips/distinguish_virtual_container_machine/"/>
    <url>/2024/12/16/security/cloudsec/cloudsectips/distinguish_virtual_container_machine/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>区分虚拟机、容器和物理机的方法</p><h1 id="判断是否为虚拟机"><a href="#判断是否为虚拟机" class="headerlink" title="判断是否为虚拟机"></a>判断是否为虚拟机</h1><h2 id="Linux服务器"><a href="#Linux服务器" class="headerlink" title="Linux服务器"></a>Linux服务器</h2><h3 id="hostnamectl-grep-Virtualization"><a href="#hostnamectl-grep-Virtualization" class="headerlink" title="hostnamectl | grep Virtualization"></a>hostnamectl | grep Virtualization</h3><p><strong>非虚拟机，查询没有结果</strong></p><p><strong>虚拟机，查询有结果</strong></p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">root<span class="hljs-variable">@iZbp1191gh7vw52537lyxrZ</span><span class="hljs-symbol">:/var/log</span><span class="hljs-comment"># hostnamectl | grep Virtualization</span><br>  <span class="hljs-symbol">Virtualization:</span> kvm<br></code></pre></td></tr></table></figure><h3 id="dmidecode-s-system-product-name"><a href="#dmidecode-s-system-product-name" class="headerlink" title="dmidecode -s system-product-name"></a>dmidecode -s system-product-name</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@110</span> ~]<span class="hljs-meta"># dmidecode -s system-product-name</span><br>Alibaba Cloud ECS<br></code></pre></td></tr></table></figure><p><strong>非虚拟机，查询结果为具体产品型号</strong></p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autoit">(base) [root<span class="hljs-symbol">@1_1_1_1</span> /]<span class="hljs-meta"># dmidecode -s system-product-name</span><br>PowerEdge R630<br></code></pre></td></tr></table></figure><p><strong>虚拟机，查询结果是KVM或者云厂商设备型号</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs clean">[root@ /]# dmidecode -s <span class="hljs-keyword">system</span>-product-name<br>KVM<br></code></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">(<span class="hljs-keyword">base) </span>[root@ ~]<span class="hljs-comment"># dmidecode -s system-product-name</span><br>Alibaba <span class="hljs-keyword">Cloud </span>ECS<br></code></pre></td></tr></table></figure><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi">[root@ ~]# dmidecode -s system-product-<span class="hljs-keyword">name</span><br>VMware <span class="hljs-keyword">Virtual</span> <span class="hljs-keyword">Platform</span><br></code></pre></td></tr></table></figure><h3 id="dmesg-grep-i-virtual"><a href="#dmesg-grep-i-virtual" class="headerlink" title="dmesg | grep -i virtual"></a>dmesg | grep -i virtual</h3><p><strong>非虚拟机，查询没有记录</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp">(<span class="hljs-keyword">base</span>) [root@ /]<span class="hljs-meta"># dmesg | grep -i virtual</span><br>(<span class="hljs-keyword">base</span>) [root@ /]<span class="hljs-meta">#</span><br></code></pre></td></tr></table></figure><p><strong>虚拟机，查询有记录</strong></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-attr">[root@ /]</span># <span class="hljs-selector-tag">dmesg</span> | <span class="hljs-selector-tag">grep</span> <span class="hljs-selector-tag">-i</span> <span class="hljs-selector-tag">virtual</span><br><span class="hljs-selector-attr">[    0.000000]</span> <span class="hljs-selector-tag">Booting</span> <span class="hljs-selector-tag">paravirtualized</span> <span class="hljs-selector-tag">kernel</span> <span class="hljs-selector-tag">on</span> <span class="hljs-selector-tag">KVM</span><br><span class="hljs-selector-attr">[    0.513181]</span> <span class="hljs-selector-tag">input</span>: <span class="hljs-selector-tag">VirtualPS</span>/<span class="hljs-number">2</span> <span class="hljs-selector-tag">VMware</span> <span class="hljs-selector-tag">VMMouse</span> <span class="hljs-selector-tag">as</span> /<span class="hljs-selector-tag">devices</span>/<span class="hljs-selector-tag">platform</span>/<span class="hljs-selector-tag">i8042</span>/<span class="hljs-selector-tag">serio1</span>/<span class="hljs-selector-tag">input</span>/<span class="hljs-selector-tag">input2</span><br><span class="hljs-selector-attr">[    0.513391]</span> <span class="hljs-selector-tag">input</span>: <span class="hljs-selector-tag">VirtualPS</span>/<span class="hljs-number">2</span> <span class="hljs-selector-tag">VMware</span> <span class="hljs-selector-tag">VMMouse</span> <span class="hljs-selector-tag">as</span> /<span class="hljs-selector-tag">devices</span>/<span class="hljs-selector-tag">platform</span>/<span class="hljs-selector-tag">i8042</span>/<span class="hljs-selector-tag">serio1</span>/<span class="hljs-selector-tag">input</span>/<span class="hljs-selector-tag">input3</span><br><span class="hljs-selector-attr">[    0.528883]</span> <span class="hljs-selector-tag">systemd</span><span class="hljs-selector-attr">[1]</span>: <span class="hljs-selector-tag">Detected</span> <span class="hljs-selector-tag">virtualization</span> <span class="hljs-selector-tag">kvm</span>.<br><span class="hljs-selector-attr">[    0.563314]</span> <span class="hljs-selector-tag">systemd</span><span class="hljs-selector-attr">[1]</span>: <span class="hljs-selector-tag">Starting</span> <span class="hljs-selector-tag">Setup</span> <span class="hljs-selector-tag">Virtual</span> <span class="hljs-selector-tag">Console</span>...<br><span class="hljs-selector-attr">[    2.693251]</span> <span class="hljs-selector-tag">bochs-drm</span> <span class="hljs-number">0000</span>:<span class="hljs-number">00</span>:<span class="hljs-number">02.0</span>: <span class="hljs-selector-tag">Virtual-1</span>: <span class="hljs-selector-tag">EDID</span> <span class="hljs-selector-tag">is</span> <span class="hljs-selector-tag">invalid</span>:<br></code></pre></td></tr></table></figure><p><strong>备注</strong>：云服务器，有可能也没有记录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">(base) [root@ ~]<span class="hljs-comment"># dmesg | grep -i virtual</span><br>You have mail <span class="hljs-keyword">in</span> <span class="hljs-regexp">/var/</span>spool<span class="hljs-regexp">/mail/</span>root<br></code></pre></td></tr></table></figure><h3 id="lshw-class-system"><a href="#lshw-class-system" class="headerlink" title="lshw -class system"></a>lshw -class system</h3><p>lshw工具需要安装</p><p>查看硬件信息工具</p><p>安装：yum install lshw -y&#x2F;apt install lash</p><hr><p><strong>非虚拟机，结果中关注product，会有硬件厂商信息</strong></p><p>product: PowerEdge R630</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs nix">(base) [root@ <span class="hljs-operator">/</span>]<span class="hljs-comment"># lshw -class system</span><br><br>    <span class="hljs-params">description:</span> Rack Mount Chassis<br>    <span class="hljs-params">product:</span> PowerEdge R630 (SKU<span class="hljs-operator">=</span>NotProvided;<span class="hljs-attr">ModelName</span><span class="hljs-operator">=</span>PowerEdge R630)<br>    <span class="hljs-params">vendor:</span> Dell Inc.<br>    <span class="hljs-params">serial:</span> GT550S2<br>    <span class="hljs-params">width:</span> <span class="hljs-number">64</span> bits<br>    <span class="hljs-params">capabilities:</span> smbios-<span class="hljs-number">2.8</span> dmi-<span class="hljs-number">2.8</span> smp vsyscall32<br>    <span class="hljs-params">configuration:</span> boot<span class="hljs-operator">=</span>normal chassis<span class="hljs-operator">=</span>rackmount sku<span class="hljs-operator">=</span>SKU<span class="hljs-operator">=</span>NotProvided;<span class="hljs-attr">ModelName</span><span class="hljs-operator">=</span>PowerEdge R630 uuid<span class="hljs-operator">=</span><span class="hljs-number">111</span>1-<span class="hljs-number">111</span>1-<span class="hljs-number">11</span>1-<span class="hljs-number">111</span>1-<span class="hljs-number">11111</span><br>  <span class="hljs-operator">*</span><span class="hljs-operator">-</span>pnp00:<span class="hljs-number">00</span><br>       <span class="hljs-params">product:</span> PnP device PNP0b00<br>       physical <span class="hljs-params">id:</span> <span class="hljs-number">8</span>a<br>       <span class="hljs-params">capabilities:</span> pnp<br>       <span class="hljs-params">configuration:</span> driver<span class="hljs-operator">=</span>rtc_cmos<br>  <span class="hljs-operator">*</span><span class="hljs-operator">-</span>pnp00:<span class="hljs-number">01</span><br>       <span class="hljs-params">product:</span> PnP device PNP0c02<br>       physical <span class="hljs-params">id:</span> <span class="hljs-number">8</span>b<br>       <span class="hljs-params">capabilities:</span> pnp<br>       <span class="hljs-params">configuration:</span> driver<span class="hljs-operator">=</span>system<br></code></pre></td></tr></table></figure><p><strong>虚拟机，结果中关注product，会有虚拟化信息</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">root@</span> <span class="hljs-string">/</span>]<span class="hljs-comment"># lshw -class system</span><br><br>    <span class="hljs-attr">description:</span> <span class="hljs-string">Computer</span><br>    <span class="hljs-attr">product:</span> <span class="hljs-string">KVM</span><br>    <span class="hljs-attr">vendor:</span> <span class="hljs-string">Red</span> <span class="hljs-string">Hat</span><br>    <span class="hljs-attr">version:</span> <span class="hljs-string">RHEL</span> <span class="hljs-number">7.6</span><span class="hljs-number">.0</span> <span class="hljs-string">PC</span> <span class="hljs-string">(i440FX</span> <span class="hljs-string">+</span> <span class="hljs-string">PIIX,</span> <span class="hljs-number">1996</span><span class="hljs-string">)</span><br>    <span class="hljs-attr">width:</span> <span class="hljs-number">64</span> <span class="hljs-string">bits</span><br>    <span class="hljs-attr">capabilities:</span> <span class="hljs-string">smbios-2.8</span> <span class="hljs-string">dmi-2.8</span> <span class="hljs-string">smp</span> <span class="hljs-string">vsyscall32</span><br>    <span class="hljs-attr">configuration:</span> <span class="hljs-string">boot=normal</span> <span class="hljs-string">family=Red</span> <span class="hljs-string">Hat</span> <span class="hljs-string">Enterprise</span> <span class="hljs-string">Linux</span> <span class="hljs-string">uuid=</span><br>  <span class="hljs-string">*-pnp00:04</span><br>       <span class="hljs-attr">product:</span> <span class="hljs-string">PnP</span> <span class="hljs-string">device</span> <span class="hljs-string">PNP0b00</span><br>       <span class="hljs-attr">physical id:</span> <span class="hljs-number">5</span><br>       <span class="hljs-attr">capabilities:</span> <span class="hljs-string">pnp</span><br>       <span class="hljs-attr">configuration:</span> <span class="hljs-string">driver=rtc_cmos</span><br></code></pre></td></tr></table></figure><p>阿里云</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs nix">(base) [root@ ~]<span class="hljs-comment"># lshw -class system</span><br><br>    <span class="hljs-params">description:</span> Computer<br>    <span class="hljs-params">product:</span> Alibaba Cloud ECS<br>    <span class="hljs-params">vendor:</span> Alibaba Cloud<br>    <span class="hljs-params">version:</span> pc-i440fx-<span class="hljs-number">2.1</span><br>    <span class="hljs-params">serial:</span> <span class="hljs-number">3</span>d6a05bd-<span class="hljs-number">014</span>a-<span class="hljs-number">479</span>6-<span class="hljs-number">974</span>e-<br>    <span class="hljs-params">width:</span> <span class="hljs-number">64</span> bits<br>    <span class="hljs-params">capabilities:</span> smbios-<span class="hljs-number">2.8</span> dmi-<span class="hljs-number">2.8</span> vsyscall32<br>    <span class="hljs-params">configuration:</span> boot<span class="hljs-operator">=</span>normal uuid<span class="hljs-operator">=</span><br>  <span class="hljs-operator">*</span><span class="hljs-operator">-</span>pnp00:<span class="hljs-number">00</span><br>       <span class="hljs-params">product:</span> PnP device PNP0b00<br>       physical <span class="hljs-params">id:</span> <span class="hljs-number">1</span><br>       <span class="hljs-params">capabilities:</span> pnp<br>       <span class="hljs-params">configuration:</span> driver<span class="hljs-operator">=</span>rtc_cmos<br></code></pre></td></tr></table></figure><h2 id="Windows服务器"><a href="#Windows服务器" class="headerlink" title="Windows服务器"></a>Windows服务器</h2><p>CMD命令</p><h3 id="systeminfo-findstr-i-“System-Model”"><a href="#systeminfo-findstr-i-“System-Model”" class="headerlink" title="systeminfo | findstr &#x2F;i “System Model”"></a>systeminfo | findstr &#x2F;i “System Model”</h3><h3 id="systeminfo-findstr-i-“系统型号”"><a href="#systeminfo-findstr-i-“系统型号”" class="headerlink" title="systeminfo | findstr &#x2F;i “系统型号”"></a>systeminfo | findstr &#x2F;i “系统型号”</h3><p><strong>非虚拟机，关注结果中是否存在硬件厂商信息</strong></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nsis">C:\Users&gt;<span class="hljs-params">system</span>info | findstr /i <span class="hljs-string">&quot;系统型号&quot;</span><br>系统型号:         IBM <span class="hljs-params">System</span>X X3550 M3 -[<span class="hljs-number">7944</span>ONT]-<br></code></pre></td></tr></table></figure><p><strong>虚拟机，关注结果中是否存在虚拟化信息</strong></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nsis">C:\Users\<span class="hljs-literal">admin</span>&gt;<span class="hljs-params">system</span>info | findstr /i <span class="hljs-string">&quot;系统型号&quot;</span><br>系统型号:         VMware Virtual Platform<br></code></pre></td></tr></table></figure><p>POWERSHELL命令</p><h3 id="get-wmiobject-win32-computersystem-fl-model"><a href="#get-wmiobject-win32-computersystem-fl-model" class="headerlink" title="get-wmiobject win32_computersystem | fl model"></a><strong>get-wmiobject win32_computersystem | fl model</strong></h3><p><strong>非虚拟机，关注结果中是否存在硬件厂商信息</strong></p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">PS</span> <span class="hljs-string">C</span>:\<span class="hljs-string">Users</span>&gt; <span class="hljs-built_in">get-wmiobject</span> <span class="hljs-string">win32_computersystem</span> | <span class="hljs-string">fl</span> <span class="hljs-string">model</span>  <span class="hljs-string">model</span> : <span class="hljs-string">IBM</span> <span class="hljs-string">SystemX</span> <span class="hljs-string">X3550</span> <span class="hljs-string">M3</span> -[<span class="hljs-string">7944ONT</span>]-<br></code></pre></td></tr></table></figure><p><strong>虚拟机，关注结果中是否存在虚拟化信息</strong></p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">PS</span> <span class="hljs-string">C</span>:\<span class="hljs-string">Users</span>\<span class="hljs-string">admin</span>&gt; <span class="hljs-built_in">get-wmiobject</span> <span class="hljs-string">win32_computersystem</span> | <span class="hljs-string">fl</span> <span class="hljs-string">model</span>  <span class="hljs-string">model</span> : <span class="hljs-string">VMware</span> <span class="hljs-string">Virtual</span> <span class="hljs-string">Platform</span>  <br></code></pre></td></tr></table></figure><h1 id="判断是否为容器"><a href="#判断是否为容器" class="headerlink" title="判断是否为容器"></a>判断是否为容器</h1><h3 id="查看-proc-1-cgroup"><a href="#查看-proc-1-cgroup" class="headerlink" title="查看 &#x2F;proc&#x2F;1&#x2F;cgroup"></a>查看 &#x2F;proc&#x2F;1&#x2F;cgroup</h3><p>原理：容器通过 cgroup 实现资源限制，查看是否在一个 cgroup 组中</p><p><strong>物理机或虚拟机</strong></p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@subdomain</span>-src /]<span class="hljs-comment"># cat /proc/1/cgroup</span><br><span class="hljs-number">13</span><span class="hljs-symbol">:freezer</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">12</span><span class="hljs-symbol">:perf_event</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">11</span><span class="hljs-symbol">:memory</span><span class="hljs-symbol">:/init</span>.scope<br><span class="hljs-number">10</span><span class="hljs-symbol">:blkio</span><span class="hljs-symbol">:/init</span>.scope<br><span class="hljs-number">9</span><span class="hljs-symbol">:cpuset</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">8</span><span class="hljs-symbol">:pids</span><span class="hljs-symbol">:/init</span>.scope<br><span class="hljs-number">7</span><span class="hljs-symbol">:net_cls</span>,<span class="hljs-symbol">net_prio:</span>/<br><span class="hljs-number">6</span><span class="hljs-symbol">:misc</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">5</span><span class="hljs-symbol">:devices</span><span class="hljs-symbol">:/init</span>.scope<br><span class="hljs-number">4</span><span class="hljs-symbol">:rdma</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">3</span><span class="hljs-symbol">:cpu</span>,<span class="hljs-symbol">cpuacct:</span>/init.scope<br><span class="hljs-number">2</span><span class="hljs-symbol">:hugetlb</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">1</span><span class="hljs-symbol">:name=systemd</span><span class="hljs-symbol">:/init</span>.scope<br></code></pre></td></tr></table></figure><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@localhost</span> /]<span class="hljs-comment"># cat /proc/1/cgroup</span><br><span class="hljs-number">11</span><span class="hljs-symbol">:devices</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">10</span><span class="hljs-symbol">:memory</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">9</span><span class="hljs-symbol">:perf_event</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">8</span><span class="hljs-symbol">:freezer</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">7</span><span class="hljs-symbol">:cpuacct</span>,<span class="hljs-symbol">cpu:</span>/<br><span class="hljs-number">6</span><span class="hljs-symbol">:blkio</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">5</span><span class="hljs-symbol">:net_prio</span>,<span class="hljs-symbol">net_cls:</span>/<br><span class="hljs-number">4</span><span class="hljs-symbol">:hugetlb</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">3</span><span class="hljs-symbol">:cpuset</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">2</span><span class="hljs-symbol">:pids</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">1</span><span class="hljs-symbol">:name=systemd</span><span class="hljs-symbol">:/</span><br></code></pre></td></tr></table></figure><p><strong>容器</strong></p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@4db3bdbde0f4</span> /]<span class="hljs-comment"># cat /proc/1/cgroup</span><br><span class="hljs-number">13</span><span class="hljs-symbol">:freezer</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">12</span><span class="hljs-symbol">:perf_event</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">11</span><span class="hljs-symbol">:memory</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">10</span><span class="hljs-symbol">:blkio</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">9</span><span class="hljs-symbol">:cpuset</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">8</span><span class="hljs-symbol">:pids</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">7</span><span class="hljs-symbol">:net_cls</span>,<span class="hljs-symbol">net_prio:</span>/docker/<span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">6</span><span class="hljs-symbol">:misc</span><span class="hljs-symbol">:/</span><br><span class="hljs-number">5</span><span class="hljs-symbol">:devices</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">4</span><span class="hljs-symbol">:rdma</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">3</span><span class="hljs-symbol">:cpu</span>,<span class="hljs-symbol">cpuacct:</span>/docker/<span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">2</span><span class="hljs-symbol">:hugetlb</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br><span class="hljs-number">1</span><span class="hljs-symbol">:name=systemd</span><span class="hljs-symbol">:/docker/</span><span class="hljs-number">4</span>db3bdbde0f47c7ccc0a316a3e48ee28dcb2532cfdd1807edd669a156a6735fe<br></code></pre></td></tr></table></figure><h3 id="查看-proc-1-cmdline"><a href="#查看-proc-1-cmdline" class="headerlink" title="查看 &#x2F;proc&#x2F;1&#x2F;cmdline"></a>查看 &#x2F;proc&#x2F;1&#x2F;cmdline</h3><p><strong>物理机或虚拟机为 systemd 或者init程序</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs swift">[root<span class="hljs-meta">@iZbp1191gh7vw52537lyxrZ</span> <span class="hljs-operator">~</span>]# cat <span class="hljs-regexp">/proc/</span><span class="hljs-number">1</span><span class="hljs-operator">/</span>cmdline<br><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/systemd/</span>systemd<span class="hljs-operator">--</span>system<span class="hljs-operator">--</span>deserialize25<br><br>[root<span class="hljs-meta">@localhost</span> <span class="hljs-regexp">/]# cat /</span>proc<span class="hljs-regexp">/1/</span>cmdline<br><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/systemd/</span>systemd<span class="hljs-operator">--</span>switched<span class="hljs-operator">-</span>root<span class="hljs-operator">--</span>system<span class="hljs-operator">--</span>deserialize22<br></code></pre></td></tr></table></figure><p><strong>容器为应用程序</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@4db3bdbde0f4 /]# <span class="hljs-built_in">cat</span> /proc/1/cmdline<br>/bin/bash<br></code></pre></td></tr></table></figure><h1 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h1><p>【1】判断服务器是否为虚拟机的几种方法 <a href="https://www.jianshu.com/u/f109418ce585">baiyongjie</a> 2020.04.03 23:02:16</p><p><a href="https://www.jianshu.com/p/cc9033914819">https://www.jianshu.com/p/cc9033914819</a></p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>cloudsec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>tips</tag>
      
      <tag>cloudsec</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>k8s_base</title>
    <link href="/2024/12/16/security/cloudsec/k8s/k8s_base/"/>
    <url>/2024/12/16/security/cloudsec/k8s/k8s_base/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>google开源</p><p>基础架构</p><p>master节点和node节点</p><p>master节点负责资源分配，应用调度，应用扩容等</p><p>node节点允许应用服务，node节点的kubelet负责进行master和node通信</p><p>k8s主要组件</p><p>kube-apiserver</p><h2 id="查看k8s版本"><a href="#查看k8s版本" class="headerlink" title="查看k8s版本"></a>查看k8s版本</h2><p>kubectl version</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[root@node02 ~]# kubectl <span class="hljs-keyword">version</span><br><span class="hljs-built_in">WARNING</span>: This <span class="hljs-keyword">version</span> information <span class="hljs-keyword">is</span> deprecated <span class="hljs-keyword">and</span> will be replaced <span class="hljs-keyword">with</span> the output <span class="hljs-keyword">from</span> kubectl <span class="hljs-keyword">version</span> <span class="hljs-comment">--short.  Use --output=yaml|json to get the full version.</span><br>Client <span class="hljs-keyword">Version</span>: <span class="hljs-keyword">version</span>.<span class="hljs-keyword">Info</span>&#123;Major:&quot;1&quot;, Minor:&quot;26&quot;, GitVersion:&quot;v1.26.1&quot;, GitCommit:&quot;8f94681cd294aa8cfd3407b8191f6c70214973a4&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2023-01-18T15:58:16Z&quot;, GoVersion:&quot;go1.19.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;&#125;<br>Kustomize <span class="hljs-keyword">Version</span>: v4<span class="hljs-number">.5</span><span class="hljs-number">.7</span><br><span class="hljs-keyword">Server</span> <span class="hljs-keyword">Version</span>: <span class="hljs-keyword">version</span>.<span class="hljs-keyword">Info</span>&#123;Major:&quot;1&quot;, Minor:&quot;24&quot;, GitVersion:&quot;v1.24.6&quot;, GitCommit:&quot;b39bf148cd654599a52e867485c02c4f9d28b312&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2022-09-21T13:12:04Z&quot;, GoVersion:&quot;go1.18.6&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;&#125;<br><span class="hljs-built_in">WARNING</span>: <span class="hljs-keyword">version</span> difference <span class="hljs-keyword">between</span> client (<span class="hljs-number">1.26</span>) <span class="hljs-keyword">and</span> <span class="hljs-keyword">server</span> (<span class="hljs-number">1.24</span>) exceeds the supported minor <span class="hljs-keyword">version</span> skew <span class="hljs-keyword">of</span> +/<span class="hljs-number">-1</span><br></code></pre></td></tr></table></figure><h2 id="查看-job"><a href="#查看-job" class="headerlink" title="查看 job"></a>查看 job</h2><p>kubectl get job</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@master01</span> kube-hunter]<span class="hljs-meta"># kubectl get job</span><br>NAME          COMPLETIONS   DURATION   AGE<br>kube-hunter   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>           <span class="hljs-number">49</span>s        <span class="hljs-number">57</span>m<br></code></pre></td></tr></table></figure><h2 id="删除job"><a href="#删除job" class="headerlink" title="删除job"></a>删除job</h2><h3 id="按照job名删除"><a href="#按照job名删除" class="headerlink" title="按照job名删除"></a>按照job名删除</h3><p>kubectl delete job jobname</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">[root@master01 kube-hunter]<span class="hljs-comment"># kubectl get job</span><br>NAME          COMPLETIONS   DURATION   AGE<br>kube-hunter   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>           <span class="hljs-number">49</span>s        <span class="hljs-number">57</span>m<br>[root@master01 kube-hunter]<span class="hljs-comment"># </span><br>[root@master01 kube-hunter]<span class="hljs-comment"># </span><br>[root@master01 kube-hunter]<span class="hljs-comment"># kubectl delete job kube-hunter</span><br>job.batch <span class="hljs-string">&quot;kube-hunter&quot;</span> deleted<br>[root@master01 kube-hunter]<span class="hljs-comment"># kubectl get job</span><br>No resources found <span class="hljs-keyword">in</span> <span class="hljs-keyword">default</span> namespace.<br></code></pre></td></tr></table></figure><h2 id="创建job"><a href="#创建job" class="headerlink" title="创建job"></a>创建job</h2><p><strong>kubectl create -f jobfile</strong></p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@master01</span> kube-hunter]<span class="hljs-meta"># kubectl create -f ./job.yaml</span><br><br>job.batch/kube-hunter created<br><br>[root<span class="hljs-symbol">@master01</span> kube-hunter]<span class="hljs-meta"># </span><br><br>[root<span class="hljs-symbol">@master01</span> kube-hunter]<span class="hljs-meta"># </span><br><br>[root<span class="hljs-symbol">@master01</span> kube-hunter]<span class="hljs-meta"># kubectl get jobs</span><br><br>NAME     COMPLETIONS  DURATION  AGE<br><br>kube-hunter  <span class="hljs-number">0</span>/<span class="hljs-number">1</span>      <span class="hljs-number">11</span>s    <span class="hljs-number">11</span>s<br></code></pre></td></tr></table></figure><h1 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h1>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>cloudsec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>base</tag>
      
      <tag>cloudsec</tag>
      
      <tag>k8s</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>datasec_数据加密</title>
    <link href="/2024/12/16/security/datasec/datasec_%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86/"/>
    <url>/2024/12/16/security/datasec/datasec_%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="数据加密技术"><a href="#数据加密技术" class="headerlink" title="数据加密技术"></a>数据加密技术</h1><h2 id="对称加密技术"><a href="#对称加密技术" class="headerlink" title="对称加密技术"></a>对称加密技术</h2><h3 id="对称加密技术原理"><a href="#对称加密技术原理" class="headerlink" title="对称加密技术原理"></a>对称加密技术原理</h3><p>对称加密是指加密和解密使用相同密钥的加密算法。</p><p>发送方和接收方必须共享同一个密钥。</p><p>数据发送者通过密钥对数据进行加密，数据接收方通过密钥对数据进行解密</p><h3 id="对称加密技术优点"><a href="#对称加密技术优点" class="headerlink" title="对称加密技术优点"></a>对称加密技术优点</h3><h4 id="加密速度快"><a href="#加密速度快" class="headerlink" title="加密速度快"></a>加密速度快</h4><p>相同密钥加解密</p><h4 id="算法简单易懂"><a href="#算法简单易懂" class="headerlink" title="算法简单易懂"></a>算法简单易懂</h4><p>原理直观，容易理解和实现</p><h3 id="对称加密技术缺点"><a href="#对称加密技术缺点" class="headerlink" title="对称加密技术缺点"></a>对称加密技术缺点</h3><h4 id="密钥管理困难"><a href="#密钥管理困难" class="headerlink" title="密钥管理困难"></a>密钥管理困难</h4><p>由于相同密钥，存在密钥分发，需要保障密钥安全性，尤其在密钥传输和存储阶段</p><h4 id="安全性相对较低"><a href="#安全性相对较低" class="headerlink" title="安全性相对较低"></a>安全性相对较低</h4><p>由于相同密钥，需要加解密双方共享密钥，如果密钥被泄露，就丧失了安全性</p><h3 id="常见对称加密算法"><a href="#常见对称加密算法" class="headerlink" title="常见对称加密算法"></a>常见对称加密算法</h3><h4 id="DES（数据加密标准）"><a href="#DES（数据加密标准）" class="headerlink" title="DES（数据加密标准）"></a>DES（数据加密标准）</h4><p>经典的对称加密算法，将数据分为64位的块进行加密。</p><p>由于密钥长度较短，只有56位，目前已被认为安全性不够</p><h4 id="3DES（3重数据加密标准）"><a href="#3DES（3重数据加密标准）" class="headerlink" title="3DES（3重数据加密标准）"></a>3DES（3重数据加密标准）</h4><p>DES加密算法改进版，对数据进行 3 次DES加密操作，使用两个或三个56位密钥</p><p>安全性有所增加，加密速度相对较慢</p><h4 id="AES（高级数据加密标准）"><a href="#AES（高级数据加密标准）" class="headerlink" title="AES（高级数据加密标准）"></a>AES（高级数据加密标准）</h4><p>目前广泛使用的对称加密算法之一</p><p>支持128位、192位和256位的密钥长度，能够对128位的数据进行高效加密</p><p>例如：存储敏感信息（数据密码）、网络通信（VPN数据传输）常用AES加密</p><h3 id="对称加密密钥传输安全"><a href="#对称加密密钥传输安全" class="headerlink" title="对称加密密钥传输安全"></a>对称加密密钥传输安全</h3><h4 id="应用密钥交换协议"><a href="#应用密钥交换协议" class="headerlink" title="应用密钥交换协议"></a>应用密钥交换协议</h4><h5 id="Diffie-Hellman-密钥交换协议"><a href="#Diffie-Hellman-密钥交换协议" class="headerlink" title="Diffie - Hellman 密钥交换协议"></a>Diffie - Hellman 密钥交换协议</h5><p>一种常用的密钥交换方法，它允许双方在不安全的通信信道上建立共享的密钥。其核心是基于离散对数问题的数学原理。</p><h5 id="椭圆曲线-Diffie-Hellman（ECDH）密钥交换协议"><a href="#椭圆曲线-Diffie-Hellman（ECDH）密钥交换协议" class="headerlink" title="椭圆曲线 Diffie - Hellman（ECDH）密钥交换协议"></a>椭圆曲线 Diffie - Hellman（ECDH）密钥交换协议</h5><p>Diffie - Hellman 密钥交换协议的一种变体，它基于椭圆曲线密码学（ECC）。在椭圆曲线上，点的运算（如加法和乘法）具有特定的数学性质。通信双方通过在椭圆曲线上进行点的运算来交换密钥。</p><h4 id="使用安全通道进行传输"><a href="#使用安全通道进行传输" class="headerlink" title="使用安全通道进行传输"></a>使用安全通道进行传输</h4><h5 id="SSL-TLS-协议保障"><a href="#SSL-TLS-协议保障" class="headerlink" title="SSL&#x2F;TLS 协议保障"></a>SSL&#x2F;TLS 协议保障</h5><p>SSL 安全套接字</p><p>TLS 传输层安全</p><p>SSL&#x2F;TLS 协议采用多种加密和认证技术。在加密方面，它可以使用公钥加密（如 RSA）来交换对称加密密钥，确保密钥的保密性。在认证方面，通过数字证书来验证通信双方的身份，防止中间人攻击。数字证书包含了公钥和相关机构的签名，接收方可以通过验证签名来确认公钥的真实性，从而保证密钥传输是在合法的双方之间进行。</p><h5 id="VPN（虚拟专用网络）辅助传输"><a href="#VPN（虚拟专用网络）辅助传输" class="headerlink" title="VPN（虚拟专用网络）辅助传输"></a>VPN（虚拟专用网络）辅助传输</h5><p>VPN 采用多种安全技术，如 IPsec 协议。IPsec 可以对数据进行加密和认证，确保数据的保密性、完整性和来源真实性。在传输对称密钥时，通过 IPsec 的加密功能，能够防止密钥在传输过程中被窃取或篡改，同时通过认证功能防止非法用户接入 VPN 通道获取密钥。</p><h4 id="应用密钥的预共享和密钥管理系统"><a href="#应用密钥的预共享和密钥管理系统" class="headerlink" title="应用密钥的预共享和密钥管理系统"></a>应用密钥的预共享和密钥管理系统</h4><h5 id="预共享密钥（PSK）"><a href="#预共享密钥（PSK）" class="headerlink" title="预共享密钥（PSK）"></a>预共享密钥（PSK）</h5><p>预共享密钥是一种在通信之前预先共享密钥的方式。</p><p>虽然预共享密钥简单方便，但也存在一定的安全风险。如果密钥被泄露，整个通信系统的安全将受到威胁。因此，对于预共享密钥的存储和使用需要采取严格的安全措施，如将密钥存储在安全的硬件设备（如硬件安全模块 - HSM）中，限制密钥的访问权限，并且定期更换密钥。</p><h5 id="密钥管理系统（KMS）"><a href="#密钥管理系统（KMS）" class="headerlink" title="密钥管理系统（KMS）"></a>密钥管理系统（KMS）</h5><h6 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h6><p>密钥管理系统是一种集中管理密钥的软件或硬件解决方案。它可以生成、存储、分发、更新和销毁密钥。在对称加密密钥传输过程中，KMS 可以发挥重要作用。例如，KMS 首先生成对称加密密钥，然后通过安全的方式（如上述的密钥交换协议或安全通道）将密钥分发给需要的用户或设备。同时，KMS 可以记录密钥的使用情况，对密钥进行加密存储，并且在密钥可能泄露或过期时及时进行更新或销毁。</p><h6 id="安全增强措施"><a href="#安全增强措施" class="headerlink" title="安全增强措施"></a>安全增强措施</h6><p>KMS 本身采用多种安全措施来保证密钥传输的安全。它可以使用多层加密技术，如对存储的密钥进行加密，并且在传输过程中再次加密。同时，KMS 具有严格的访问控制机制，只有经过授权的用户或系统才能访问和操作密钥，并且所有操作都有详细的审计记录，以确保密钥传输和使用过程的安全性。</p><h2 id="非对称加密技术"><a href="#非对称加密技术" class="headerlink" title="非对称加密技术"></a>非对称加密技术</h2><h3 id="非对称加密技术原理"><a href="#非对称加密技术原理" class="headerlink" title="非对称加密技术原理"></a>非对称加密技术原理</h3><p>非对称加密使用一对密钥，即公钥和私钥</p><p>数据加密方面：加密方使用公钥进行加密，解密方使用私钥进行解密</p><p>数据签名方面：签名方使用私钥进行签名，解密方使用公钥进行解密验证真实性</p><h3 id="常见非对称加密算法"><a href="#常见非对称加密算法" class="headerlink" title="常见非对称加密算法"></a>常见非对称加密算法</h3><h4 id="RSA（Rivest-Shamir-Adleman）"><a href="#RSA（Rivest-Shamir-Adleman）" class="headerlink" title="RSA（Rivest - Shamir - Adleman）"></a>RSA（Rivest - Shamir - Adleman）</h4><p>最著名的非对称加密算法之一</p><p>基于数论中的大整数分解问题，密钥长度通常在1024位以上</p><p>例如：在数字证书、SSL&#x2F;TLS 协议（用于验证服务器身份）以及安全电子邮件（如 PGP 加密）等场景中广泛使用 RSA</p><h4 id="ECC（椭圆曲线密码体制）"><a href="#ECC（椭圆曲线密码体制）" class="headerlink" title="ECC（椭圆曲线密码体制）"></a>ECC（椭圆曲线密码体制）</h4><p>基于椭圆曲线离散对数问题</p><p>相比于RSA，可以使用更短的密钥长度达到相同甚至更高的安全性</p><p>例如：在资源受限的设备（如移动设备、物联网设备）中，ECC 因其高效性而被广泛应用于安全通信和身份认证。</p><h3 id="非对称加密技术优势"><a href="#非对称加密技术优势" class="headerlink" title="非对称加密技术优势"></a>非对称加密技术优势</h3><h4 id="安全性高"><a href="#安全性高" class="headerlink" title="安全性高"></a>安全性高</h4><p>非对称加密使用公钥和私钥进行加密和解密，公钥公开，私钥保密，提高了数据传输的安全性</p><h4 id="密钥管理方便"><a href="#密钥管理方便" class="headerlink" title="密钥管理方便"></a>密钥管理方便</h4><p>在通信双方之间，不需要共享密钥，只需交换公钥即可进行加密通信，简化了密钥管理和分发的过程</p><h4 id="数字签名功能"><a href="#数字签名功能" class="headerlink" title="数字签名功能"></a>数字签名功能</h4><p>非对称加密可以用于数字签名，验证数据的完整性和真实性，保证通信的安全性</p><h3 id="非对称加密技术劣势"><a href="#非对称加密技术劣势" class="headerlink" title="非对称加密技术劣势"></a>非对称加密技术劣势</h3><h4 id="性能较低"><a href="#性能较低" class="headerlink" title="性能较低"></a>性能较低</h4><p>相较对称加密，非对称加密算法的加密解密速度较慢，特别是在处理大量数据时，会造成性能上的损耗</p><h4 id="密钥长度较长"><a href="#密钥长度较长" class="headerlink" title="密钥长度较长"></a>密钥长度较长</h4><p>为了确保安全性，非对称加密需要使用较长的密钥长度，相对占用的存储空间和传输开销较大</p><h4 id="部分算法安全性问题"><a href="#部分算法安全性问题" class="headerlink" title="部分算法安全性问题"></a>部分算法安全性问题</h4><p>非对称加密算法，如RSA的安全性基于数学难题，如大素数分解，随着计算效率的提高，存在被攻破的风险</p><h3 id="非对称加密技术应用场景"><a href="#非对称加密技术应用场景" class="headerlink" title="非对称加密技术应用场景"></a>非对称加密技术应用场景</h3><p>数字签名</p><p>身份认证</p><p>密钥交换：可以通过非对称加密安全地交换对称加密所需的密钥</p><h2 id="哈希加密技术"><a href="#哈希加密技术" class="headerlink" title="哈希加密技术"></a>哈希加密技术</h2><h3 id="哈希加密技术原理"><a href="#哈希加密技术原理" class="headerlink" title="哈希加密技术原理"></a>哈希加密技术原理</h3><p>单向加密算法</p><p>将任意长度数据转换为固定长度的哈希值，也称为消息摘要</p><p>具有不可逆性，即无法从哈希值反推出原始数据</p><p>验证数据完整性：相同的数据输入会产生相同的哈希值</p><h3 id="哈希加密技术算法"><a href="#哈希加密技术算法" class="headerlink" title="哈希加密技术算法"></a>哈希加密技术算法</h3><h4 id="MD5（消息摘要算法第5版）"><a href="#MD5（消息摘要算法第5版）" class="headerlink" title="MD5（消息摘要算法第5版）"></a>MD5（消息摘要算法第5版）</h4><p>曾被广泛应用</p><p>由于安全性存在严重的问题，如容易产生碰撞，即不同的数据可能产生相同的哈希值</p><p>目前已不建议用于安全敏感的场合</p><h4 id="SHA-1（安全哈希算法1）"><a href="#SHA-1（安全哈希算法1）" class="headerlink" title="SHA-1（安全哈希算法1）"></a>SHA-1（安全哈希算法1）</h4><p>160 位的哈希值长度在面对强大的计算能力攻击时可能不够安全</p><h4 id="SHA-2（安全哈希算法2）系列"><a href="#SHA-2（安全哈希算法2）系列" class="headerlink" title="SHA-2（安全哈希算法2）系列"></a>SHA-2（安全哈希算法2）系列</h4><p>SHA-224</p><p>SHA-256</p><p>目前安全性能较高的哈希算法</p><p>SHA - 256 常用于区块链技术（如比特币中用于验证交易的完整性）、文件完整性验证（如下载文件时验证文件是否被篡改）等场景</p><h4 id="SHA-3（安全哈希算法3）"><a href="#SHA-3（安全哈希算法3）" class="headerlink" title="SHA-3（安全哈希算法3）"></a>SHA-3（安全哈希算法3）</h4><h3 id="哈希加密技术应用场景"><a href="#哈希加密技术应用场景" class="headerlink" title="哈希加密技术应用场景"></a>哈希加密技术应用场景</h3><p>密码存储</p><p>数据完整性验证</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>datasec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>datasec</tag>
      
      <tag>数据加密</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo_install</title>
    <link href="/2024/12/15/yunwei/hexo/hexo_install/"/>
    <url>/2024/12/15/yunwei/hexo/hexo_install/</url>
    
    <content type="html"><![CDATA[<h2 id="安装基础环境"><a href="#安装基础环境" class="headerlink" title="安装基础环境"></a>安装基础环境</h2><h3 id="安装npm"><a href="#安装npm" class="headerlink" title="安装npm"></a>安装npm</h3><p>brew install npm</p><p>npm -v 查看已安装版本</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">➜  tthours <span class="hljs-built_in">npm</span> -v<br><span class="hljs-number">10.9</span><span class="hljs-number">.2</span><br></code></pre></td></tr></table></figure><h3 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h3><p>brew install node</p><p>node -v 查看已安装版本</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">➜  tthours <span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br>v23.<span class="hljs-number">4.0</span><br></code></pre></td></tr></table></figure><h3 id="安装hexo-cli"><a href="#安装hexo-cli" class="headerlink" title="安装hexo-cli"></a>安装hexo-cli</h3><p>npm install -g hexo-cli </p><h2 id="博客部署"><a href="#博客部署" class="headerlink" title="博客部署"></a>博客部署</h2><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>hexo init 博客文件夹</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs lasso">➜  tthours hexo init tthourshexo    <br>INFO  Cloning hexo<span class="hljs-params">-starter</span> https:<span class="hljs-comment">//github.com/hexojs/hexo-starter.git</span><br>INFO  Install dependencies<br><span class="hljs-params">...</span>.<br><span class="hljs-params">...</span>.<br>INFO  Start blogging <span class="hljs-keyword">with</span> Hexo!<br></code></pre></td></tr></table></figure><p>初始化之后会在当前目录创建 博客文件夹，文件夹中会存在以下目录及文件</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-built_in">config</span>.landscape.yml<br><span class="hljs-built_in">config</span>.yml<br>node modules  <span class="hljs-comment">#目录</span><br>package-lock.<span class="hljs-keyword">json</span><br><span class="hljs-keyword"></span>package.<span class="hljs-keyword">json</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">scaffolds </span> <span class="hljs-comment">#目录</span><br>source  <span class="hljs-comment">#目录</span><br>themes  <span class="hljs-comment">#目录</span><br>yarn.lock<br></code></pre></td></tr></table></figure><h3 id="本地测试"><a href="#本地测试" class="headerlink" title="本地测试"></a>本地测试</h3><p>进入创建的 博客文件夹</p><p>cd tthourshexo  </p><p>创建文件</p><p>hexo new hexo_install</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">➜  tthourshexo hexo new hexo_install<br>INFO  Validating config<br>INFO  Created: ~/tthours/tthourshexo/source/_posts/hexo-install.md<br></code></pre></td></tr></table></figure><p>静态化处理</p><p>hexo g</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs routeros">➜  tthourshexo hexo g<br><span class="hljs-built_in">INFO</span>  Validating<span class="hljs-built_in"> config</span><br><span class="hljs-built_in"></span><span class="hljs-built_in">INFO</span>  Start processing<br><span class="hljs-built_in">INFO</span>  Files loaded <span class="hljs-keyword">in</span> 159 ms<br><span class="hljs-built_in">INFO</span>  Generated: index.html<br><span class="hljs-built_in">INFO</span>  Generated: archives/index.html<br><span class="hljs-built_in">INFO</span>  Generated: js/script.js<br><span class="hljs-built_in">INFO</span>  Generated: css/style.css<br><span class="hljs-built_in">INFO</span>  Generated: archives/2024/12/index.html<br><span class="hljs-built_in">INFO</span>  Generated: fancybox/jquery.fancybox.min.css<br><span class="hljs-built_in">INFO</span>  Generated: archives/2024/index.html<br><span class="hljs-built_in">INFO</span>  Generated: fancybox/jquery.fancybox.min.js<br><span class="hljs-built_in">INFO</span>  Generated: js/jquery-3.6.4.min.js<br><span class="hljs-built_in">INFO</span>  Generated: css/images/banner.jpg<br><span class="hljs-built_in">INFO</span>  Generated: 2024/12/15/hello-world/index.html<br><span class="hljs-built_in">INFO</span>  Generated: 2024/12/15/hexo-install/index.html<br><span class="hljs-built_in">INFO</span>  12 files generated <span class="hljs-keyword">in</span> 109 ms<br></code></pre></td></tr></table></figure><p>启动服务预览</p><p>hexo s</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">➜  tthourshexo hexo s<br><span class="hljs-keyword">INFO</span>  Validating config<br><span class="hljs-keyword">INFO</span>  <span class="hljs-keyword">Start</span> processing<br><span class="hljs-keyword">INFO</span>  Hexo <span class="hljs-keyword">is</span> running at http://localhost:<span class="hljs-number">4000</span>/ . Press Ctrl+C <span class="hljs-keyword">to</span> stop.<br></code></pre></td></tr></table></figure><p>本地测试</p><p><a href="http://localhost:4000/">http://localhost:4000/</a></p><h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p>在hexo选择主题<a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><p>在博客文件夹下安装</p><p>npm install –save hexo-theme-fluid</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs applescript">➜  tthourshexo npm install <span class="hljs-comment">--save hexo-theme-fluid</span><br><br>up <span class="hljs-keyword">to</span> <span class="hljs-built_in">date</span>, audited <span class="hljs-number">224</span> packages <span class="hljs-keyword">in</span> <span class="hljs-number">2</span>s<br><br><span class="hljs-number">24</span> packages are looking <span class="hljs-keyword">for</span> funding<br>  <span class="hljs-built_in">run</span> `npm fund` <span class="hljs-keyword">for</span> details<br><br>found <span class="hljs-number">0</span> vulnerabilities<br></code></pre></td></tr></table></figure><p>fluid主题</p><p><a href="https://github.com/fluid-dev/hexo-theme-fluid?tab=readme-ov-file">https://github.com/fluid-dev/hexo-theme-fluid?tab=readme-ov-file</a></p><h2 id="关联GitHub"><a href="#关联GitHub" class="headerlink" title="关联GitHub"></a>关联GitHub</h2><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><h4 id="修改默认配置文件"><a href="#修改默认配置文件" class="headerlink" title="修改默认配置文件"></a>修改默认配置文件</h4><p>根目录下默认的_config.yml</p><h5 id="修改site"><a href="#修改site" class="headerlink" title="修改site"></a>修改site</h5><p>默认值</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"># Site<br><span class="hljs-symbol">title:</span> Hexo<br><span class="hljs-symbol">subtitle:</span> <span class="hljs-comment">&#x27;&#x27;</span><br><span class="hljs-symbol">description:</span> <span class="hljs-comment">&#x27;&#x27;</span><br><span class="hljs-symbol">keywords:</span><br><span class="hljs-symbol">author:</span> John Doe<br><span class="hljs-symbol">language:</span> en<br><span class="hljs-symbol">timezone:</span> <span class="hljs-comment">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>修改后</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"># Site<br><span class="hljs-symbol">title:</span> Ten thousand hours<br><span class="hljs-symbol">subtitle:</span> <span class="hljs-comment">&#x27;Ten thousand hours&#x27;</span><br><span class="hljs-symbol">description:</span> <span class="hljs-comment">&#x27;Ten thousand hours&#x27;</span><br><span class="hljs-symbol">keywords:</span><br><span class="hljs-symbol">author:</span> tt<br><span class="hljs-symbol">language:</span> zh-CN<br><span class="hljs-symbol">timezone:</span> <span class="hljs-comment">&#x27;Asia/Shanghai&#x27;</span><br></code></pre></td></tr></table></figure><p>url: <a href="http://example.com/">http://example.com</a></p><p>修改为</p><p>url: <a href="https://tthours.github.io/">https://tthours.github.io</a></p><h5 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h5><p>theme: fluid</p><h5 id="修改环境"><a href="#修改环境" class="headerlink" title="修改环境"></a>修改环境</h5><p>原始</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs clean"># Deployment<br>## Docs: https:<span class="hljs-comment">//hexo.io/docs/one-command-deployment</span><br>deploy:<br>  type: <span class="hljs-string">&#x27;&#x27;</span><br>  <br></code></pre></td></tr></table></figure><p>修改后</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">deploy:</span><br>  <span class="hljs-params">type:</span> &#x27;git&#x27;<br>  <span class="hljs-params">repository:</span> git@tthoursgithub.com:tthours<span class="hljs-symbol">/tthours.github.io.git</span><br>  <span class="hljs-params">branch:</span> main<br></code></pre></td></tr></table></figure><h3 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h3><p>如果有安装对应的主题，就需要新建主题对应的配置文件，复制默认配置文件进行修改</p><p>例如：fluid主题，创建_config.fluid.yml</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># Hexo Configuration</span><br><span class="hljs-comment"># 用于浏览器标签的图标</span><br><span class="hljs-comment"># Icon for browser tab</span><br><span class="hljs-comment"># 注意必须是png后缀格式</span><br><span class="hljs-params">favicon:</span> <span class="hljs-symbol">/img/hd.png</span><br><br><span class="hljs-comment"># 用于苹果设备的图标</span><br><span class="hljs-comment"># Icon for Apple touch</span><br><span class="hljs-params">apple_touch_icon:</span> <span class="hljs-symbol">/img/hd.png</span><br><br><span class="hljs-comment"># 导航栏的相关配置</span><br><span class="hljs-comment"># Navigation bar</span><br><span class="hljs-params">navbar:</span><br>  <span class="hljs-comment"># 导航栏左侧的标题，为空则按 hexo config 中 `title` 显示</span><br>  <span class="hljs-comment"># The title on the left side of the navigation bar. If empty, it is based on `title` in hexo config</span><br>  <span class="hljs-params">blog_title:</span> <span class="hljs-string">&quot;10000hours&quot;</span><br><br><span class="hljs-params">index:</span><br>  <span class="hljs-params">slogan:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-params">text:</span> <span class="hljs-string">&quot;每个人都需要对自己的人生负责&quot;</span><br>    <span class="hljs-comment">#api:</span><br>    <span class="hljs-comment">#  enable: false</span><br>    <span class="hljs-comment">#  url: &quot;https://v1.hitokoto.cn/&quot;</span><br>    <span class="hljs-comment">#  method: &quot;GET&quot;</span><br>    <span class="hljs-comment">#  headers: &#123;&#125;</span><br>    <span class="hljs-comment">#  keys: [&quot;hitokoto&quot;]</span><br>  <span class="hljs-params">post_url_target:</span> _blank<br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 文章页</span><br><span class="hljs-comment"># Post Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-params">post:</span><br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">banner_img_height:</span> <span class="hljs-number">70</span><br><br><br>  <span class="hljs-params">updated:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># 格式参照 ISO-8601 日期格式化</span><br>    <span class="hljs-comment"># ISO-8601 date format</span><br>    <span class="hljs-comment"># See: http://momentjs.cn/docs/#/parsing/string-format/</span><br>    <span class="hljs-params">date_format:</span> <span class="hljs-string">&quot;LL a&quot;</span><br><br>    <span class="hljs-comment"># 是否使用相对时间表示，比如：&quot;3 天前&quot;</span><br>    <span class="hljs-comment"># If true, it will be a relative time, such as: &quot;3 days ago&quot;</span><br>    <span class="hljs-params">relative:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># 提示标签类型</span><br>    <span class="hljs-comment"># Note class</span><br>    <span class="hljs-comment"># Options: default | primary | info | success | warning | danger | light</span><br>    <span class="hljs-params">note_class:</span> info<br>    <span class="hljs-comment"># 版权声明，会显示在每篇文章的结尾</span><br>  <span class="hljs-comment"># Copyright, will be displayed at the end of each post</span><br>  <span class="hljs-params">copyright:</span><br>    <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># CreativeCommons license</span><br>    <span class="hljs-comment"># Options: BY | BY-SA | BY-ND | BY-NC | BY-NC-SA | BY-NC-ND</span><br>    <span class="hljs-params">license:</span> &#x27;BY TT&#x27;<br><br>    <span class="hljs-comment"># 显示作者</span><br>    <span class="hljs-params">author:</span><br>      <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># 显示发布日期</span><br>    <span class="hljs-comment"># Show post date</span><br>    <span class="hljs-params">post_date:</span><br>      <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-params">format:</span> <span class="hljs-string">&quot;LL&quot;</span><br><br>    <span class="hljs-comment"># 显示更新日期</span><br>    <span class="hljs-comment"># Show update date</span><br>    <span class="hljs-params">update_date:</span><br>      <span class="hljs-params">enable:</span> <span class="hljs-literal">false</span><br>      <span class="hljs-params">format:</span> <span class="hljs-string">&quot;LL&quot;</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 归档页</span><br><span class="hljs-comment"># Archive Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-params">archive:</span><br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">banner_img_height:</span> <span class="hljs-number">60</span><br>  <span class="hljs-params">banner_mask_alpha:</span> <span class="hljs-number">0.3</span><br><br><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 分类页</span><br><span class="hljs-comment"># Category Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-params">category:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">banner_img_height:</span> <span class="hljs-number">60</span><br>  <span class="hljs-params">banner_mask_alpha:</span> <span class="hljs-number">0.3</span><br><br>  <span class="hljs-comment"># 分类的排序字段，前面带减号是倒序，不带减号是正序</span><br>  <span class="hljs-comment"># Sort field for categories, with a minus sign is reverse order</span><br>  <span class="hljs-comment"># Options: length | name</span><br>  <span class="hljs-params">order_by:</span> <span class="hljs-string">&quot;-length&quot;</span><br><br>  <span class="hljs-comment"># 层级的折叠深度，0 是全部折叠，大于 0 后如果存在子分类则默认展开</span><br>  <span class="hljs-comment"># Collapse depth. If 0, all posts collapsed. If greater than 0, it will be expanded by default if there are subcategories</span><br>  <span class="hljs-params">collapse_depth:</span> <span class="hljs-number">0</span><br><br>  <span class="hljs-comment"># 文章的排序字段，前面带减号是倒序，不带减号是正序</span><br>  <span class="hljs-comment"># Sort field for posts, with a minus sign is reverse order</span><br>  <span class="hljs-comment"># Options: date | title | or other field of front-matter</span><br>  <span class="hljs-params">post_order_by:</span> <span class="hljs-string">&quot;-date&quot;</span><br><br>  <span class="hljs-comment"># 单个分类中折叠展示文章数的最大值，超过限制会显示 More，0 则不限制</span><br>  <span class="hljs-comment"># The maximum number of posts in a single category. If the limit is exceeded, it will be displayed More. If 0 no limit</span><br>  <span class="hljs-params">post_limit:</span> <span class="hljs-number">10</span><br><br><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 标签页</span><br><span class="hljs-comment"># Tag Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-params">tag:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">banner_img_height:</span> <span class="hljs-number">80</span><br>  <span class="hljs-params">banner_mask_alpha:</span> <span class="hljs-number">0.3</span><br>  <span class="hljs-params">tagcloud:</span><br>    <span class="hljs-params">min_font:</span> <span class="hljs-number">15</span><br>    <span class="hljs-params">max_font:</span> <span class="hljs-number">30</span><br>    <span class="hljs-params">unit:</span> px<br>    <span class="hljs-params">start_color:</span> <span class="hljs-string">&quot;#BBBBEE&quot;</span><br>    <span class="hljs-params">end_color:</span> <span class="hljs-string">&quot;#337ab7&quot;</span><br><br><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 关于页</span><br><span class="hljs-comment"># About Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-params">about:</span><br>  <span class="hljs-params">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">banner_img:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">banner_img_height:</span> <span class="hljs-number">60</span><br>  <span class="hljs-params">banner_mask_alpha:</span> <span class="hljs-number">0.3</span><br>  <span class="hljs-params">avatar:</span> <span class="hljs-symbol">/img/hd.png</span><br>  <span class="hljs-params">name:</span> <span class="hljs-string">&quot;TT&quot;</span><br>  <span class="hljs-params">intro:</span> <span class="hljs-string">&quot;TT&quot;</span><br>  <span class="hljs-comment"># 更多图标可从 https://hexo.fluid-dev.com/docs/icon/ 查找，`class` 代表图标的 css class，添加 `qrcode` 后，图标不再是链接而是悬浮二维码</span><br>  <span class="hljs-comment"># More icons can be found from https://hexo.fluid-dev.com/docs/en/icon/  `class` is the css class of the icon. If adding `qrcode`, The icon is no longer a link, but a hovering QR code</span><br>  <span class="hljs-params">icons:</span><br>    <span class="hljs-operator">-</span> &#123; <span class="hljs-params">class:</span> <span class="hljs-string">&quot;iconfont icon-github-fill&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;https://github.com&quot;</span>, <span class="hljs-params">tip:</span> <span class="hljs-string">&quot;GitHub&quot;</span> &#125;<br>    <span class="hljs-operator">-</span> &#123; <span class="hljs-params">class:</span> <span class="hljs-string">&quot;iconfont icon-douban-fill&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;https://douban.com&quot;</span>, <span class="hljs-params">tip:</span> <span class="hljs-string">&quot;豆瓣&quot;</span> &#125;<br>    <span class="hljs-operator">-</span> &#123; <span class="hljs-params">class:</span> <span class="hljs-string">&quot;iconfont icon-wechat-fill&quot;</span>, <span class="hljs-params">qrcode:</span> <span class="hljs-string">&quot;/img/favicon.png&quot;</span> &#125;<br></code></pre></td></tr></table></figure><h3 id="安装部署工具"><a href="#安装部署工具" class="headerlink" title="安装部署工具"></a>安装部署工具</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br><br></code></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">➜  tthourshexo npm <span class="hljs-keyword">install </span>hexo-deployer-git --save<br><br><br><span class="hljs-keyword">added </span><span class="hljs-number">9</span> packages, <span class="hljs-keyword">and </span>audited <span class="hljs-number">233</span> packages in <span class="hljs-number">4</span>s<br><br><span class="hljs-number">30</span> packages are looking for funding<br>  run `npm fund` for details<br><br>found <span class="hljs-number">0</span> vulnerabilities<br></code></pre></td></tr></table></figure><h2 id="静态化文件"><a href="#静态化文件" class="headerlink" title="静态化文件"></a>静态化文件</h2><p>hexo g</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>hexo d</p>]]></content>
    
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python_env</title>
    <link href="/2024/11/11/dev/python3/python_env/"/>
    <url>/2024/11/11/dev/python3/python_env/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="update"><a href="#update" class="headerlink" title="update"></a>update</h2><h3 id="更新pip包"><a href="#更新pip包" class="headerlink" title="更新pip包"></a>更新pip包</h3><p>python3 -m pip install –upgrade pip</p><h2 id="error"><a href="#error" class="headerlink" title="error"></a>error</h2><h3 id="install-package-error"><a href="#install-package-error" class="headerlink" title="install package error"></a>install package error</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">➜  python3 -m pip install requests<br><span class="hljs-built_in">WARNING</span>: Retrying (Retry(total=<span class="hljs-number">4</span>, <span class="hljs-keyword">connect</span>=<span class="hljs-keyword">None</span>, <span class="hljs-keyword">read</span>=<span class="hljs-keyword">None</span>, redirect=<span class="hljs-keyword">None</span>, status=<span class="hljs-keyword">None</span>)) <span class="hljs-keyword">after</span> <span class="hljs-keyword">connection</span> broken <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;SSLError(SSLCertVerificationError(1, &#x27;</span>[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">local</span> issuer certificate (_ssl.c:<span class="hljs-number">1020</span>)<span class="hljs-string">&#x27;))&#x27;</span>: /simple/requests/<br><span class="hljs-built_in">WARNING</span>: Retrying (Retry(total=<span class="hljs-number">3</span>, <span class="hljs-keyword">connect</span>=<span class="hljs-keyword">None</span>, <span class="hljs-keyword">read</span>=<span class="hljs-keyword">None</span>, redirect=<span class="hljs-keyword">None</span>, status=<span class="hljs-keyword">None</span>)) <span class="hljs-keyword">after</span> <span class="hljs-keyword">connection</span> broken <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;SSLError(SSLCertVerificationError(1, &#x27;</span>[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">local</span> issuer certificate (_ssl.c:<span class="hljs-number">1020</span>)<span class="hljs-string">&#x27;))&#x27;</span>: /simple/requests/<br><span class="hljs-built_in">WARNING</span>: Retrying (Retry(total=<span class="hljs-number">2</span>, <span class="hljs-keyword">connect</span>=<span class="hljs-keyword">None</span>, <span class="hljs-keyword">read</span>=<span class="hljs-keyword">None</span>, redirect=<span class="hljs-keyword">None</span>, status=<span class="hljs-keyword">None</span>)) <span class="hljs-keyword">after</span> <span class="hljs-keyword">connection</span> broken <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;SSLError(SSLCertVerificationError(1, &#x27;</span>[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">local</span> issuer certificate (_ssl.c:<span class="hljs-number">1020</span>)<span class="hljs-string">&#x27;))&#x27;</span>: /simple/requests/<br><span class="hljs-built_in">WARNING</span>: Retrying (Retry(total=<span class="hljs-number">1</span>, <span class="hljs-keyword">connect</span>=<span class="hljs-keyword">None</span>, <span class="hljs-keyword">read</span>=<span class="hljs-keyword">None</span>, redirect=<span class="hljs-keyword">None</span>, status=<span class="hljs-keyword">None</span>)) <span class="hljs-keyword">after</span> <span class="hljs-keyword">connection</span> broken <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;SSLError(SSLCertVerificationError(1, &#x27;</span>[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">local</span> issuer certificate (_ssl.c:<span class="hljs-number">1020</span>)<span class="hljs-string">&#x27;))&#x27;</span>: /simple/requests/<br><span class="hljs-built_in">WARNING</span>: Retrying (Retry(total=<span class="hljs-number">0</span>, <span class="hljs-keyword">connect</span>=<span class="hljs-keyword">None</span>, <span class="hljs-keyword">read</span>=<span class="hljs-keyword">None</span>, redirect=<span class="hljs-keyword">None</span>, status=<span class="hljs-keyword">None</span>)) <span class="hljs-keyword">after</span> <span class="hljs-keyword">connection</span> broken <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;SSLError(SSLCertVerificationError(1, &#x27;</span>[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">local</span> issuer certificate (_ssl.c:<span class="hljs-number">1020</span>)<span class="hljs-string">&#x27;))&#x27;</span>: /simple/requests/<br>Could <span class="hljs-keyword">not</span> <span class="hljs-keyword">fetch</span> URL https://pypi.org/simple/requests/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host=<span class="hljs-string">&#x27;pypi.org&#x27;</span>, port=<span class="hljs-number">443</span>): Max retries exceeded <span class="hljs-keyword">with</span> url: /simple/requests/ (Caused <span class="hljs-keyword">by</span> SSLError(SSLCertVerificationError(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1020)&#x27;</span>))) - skipping<br>ERROR: Could <span class="hljs-keyword">not</span> find a <span class="hljs-keyword">version</span> that satisfies the requirement requests (<span class="hljs-keyword">from</span> versions: <span class="hljs-keyword">none</span>)<br>Could <span class="hljs-keyword">not</span> <span class="hljs-keyword">fetch</span> URL https://pypi.org/simple/pip/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host=<span class="hljs-string">&#x27;pypi.org&#x27;</span>, port=<span class="hljs-number">443</span>): Max retries exceeded <span class="hljs-keyword">with</span> url: /simple/pip/ (Caused <span class="hljs-keyword">by</span> SSLError(SSLCertVerificationError(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1020)&#x27;</span>))) - skipping<br>ERROR: <span class="hljs-keyword">No</span> matching distribution <span class="hljs-built_in">found</span> <span class="hljs-keyword">for</span> requests<br></code></pre></td></tr></table></figure><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>可能是代理问题，关闭代理</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">➜  code python3 -m pip install requests<br>Collecting requests<br>  Downloading requests<span class="hljs-number">-2.32</span><span class="hljs-number">.3</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl.metadata (<span class="hljs-number">4.6</span> kB)<br>Collecting charset-normalizer&lt;<span class="hljs-number">4</span>,&gt;=<span class="hljs-number">2</span> (<span class="hljs-keyword">from</span> requests)<br>  Downloading charset_normalizer<span class="hljs-number">-3.4</span><span class="hljs-number">.0</span>-cp313-cp313-macosx_11_0_arm64.whl.metadata (<span class="hljs-number">34</span> kB)<br>Collecting idna&lt;<span class="hljs-number">4</span>,&gt;=<span class="hljs-number">2.5</span> (<span class="hljs-keyword">from</span> requests)<br>  Downloading idna<span class="hljs-number">-3.10</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl.metadata (<span class="hljs-number">10</span> kB)<br>Collecting urllib3&lt;<span class="hljs-number">3</span>,&gt;=<span class="hljs-number">1.21</span><span class="hljs-number">.1</span> (<span class="hljs-keyword">from</span> requests)<br>  Downloading urllib3<span class="hljs-number">-2.2</span><span class="hljs-number">.3</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl.metadata (<span class="hljs-number">6.5</span> kB)<br>Collecting certifi&gt;=<span class="hljs-number">2017.4</span><span class="hljs-number">.17</span> (<span class="hljs-keyword">from</span> requests)<br>  Downloading certifi<span class="hljs-number">-2024.8</span><span class="hljs-number">.30</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl.metadata (<span class="hljs-number">2.2</span> kB)<br>Downloading requests<span class="hljs-number">-2.32</span><span class="hljs-number">.3</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl (<span class="hljs-number">64</span> kB)<br>Downloading certifi<span class="hljs-number">-2024.8</span><span class="hljs-number">.30</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl (<span class="hljs-number">167</span> kB)<br>Downloading charset_normalizer<span class="hljs-number">-3.4</span><span class="hljs-number">.0</span>-cp313-cp313-macosx_11_0_arm64.whl (<span class="hljs-number">119</span> kB)<br>Downloading idna<span class="hljs-number">-3.10</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl (<span class="hljs-number">70</span> kB)<br>Downloading urllib3<span class="hljs-number">-2.2</span><span class="hljs-number">.3</span>-py3-<span class="hljs-keyword">none</span>-<span class="hljs-keyword">any</span>.whl (<span class="hljs-number">126</span> kB)<br>Installing collected packages: urllib3, idna, charset-normalizer, certifi, requests<br>  <span class="hljs-built_in">WARNING</span>: The script normalizer <span class="hljs-keyword">is</span> installed <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;/Library/Frameworks/Python.framework/Versions/3.13/bin&#x27;</span> which <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">on</span> <span class="hljs-type">PATH</span>.<br>  Consider adding this directory <span class="hljs-keyword">to</span> <span class="hljs-type">PATH</span> <span class="hljs-keyword">or</span>, <span class="hljs-keyword">if</span> you prefer <span class="hljs-keyword">to</span> suppress this <span class="hljs-built_in">warning</span>, use <span class="hljs-comment">--no-warn-script-location.</span><br>Successfully installed certifi<span class="hljs-number">-2024.8</span><span class="hljs-number">.30</span> charset-normalizer<span class="hljs-number">-3.4</span><span class="hljs-number">.0</span> idna<span class="hljs-number">-3.10</span> requests<span class="hljs-number">-2.32</span><span class="hljs-number">.3</span> urllib3<span class="hljs-number">-2.2</span><span class="hljs-number">.3</span><br><br>[<span class="hljs-keyword">notice</span>] A <span class="hljs-built_in">new</span> <span class="hljs-keyword">release</span> <span class="hljs-keyword">of</span> pip <span class="hljs-keyword">is</span> available: <span class="hljs-number">24.2</span> -&gt; <span class="hljs-number">24.3</span><span class="hljs-number">.1</span><br>[<span class="hljs-keyword">notice</span>] <span class="hljs-keyword">To</span> <span class="hljs-keyword">update</span>, run: python3 -m pip install <span class="hljs-comment">--upgrade pip</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tips</tag>
      
      <tag>dev</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python_base</title>
    <link href="/2024/11/11/dev/python3/python3_base/"/>
    <url>/2024/11/11/dev/python3/python3_base/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p>默认情况下，python3源码文件以UTF-8编码，所有字符串均为unicode字符串</p><h3 id="设置编码"><a href="#设置编码" class="headerlink" title="设置编码"></a>设置编码</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># -<span class="hljs-emphasis">*- coding:utf-8 -*</span>-</span><br></code></pre></td></tr></table></figure><h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>第一个字符必须是字母或下划线_</p><p>标识符组成为数字、大小写字母、下划线_</p><h3 id="保留字"><a href="#保留字" class="headerlink" title="保留字"></a>保留字</h3><p>保留字即关键字，不可用于标识符</p><p>保留字查询模块keyword</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><br><span class="hljs-keyword">import</span> keyword<br><span class="hljs-built_in">print</span>(keyword.kwlist)<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">➜  pythoncode <span class="hljs-regexp">/opt/</span>homebrew<span class="hljs-regexp">/bin/</span>python3 <span class="hljs-regexp">/Users/</span>admin<span class="hljs-regexp">/python/</span>pythoncode/<span class="hljs-number">1</span>.py<br>[<span class="hljs-string">&#x27;False&#x27;</span>, <span class="hljs-string">&#x27;None&#x27;</span>, <span class="hljs-string">&#x27;True&#x27;</span>, <span class="hljs-string">&#x27;and&#x27;</span>, <span class="hljs-string">&#x27;as&#x27;</span>, <span class="hljs-string">&#x27;assert&#x27;</span>, <span class="hljs-string">&#x27;async&#x27;</span>, <span class="hljs-string">&#x27;await&#x27;</span>, <span class="hljs-string">&#x27;break&#x27;</span>, <span class="hljs-string">&#x27;class&#x27;</span>, <span class="hljs-string">&#x27;continue&#x27;</span>, <span class="hljs-string">&#x27;def&#x27;</span>, <span class="hljs-string">&#x27;del&#x27;</span>, <span class="hljs-string">&#x27;elif&#x27;</span>, <span class="hljs-string">&#x27;else&#x27;</span>, <span class="hljs-string">&#x27;except&#x27;</span>, <span class="hljs-string">&#x27;finally&#x27;</span>, <span class="hljs-string">&#x27;for&#x27;</span>, <span class="hljs-string">&#x27;from&#x27;</span>, <span class="hljs-string">&#x27;global&#x27;</span>, <span class="hljs-string">&#x27;if&#x27;</span>, <span class="hljs-string">&#x27;import&#x27;</span>, <span class="hljs-string">&#x27;in&#x27;</span>, <span class="hljs-string">&#x27;is&#x27;</span>, <span class="hljs-string">&#x27;lambda&#x27;</span>, <span class="hljs-string">&#x27;nonlocal&#x27;</span>, <span class="hljs-string">&#x27;not&#x27;</span>, <span class="hljs-string">&#x27;or&#x27;</span>, <span class="hljs-string">&#x27;pass&#x27;</span>, <span class="hljs-string">&#x27;raise&#x27;</span>, <span class="hljs-string">&#x27;return&#x27;</span>, <span class="hljs-string">&#x27;try&#x27;</span>, <span class="hljs-string">&#x27;while&#x27;</span>, <span class="hljs-string">&#x27;with&#x27;</span>, <span class="hljs-string">&#x27;yield&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>单行注释 #</p><p>多行注释 ‘’’   ‘’’&#x2F; “””   “””</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&#x27;&#x27;&#x27;<br>多行注释<br>&#x27;&#x27;&#x27;<br><br>&quot;&quot;&quot;多行注释&quot;&quot;<br></code></pre></td></tr></table></figure><h3 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h3><p>同一个代码块的语句必须包含相同的缩进空格数</p><h3 id="多行语句"><a href="#多行语句" class="headerlink" title="多行语句"></a>多行语句</h3><p>可以用 \ 连接多行语句</p><p>[]、{}、()中的多行语句不能用\连接</p><h3 id="等待输入"><a href="#等待输入" class="headerlink" title="等待输入"></a>等待输入</h3><p>input()</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title">input</span>(<span class="hljs-string">&quot;请准备输入～&quot;</span>)</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">➜  pythoncode <span class="hljs-regexp">/opt/</span>homebrew<span class="hljs-regexp">/bin/</span>python3 <span class="hljs-regexp">/Users/</span>admin<span class="hljs-regexp">/python/</span>pythoncode/<span class="hljs-number">1</span>.py<br>请准备输入～<br></code></pre></td></tr></table></figure><h3 id="print输出"><a href="#print输出" class="headerlink" title="print输出"></a>print输出</h3><p>print()</p><p>默认换行</p><p>不换行需要在变量末尾加上 end&#x3D;””</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">a</span> = <span class="hljs-string">&quot;a1&quot;</span><br><span class="hljs-selector-tag">b</span> = <span class="hljs-string">&quot;b1&quot;</span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b)</span></span><br><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(a, end=<span class="hljs-string">&quot;&quot;</span>)</span></span><br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(b, end=<span class="hljs-string">&quot;&quot;</span>)</span></span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">➜  pythoncode <span class="hljs-regexp">/opt/</span>homebrew<span class="hljs-regexp">/bin/</span>python3 <span class="hljs-regexp">/Users/</span>admin<span class="hljs-regexp">/python/</span>pythoncode/<span class="hljs-number">1</span>.py<br>a1<br>b1<br>a1b1%         <br></code></pre></td></tr></table></figure><h3 id="import-from-import"><a href="#import-from-import" class="headerlink" title="import&#x2F;from import"></a>import&#x2F;from import</h3><h4 id="导入整个模块"><a href="#导入整个模块" class="headerlink" title="导入整个模块"></a>导入整个模块</h4><p>import modulename</p><h4 id="导入模块单个函数"><a href="#导入模块单个函数" class="headerlink" title="导入模块单个函数"></a>导入模块单个函数</h4><p>from moudlename import funname</p><h4 id="导入模块多个函数"><a href="#导入模块多个函数" class="headerlink" title="导入模块多个函数"></a>导入模块多个函数</h4><p>from moudlename import funname1,funname2</p><h4 id="导入模块所有函数"><a href="#导入模块所有函数" class="headerlink" title="导入模块所有函数"></a>导入模块所有函数</h4><p>from moudlename import *</p><h1 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量不需要声明</p><p>变量必须赋值</p><p>等号&#x3D;进行赋值</p><h2 id="多变量赋值"><a href="#多变量赋值" class="headerlink" title="多变量赋值"></a>多变量赋值</h2><p>varname1 &#x3D; varname2 &#x3D; varname3 &#x3D; varvalue</p><p>varname3, varname4, varname5 &#x3D; varvalue3, varvalue4, varvalue5</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><br><br>varname1 = varname2 = varname3 = <span class="hljs-string">&quot;varvalue&quot;</span><br><br>varname4, varname5, varname6 = <span class="hljs-string">&quot;varvalue4&quot;</span>, <span class="hljs-string">&quot;varvalue5&quot;</span>, <span class="hljs-string">&quot;varvalue6&quot;</span><br><br><span class="hljs-built_in">print</span>(varname1, varname2,varname3,varname4,varname5,varname6)<br><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">➜  pythoncode <span class="hljs-regexp">/opt/</span>homebrew<span class="hljs-regexp">/bin/</span>python3 <span class="hljs-regexp">/Users/</span>admin<span class="hljs-regexp">/python/</span>pythoncode/<span class="hljs-number">1</span>.py<br>varvalue varvalue varvalue varvalue4 varvalue5 varvalue6<br></code></pre></td></tr></table></figure><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>bool布尔类型</p><h4 id="不可变数据"><a href="#不可变数据" class="headerlink" title="不可变数据"></a>不可变数据</h4><h5 id="Number数字"><a href="#Number数字" class="headerlink" title="Number数字"></a>Number数字</h5><p>int</p><p>float</p><p>complex复数</p><p>注意：</p><p>1、True和False可以与数字相加，True&#x3D;&#x3D;1、False&#x3D;&#x3D;0返回True</p><p>2、数值的除法包含两个运算符：**&#x2F;** 返回一个浮点数，**&#x2F;&#x2F;** 返回一个整数</p><p>3、在混合计算时，Python会把整型转换成为浮点数</p><h6 id="bool"><a href="#bool" class="headerlink" title="bool"></a>bool</h6><p>int 的子类</p><p>两个值 True&#x2F;False</p><p>可以和其他数据类型比较，True等价为 1，False等价为0</p><p>所有非零的数字和非空的字符串、列表、元组等数据类型都视为 True，0、空字符串、空列表、空元组被视为False</p><h5 id="String字符串"><a href="#String字符串" class="headerlink" title="String字符串"></a>String字符串</h5><p>单引号’’或双引号””包含</p><p>使用反斜线\转义特殊字符</p><p>截取格式：变量名[开始下标:结束下标]，下标(索引)从 0 开始，-1为从末尾的开始位置</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = <span class="hljs-string">&quot;stringtest&quot;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>])</span><br>tri<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[-<span class="hljs-number">4</span>:-<span class="hljs-number">1</span>])</span><br>tes<br></code></pre></td></tr></table></figure><p>没有开始下标</p><p>没有结束下标，表示从开始位置到结束</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = <span class="hljs-string">&quot;stringtest&quot;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[-<span class="hljs-number">5</span>:])</span><br>gtest<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[<span class="hljs-number">5</span>:])</span><br>gtest<br></code></pre></td></tr></table></figure><p>没有开始下标，表示从头到结束下标</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = <span class="hljs-string">&quot;stringtest&quot;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[:<span class="hljs-number">5</span>])</span><br>strin<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a[:-<span class="hljs-number">5</span>])</span><br>strin<br></code></pre></td></tr></table></figure><p>加号 + 字符连接符</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a + <span class="hljs-string">&quot;20241112&quot;</span>)</span><br>stringtest20241112<br></code></pre></td></tr></table></figure><p>星号 ***** 表示复制当前字符串，与之结合的数字为复制的次数</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(a * <span class="hljs-number">2</span>)</span><br>stringteststringtest<br></code></pre></td></tr></table></figure><p>反斜杠 \ 转义特殊字符，字符串前加r，反斜杠不再转义，显示原始字符串</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;te\nst&quot;</span>)</span><br>te<br>st<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-string">r&quot;te\nst&quot;</span>)</span><br>te\nst<br></code></pre></td></tr></table></figure><p>注意</p><p>1、没有单独的字符类型，一个字符就是长度为1的字符串</p><p>2、反斜杠可以用来转义，使用r可以让反斜杠不发生转义</p><p>3、字符串可以用+运算符连接在一起，用*运算符重复</p><p>4、字符串有两种索引方式，从左往右以0开始，从右往左以-1开始</p><p>5、字符串不能改变</p><p>a[1] &#x3D; 1 会报错</p><h5 id="Tuple元组"><a href="#Tuple元组" class="headerlink" title="Tuple元组"></a>Tuple元组</h5><p>圆括号()标识，逗号,分隔元素，元素不可二次赋值，相当于不可变列表</p><p>元素类型可以不相同</p><p>元组名(开始下标:结束下标)</p><p>开始下标从0开始</p><p>空元组 ()</p><p>单元素元组，元素后需要逗号， (1,)</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">tupletest = (<span class="hljs-number">1</span>, <span class="hljs-string">&quot;test&quot;</span>, <span class="hljs-number">2.1</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(tupletest[<span class="hljs-number">1</span>])</span><br>test<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(tupletest[<span class="hljs-number">0</span>])</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(tupletest[<span class="hljs-number">2</span>])</span><br>2.1<br></code></pre></td></tr></table></figure><p>给元组元素二次赋值会报错</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&gt;&gt;&gt; tupletest<span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">2</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;python-input-8&gt;&quot;</span>, <span class="hljs-selector-tag">line</span> <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    tupletest<span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">2</span><br>    ~~~~~~~~~^^^<br>TypeError: <span class="hljs-string">&#x27;tuple&#x27;</span> <span class="hljs-selector-tag">object</span> does not support item assignment<br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><h5 id="bytes类型"><a href="#bytes类型" class="headerlink" title="bytes类型"></a>bytes类型</h5><p>1、不可变的二进制序列（byte sequence）</p><p>2、元素是整数值（0 到 255 之间的整数），例如：字符a存储的是97，而不是 Unicode 字符</p><p>3、常使用 b 前缀创建</p><p>4、常用于处理二进制数据，比如图像文件、音频文件、视频文件等等</p><p>网络编程中常使用 bytes 类型来传输二进制数据</p><p>5、bytes()函数将其他对象转换为bytes类型</p><p>​y &#x3D; bytes(x,encoding&#x3D;”utf-8”)</p><p>​x参数为需要转换的对象</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">test = <span class="hljs-string">&quot;hello&quot;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bytes</span>(test, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>))</span><br>b&#x27;hello&#x27;<br></code></pre></td></tr></table></figure><p>6、bytes类型支持切片、拼接、查找等操作，因为是不可变类型，操作需要创建新的变量</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; aa = b<span class="hljs-string">&#x27;testaa&#x27;</span><br>&gt;&gt;&gt; print(type(aa))<br>&lt;<span class="hljs-keyword">class</span> &#x27;<span class="hljs-symbol">bytes</span>&#x27;&gt;<br>&gt;&gt;&gt; <span class="hljs-symbol">cc</span> = <span class="hljs-symbol">aa</span>[<span class="hljs-symbol">1:<span class="hljs-symbol">3</span></span>]<br>&gt;&gt;&gt; <span class="hljs-symbol">print</span>(<span class="hljs-symbol">cc</span>)<br><span class="hljs-symbol">b</span>&#x27;<span class="hljs-symbol">es</span>&#x27;<br>&gt;&gt;&gt; <span class="hljs-symbol">dd</span> = <span class="hljs-symbol">cc</span> + <span class="hljs-symbol">aa</span><br>&gt;&gt;&gt; <span class="hljs-symbol">print</span>(<span class="hljs-symbol">dd</span>)<br><span class="hljs-symbol">b</span>&#x27;<span class="hljs-symbol">estestaa</span>&#x27;<br></code></pre></td></tr></table></figure><p>7、由于bytes变量中存储的是整数，所以对比的时候需要将字符转换为整数，使用ord()函数</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">if</span> aa[<span class="hljs-number">1</span>] == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;e&#x27;</span>):</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;OK&quot;</span>)</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python"><span class="hljs-keyword">else</span>:</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;NO&quot;</span>)</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    </span><br>OK<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">if</span> aa[<span class="hljs-number">1</span>] == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;i&#x27;</span>):</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;OK&quot;</span>)</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python"><span class="hljs-keyword">else</span>:</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;NO&quot;</span>)</span><br><span class="hljs-meta prompt_">...</span> <span class="language-python">    </span><br>NO<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br></code></pre></td></tr></table></figure><h4 id="可变数据"><a href="#可变数据" class="headerlink" title="可变数据"></a>可变数据</h4><h5 id="List列表"><a href="#List列表" class="headerlink" title="List列表"></a>List列表</h5><p>列表值支持数字、字符串、列表</p><p>方括号[]标识，逗号分隔的元素列表</p><p>可以通过下标索引分隔列表，返回新的列表</p><p>列表名[开始下标:结束下标]</p><p>索引键从0开始，结尾从-1开始</p><p>注意：</p><p>加号 + 列表连接符</p><p>星号 * 列表重复符</p><p>支持第三个参数，按步长获取数据，2是跨1个字符读取</p><h5 id="Dictionary字典"><a href="#Dictionary字典" class="headerlink" title="Dictionary字典"></a>Dictionary字典</h5><p>大括号{}标识</p><p>key 和 value 组成 </p><p>同一字典，key必须唯一</p><p>创建空字典使用{}</p><p>可变数据类型，元素可以二次赋值</p><p>dicttest &#x3D; {‘key’:’value’}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dicttest = &#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-string">&quot;value1&quot;</span>, <span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;value2&quot;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(dicttest)<br>&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: <span class="hljs-string">&#x27;value1&#x27;</span>, <span class="hljs-string">&#x27;key2&#x27;</span>: <span class="hljs-string">&#x27;value2&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>dicttest[‘key’]&#x3D;”value”</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dicttest[<span class="hljs-string">&#x27;key1&#x27;</span>]=<span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(dicttest)<br>&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;key2&#x27;</span>: <span class="hljs-string">&#x27;value2&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><h6 id="Dictionary与List对比"><a href="#Dictionary与List对比" class="headerlink" title="Dictionary与List对比"></a>Dictionary与List对比</h6><p>List 有序的对象集合</p><p>Dictionary 无序的对象集合</p><h5 id="Set集合"><a href="#Set集合" class="headerlink" title="Set集合"></a>Set集合</h5><p>无序、可变的数据类型，用于存储唯一的元素</p><p>元素不可重复</p><p>可进行交集、并集、差集等常见的集合操作</p><p>大括号{}标识，逗号,分隔元素</p><p>set()函数创建或{value1,value2…}创建</p><p>空集合必须使用set()创建，不可以用{}创建，{}是创建空字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>aaa = &#123;&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(&#123;&#125;))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;dict&#x27;</span>&gt;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>ccc = <span class="hljs-built_in">set</span>()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(ccc))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;set&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h1 id="注释-1"><a href="#注释-1" class="headerlink" title="注释"></a>注释</h1><h2 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h2><h2 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h2><p>‘’’  ‘’’</p><p>“””   “””</p><h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><ul><li></li></ul><ul><li></li></ul><ul><li></li></ul><p>&#x2F;</p><p>% 取模，返回除法的余数</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">22</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">11</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x % y</span><br>0<br></code></pre></td></tr></table></figure><p>** 幂  x**y 返回 x 的y次方</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">22</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">z = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x**z</span><br>484<br></code></pre></td></tr></table></figure><p>&#x2F;&#x2F; 取整除 - 往小的方向取整数</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">z = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">zz = <span class="hljs-number">11</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">zz//z</span><br>5<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cc = -<span class="hljs-number">11</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">cc // z</span><br>-6<br></code></pre></td></tr></table></figure><h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>返回bool值True或False</p><p>&#x3D;&#x3D; 等于</p><p>!&#x3D; 不等于</p><p>&gt; 大于</p><p>&lt; 小于</p><p>&gt;&#x3D; 大于等于</p><p>&lt;&#x3D; 小于等于</p><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>&#x3D; 赋值</p><p>+&#x3D; 加法赋值运算符</p><p>​a +&#x3D; b 等价 a &#x3D; a+b</p><p>-&#x3D; 减法赋值运算符</p><p>*&#x3D; 乘法赋值运算符</p><p>&#x2F;&#x3D; 除法赋值运算符</p><p>%&#x3D; 取模赋值运算符</p><p>**&#x3D; 幂赋值运算符</p><p>&#x2F;&#x2F;&#x3D; 取整除赋值运算符</p><p>:&#x3D; 海象运算符</p><p>​表达式中同时进行赋值和返回赋值的值</p><p>​    a :&#x3D; 10，表示将10赋值给a，并返回a</p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><h3 id="and"><a href="#and" class="headerlink" title="and"></a>and</h3><p>布尔与</p><p>x and y，如果 x 为 false，则返回x，否则返回y</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">0</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x <span class="hljs-keyword">and</span> y</span><br>0<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x <span class="hljs-keyword">and</span> y</span><br>1<br></code></pre></td></tr></table></figure><h3 id="or"><a href="#or" class="headerlink" title="or"></a>or</h3><p>布尔或</p><p>x or y，如果 x 为 True，返回 x；否则返回 y</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">0</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x <span class="hljs-keyword">or</span> y</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">11</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x <span class="hljs-keyword">or</span> y</span><br>11<br></code></pre></td></tr></table></figure><h3 id="not"><a href="#not" class="headerlink" title="not"></a>not</h3><p>布尔非</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">not</span> x</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">0</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">not</span> x</span><br>True<br></code></pre></td></tr></table></figure><h2 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h2><h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><p>在搜索序列中找到，返回True；没有找到，返回False</p><h3 id="not-in"><a href="#not-in" class="headerlink" title="not in"></a>not in</h3><p>在搜索序列中没有找到，返回True；找到，返回False</p><h2 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h2><p>用于比较两个对象的存储单元，也就是内存地址，而不是值</p><h3 id="is"><a href="#is" class="headerlink" title="is"></a>is</h3><p>x is y 等价 id(x) is id(y)</p><p>相同返回True；否则返回False</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">z = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(x <span class="hljs-keyword">is</span> y)</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(z <span class="hljs-keyword">is</span> y)</span><br>False<br></code></pre></td></tr></table></figure><p>id()函数用于获取对象内存地址</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(x)</span><br>4386204320<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(y)</span><br>4386204320<br></code></pre></td></tr></table></figure><h3 id="is-not"><a href="#is-not" class="headerlink" title="is not"></a>is not</h3><p>相同返回False，不同返回True</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">y = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">z = <span class="hljs-number">2</span></span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(x <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> y)</span><br>False<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(x <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> z)</span><br>True<br></code></pre></td></tr></table></figure><h1 id="数字Number类型"><a href="#数字Number类型" class="headerlink" title="数字Number类型"></a>数字Number类型</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>varname &#x3D; varvalue</p><p>存储数值，为不可变数据类型，如果修改值，将重新分配内存空间</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(x)</span><br>4386204320<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">id</span>(x)</span><br>4386204352<br></code></pre></td></tr></table></figure><h2 id="删除定义"><a href="#删除定义" class="headerlink" title="删除定义"></a>删除定义</h2><p>del varname</p><p>del varname1, varname2</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&gt;&gt;&gt; <span class="hljs-selector-tag">del</span>  <span class="hljs-attribute">x</span><br>&gt;&gt;&gt; <span class="hljs-built_in">id</span>(<span class="hljs-attribute">x</span>)<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;python-input-214&gt;&quot;</span>, <span class="hljs-selector-tag">line</span> <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    <span class="hljs-built_in">id</span>(<span class="hljs-attribute">x</span>)<br>       ^<br>NameError: name <span class="hljs-string">&#x27;x&#x27;</span> is not defined<br></code></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>使用前必须定义</p><h2 id="数字函数"><a href="#数字函数" class="headerlink" title="数字函数"></a>数字函数</h2><h3 id="abs-x"><a href="#abs-x" class="headerlink" title="abs(x)"></a>abs(x)</h3><p>返回数字的绝对值</p><h3 id="ceil-x"><a href="#ceil-x" class="headerlink" title="ceil(x)"></a>ceil(x)</h3><p>返回数字的向上取整值</p><p>需要导入math模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> math</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">x = <span class="hljs-number">1.1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.ceil(x)</span><br>2<br></code></pre></td></tr></table></figure><h3 id="exp-x"><a href="#exp-x" class="headerlink" title="exp(x)"></a>exp(x)</h3><p>返回e的x次幂</p><p>需要导入math模块</p><p>静态对象调用</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs lua">&gt;&gt;&gt; <span class="hljs-built_in">math</span>.<span class="hljs-built_in">exp</span>(<span class="hljs-number">1</span>)<br><span class="hljs-number">2.718281828459045</span><br>&gt;&gt;&gt; <span class="hljs-built_in">math</span>.<span class="hljs-built_in">exp</span>(<span class="hljs-number">0</span>)<br><span class="hljs-number">1.0</span><br></code></pre></td></tr></table></figure><h3 id="fabs-x"><a href="#fabs-x" class="headerlink" title="fabs(x)"></a>fabs(x)</h3><p>返回以浮点数值形式的绝对值</p><p>需要导入math模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = -<span class="hljs-number">1.2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.fabs(a)</span><br>1.2<br></code></pre></td></tr></table></figure><h3 id="floor-x"><a href="#floor-x" class="headerlink" title="floor(x)"></a>floor(x)</h3><p>返回向下取整的值</p><p>需要导入math模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a = -<span class="hljs-number">1.2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.floor(a)</span><br>-2<br></code></pre></td></tr></table></figure><h3 id="long-x"><a href="#long-x" class="headerlink" title="long(x)"></a>long(x)</h3><p>返回x的自然对数，x&gt;0</p><p>需要导入math模块</p><p>静态对象调用</p><h3 id="max-x"><a href="#max-x" class="headerlink" title="max(x)"></a>max(x)</h3><p>返回给定参数的最大值，参数可以为序列，也就是list\tuple\ditc等</p><p>比对规则，按索引顺序，逐个对比索引对应值的大小，直到遇见最大值，结束比对，返回最大值所在序列</p><p>给定参数的类型数值类型可以混用，序列类型不可混用，数值类型和序列类型混用会报错</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">&gt;</span> <span class="hljs-built_in">max</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File &quot;&lt;python-input-249&gt;&quot;, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> <span class="hljs-operator">&lt;</span><span class="hljs-keyword">module</span><span class="hljs-operator">&gt;</span><br>    <span class="hljs-built_in">max</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>    <span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><br>TypeError: <span class="hljs-string">&#x27;&gt;&#x27;</span> <span class="hljs-keyword">not</span> supported <span class="hljs-keyword">between</span> instances <span class="hljs-keyword">of</span> <span class="hljs-string">&#x27;int&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;list&#x27;</span><br><span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">&gt;</span> <br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">&gt;</span> <span class="hljs-built_in">max</span>([<span class="hljs-number">3</span>,<span class="hljs-number">6</span>],(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))<br>Traceback (most recent <span class="hljs-keyword">call</span> <span class="hljs-keyword">last</span>):<br>  File &quot;&lt;python-input-255&gt;&quot;, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> <span class="hljs-operator">&lt;</span><span class="hljs-keyword">module</span><span class="hljs-operator">&gt;</span><br>    <span class="hljs-built_in">max</span>([<span class="hljs-number">3</span>,<span class="hljs-number">6</span>],(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))<br>    <span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">~</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><span class="hljs-operator">^</span><br>TypeError: <span class="hljs-string">&#x27;&gt;&#x27;</span> <span class="hljs-keyword">not</span> supported <span class="hljs-keyword">between</span> instances <span class="hljs-keyword">of</span> <span class="hljs-string">&#x27;tuple&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;list&#x27;</span><br></code></pre></td></tr></table></figure><p>参数为序列类型，返回值也是序列类型</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&gt;&gt;&gt; <span class="hljs-built_in">max</span>(<span class="hljs-selector-attr">[3,6]</span>,<span class="hljs-selector-attr">[6,4]</span>)<br><span class="hljs-selector-attr">[6, 4]</span><br></code></pre></td></tr></table></figure><h3 id="min-x"><a href="#min-x" class="headerlink" title="min(x)"></a>min(x)</h3><p>返回给定参数的最小值，参数可以为序列，也就是list\tuple\ditc等</p><h3 id="modf-x"><a href="#modf-x" class="headerlink" title="modf(x)"></a>modf(x)</h3><p>返回给定参数的小数部分和整数部分，整数部分以浮点型展示，元组类型</p><p>需要导入math模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">xx = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.modf(xx)</span><br>(0.0, 1.0)<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">type</span>(math.modf(xx))</span><br>&lt;class &#x27;tuple&#x27;&gt;<br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">yy = <span class="hljs-number">1.1111</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.modf(yy)</span><br>(0.11109999999999998, 1.0)<br></code></pre></td></tr></table></figure><h3 id="pow-x-y"><a href="#pow-x-y" class="headerlink" title="pow(x,y)"></a>pow(x,y)</h3><p>返回x**y的值，也就是x的y次幂</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">xx = <span class="hljs-number">1</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">yy = <span class="hljs-number">2</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">pow</span>(yy,xx)</span><br>2<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">zz = <span class="hljs-number">4</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">pow</span>(yy,zz)</span><br>16<br></code></pre></td></tr></table></figure><h3 id="round-x-n"><a href="#round-x-n" class="headerlink" title="round(x[,n])"></a>round(x[,n])</h3><p>返回x的四舍五入值，如果存在n参数，则表示保留n位小数</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">xx = <span class="hljs-number">1.23456</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">round</span>(xx)</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">round</span>(xx, <span class="hljs-number">3</span>)</span><br>1.235<br></code></pre></td></tr></table></figure><h3 id="sqrt-x"><a href="#sqrt-x" class="headerlink" title="sqrt(x)"></a>sqrt(x)</h3><p>返回数字x的平方根</p><p>需导入math模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">zz = <span class="hljs-number">4</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">math.sqrt(zz)</span><br>2.0<br></code></pre></td></tr></table></figure><h2 id="随机数函数"><a href="#随机数函数" class="headerlink" title="随机数函数"></a>随机数函数</h2><h3 id="choice-req"><a href="#choice-req" class="headerlink" title="choice(req)"></a>choice(req)</h3><p>返回参数req中随机值，req可以是列表、元组、字符串</p><p>需要导入random模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> random</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.choice(<span class="hljs-string">&quot;thisistest&quot;</span>)</span><br>&#x27;t&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.choice(<span class="hljs-string">&quot;thisistest&quot;</span>)</span><br>&#x27;t&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.choice(<span class="hljs-string">&quot;thisistest&quot;</span>)</span><br>&#x27;e&#x27;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.choice(<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))</span><br>8<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.choice(<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))</span><br>9<br></code></pre></td></tr></table></figure><h3 id="randrange-start-stop-step"><a href="#randrange-start-stop-step" class="headerlink" title="randrange([start,] stop [,step])"></a>randrange([start,] stop [,step])</h3><p>返回指定递增集合中的一个随机数，递增基数step默认是1</p><p>递增集合为[start, stop)，也就是包含start，不包含stop</p><p>需要导入random模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)</span><br>1<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)</span><br>9<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)</span><br>3<br><br></code></pre></td></tr></table></figure><h3 id="random"><a href="#random" class="headerlink" title="random"></a>random</h3><p>从[0,1)中返回随机一个实数</p><p>需要导入random模块</p><p>静态对象调用</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">&gt;&gt;&gt; <span class="hljs-built_in">random</span>.<span class="hljs-built_in">random</span>()<br><span class="hljs-number">0.4513311385549199</span><br>&gt;&gt;&gt; <span class="hljs-built_in">random</span>.<span class="hljs-built_in">random</span>()<br><span class="hljs-number">0.6301650234546455</span><br>&gt;&gt;&gt; <span class="hljs-built_in">random</span>.<span class="hljs-built_in">random</span>()<br><span class="hljs-number">0.27458340961261607</span><br></code></pre></td></tr></table></figure><h3 id="seed-x"><a href="#seed-x" class="headerlink" title="seed([x])"></a>seed([x])</h3><p>改变随机数生成器的种子，可以在调用其他随机模块函数之前调用此函数，设置后，使用random.random()生成的随机数是固定的</p><p>需要导入 random 模块</p><p>静态对象调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"># 没有设置seed，每次生成的随机数都是随机的<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.random()</span><br>0.5780913011344704<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.random()</span><br>0.20609823213950174<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <br># 设置为同一个种子后，每次生成的随机数都是固定的<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.seed(<span class="hljs-number">1</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.random()</span><br>0.13436424411240122<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.seed(<span class="hljs-number">1</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.random()</span><br>0.13436424411240122<br><br># 更换种子后，生成的随机数会变化<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.seed(<span class="hljs-number">10</span>)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.random()</span><br>0.5714025946899135<br></code></pre></td></tr></table></figure><h3 id="shuffle-序列"><a href="#shuffle-序列" class="headerlink" title="shuffle(序列)"></a>shuffle(序列)</h3><p>将序列中的元素随机排序</p><p>需要导入random模块</p><p>静态方法调用</p><p>返回值为 None</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> random</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">listtest = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.shuffle(listtest)</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(random.shuffle(listtest))</span><br>None<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(listtest))</span><br>&lt;class &#x27;list&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(listtest)</span><br>[3, 1, 2]<br></code></pre></td></tr></table></figure><h3 id="uniform-x-y"><a href="#uniform-x-y" class="headerlink" title="uniform(x,y)"></a>uniform(x,y)</h3><p>生成指定范围内的实数，包含x和y</p><p>需要导入random模块</p><p>静态方法调用</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> random</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">random.uniform(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>)</span><br>2.8548840892555156<br></code></pre></td></tr></table></figure><h2 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h2><h2 id="数学常量"><a href="#数学常量" class="headerlink" title="数学常量"></a>数学常量</h2><h3 id="pi"><a href="#pi" class="headerlink" title="pi"></a>pi</h3><p>数学常量 pi（圆周率，一般以π来表示）</p><h3 id="e"><a href="#e" class="headerlink" title="e"></a>e</h3><p>数学常量 e，e即自然常数（自然常数）</p><h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>单引号或双引号定义</p>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dev</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python_func</title>
    <link href="/2024/11/11/dev/python3/python_func/"/>
    <url>/2024/11/11/dev/python3/python_func/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h3 id="type函数"><a href="#type函数" class="headerlink" title="type函数"></a>type函数</h3><p>输出变量类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a, b, c, d = <span class="hljs-number">1</span>, <span class="hljs-number">1.1</span>, <span class="hljs-literal">True</span>, <span class="hljs-number">4</span>+<span class="hljs-number">3j</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(a), <span class="hljs-built_in">type</span>(b), <span class="hljs-built_in">type</span>(c), <span class="hljs-built_in">type</span>(d))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;int&#x27;</span>&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;float&#x27;</span>&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;bool&#x27;</span>&gt; &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;complex&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="isinstance函数"><a href="#isinstance函数" class="headerlink" title="isinstance函数"></a>isinstance函数</h3><p>判断变量类型</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">a, b, c, d = <span class="hljs-number">1</span>, <span class="hljs-number">1.1</span>, <span class="hljs-literal">True</span>, <span class="hljs-number">4</span>+<span class="hljs-number">3j</span></span><br><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(a, <span class="hljs-built_in">int</span>))</span><br>True<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(a, <span class="hljs-built_in">bool</span>))</span><br>False<br></code></pre></td></tr></table></figure><h4 id="type与isinstance对比"><a href="#type与isinstance对比" class="headerlink" title="type与isinstance对比"></a>type与isinstance对比</h4><p>type()不会认为子类是一种父类类型</p><p>isinstance()会认为子类是一种父类类型</p><h3 id="类型转换-转整型int"><a href="#类型转换-转整型int" class="headerlink" title="类型转换-转整型int"></a>类型转换-转整型int</h3><p><strong>int(值 [,base])</strong></p><p>将值转换为 int型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>strit = <span class="hljs-string">&quot;1111&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(strit))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-built_in">int</span>(strit)))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;int&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="类型转换-转浮点型float"><a href="#类型转换-转浮点型float" class="headerlink" title="类型转换-转浮点型float"></a>类型转换-转浮点型float</h3><p><strong>float(值)</strong></p><p>将值转换为浮点型</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">strit = <span class="hljs-string">&quot;1111&quot;</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(strit))</span><br>&lt;class &#x27;str&#x27;&gt;<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">float</span>(strit))</span><br>1111.0<br></code></pre></td></tr></table></figure><h3 id="类型转换-转字符串string"><a href="#类型转换-转字符串string" class="headerlink" title="类型转换-转字符串string"></a>类型转换-转字符串string</h3><p>str(对象)</p><p>将对象转换为字符串</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(dicttest)<br>&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;key2&#x27;</span>: <span class="hljs-string">&#x27;value2&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(dicttest))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;dict&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(dicttest))<br>&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;key2&#x27;</span>: <span class="hljs-string">&#x27;value2&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-built_in">str</span>(dicttest)))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="类型转换-转字符串表达式"><a href="#类型转换-转字符串表达式" class="headerlink" title="类型转换-转字符串表达式"></a>类型转换-转字符串表达式</h3><p>repr(对象)</p><p>将对象转换为字符串表达式，也就是供解释器读取的形式</p><p>返回值为对象的字符串形式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">repr</span>(dicttest))<br>&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;key2&#x27;</span>: <span class="hljs-string">&#x27;value2&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-built_in">repr</span>(dicttest)))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="类型转换-执行表达式"><a href="#类型转换-执行表达式" class="headerlink" title="类型转换-执行表达式"></a>类型转换-执行表达式</h3><p>eval(表达式)</p><p>计算表达式</p><p>返回表达式的值</p><p>注意：该函数利用不当存在代码注入的风险</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;1+2&#x27;</span>)</span><br>1+2<br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">eval</span>(<span class="hljs-string">&#x27;1+2&#x27;</span>))</span><br>3<br></code></pre></td></tr></table></figure><h3 id="类型转换-转元组tuple"><a href="#类型转换-转元组tuple" class="headerlink" title="类型转换-转元组tuple"></a>类型转换-转元组tuple</h3><p><strong>tuple(序列)</strong></p><p>将序列转换为tuple元组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(strit)<br><span class="hljs-number">1111</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(strit))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">tuple</span>(strit))<br>(<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="类型转换-转列表list"><a href="#类型转换-转列表list" class="headerlink" title="类型转换-转列表list"></a>类型转换-转列表list</h3><p><strong>list(序列)</strong></p><p>将序列转换为list列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(strit)<br><span class="hljs-number">1111</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(strit))<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(strit))<br>[<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="类型转换-转字典dict"><a href="#类型转换-转字典dict" class="headerlink" title="类型转换-转字典dict"></a>类型转换-转字典dict</h3><p><strong>dict(d)</strong></p><h3 id="类型转换-整数转ascii字符"><a href="#类型转换-整数转ascii字符" class="headerlink" title="类型转换-整数转ascii字符"></a>类型转换-整数转ascii字符</h3><p><strong>chr(值)</strong></p><p>值可以是 10 进制也可以是 16 进制的形式的数字，数字范围为 0 到 1,114,111 (16 进制为0x10FFFF)</p><p>返回整数值对应的ascii字符</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">inttest = <span class="hljs-number">97</span></span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">chr</span>(inttest))</span><br>a<br></code></pre></td></tr></table></figure><h3 id="类型转换-字符转整数"><a href="#类型转换-字符转整数" class="headerlink" title="类型转换-字符转整数"></a>类型转换-字符转整数</h3><p><strong>ord(x)</strong></p><p>x为单个字符，如果x超过定义范围，返回TypeError异常</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs perl">&gt;&gt;&gt; <span class="hljs-keyword">print</span>(<span class="hljs-keyword">ord</span>(<span class="hljs-string">&#x27;aa&#x27;</span>))<br>Traceback (most recent call <span class="hljs-keyword">last</span>):<br>  File <span class="hljs-string">&quot;&lt;python-input-126&gt;&quot;</span>, line <span class="hljs-number">1</span>, in &lt;module&gt;<br>    <span class="hljs-keyword">print</span>(<span class="hljs-keyword">ord</span>(<span class="hljs-string">&#x27;aa&#x27;</span>))<br>          ~~~^^^^^^<br>TypeError: <span class="hljs-keyword">ord</span>() expected a character, but string of <span class="hljs-keyword">length</span> <span class="hljs-number">2</span> found<br></code></pre></td></tr></table></figure><p>将字符转换为对应的整数</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs isbl">&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-title"><span class="hljs-built_in">ord</span></span>(<span class="hljs-string">&#x27;a&#x27;</span>))</span><br><span class="hljs-number">97</span><br></code></pre></td></tr></table></figure><h3 id="类型转换-整数转十六进制"><a href="#类型转换-整数转十六进制" class="headerlink" title="类型转换-整数转十六进制"></a>类型转换-整数转十六进制</h3><p><strong>hex(x)</strong></p><p>将十进制整数转换为十六进制，以字符串形式展示</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs isbl">&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">hex</span>(<span class="hljs-number">97</span>)</span><br><span class="hljs-string">&#x27;0x61&#x27;</span><br>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">hex</span>(<span class="hljs-number">255</span>)</span><br><span class="hljs-string">&#x27;0xff&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="类型转换-整数转八进制"><a href="#类型转换-整数转八进制" class="headerlink" title="类型转换-整数转八进制"></a>类型转换-整数转八进制</h3><p><strong>oct(x)</strong></p><p>将十进制整数转换为八进制，以字符串形式展示</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs isbl">&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">oct</span>(<span class="hljs-number">97</span>)</span><br><span class="hljs-string">&#x27;0o141&#x27;</span><br>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-title">oct</span>(<span class="hljs-number">255</span>)</span><br><span class="hljs-string">&#x27;0o377&#x27;</span><br></code></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dev</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python_tips</title>
    <link href="/2024/11/11/dev/python3/python_tips/"/>
    <url>/2024/11/11/dev/python3/python_tips/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="启动http服务"><a href="#启动http服务" class="headerlink" title="启动http服务"></a>启动http服务</h2><p>日常在进行文件下载的时候，会出现不同环境下载速度不同或者下载结果不同的情况，为了不同环境之间进行文件传输，可以使用python临时启动httpserver服务器。</p><h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p>1）执行python命令的目录就是http服务的根目录</p><p>2）默认端口为 8000 ，可以在命令中指定</p><p>3）启动的服务为单线程</p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>python2</p><p>python -m SimpleHTTPServer 3001</p><p>python3</p><p>python -m http.server 3001</p>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tips</tag>
      
      <tag>dev</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python_module</title>
    <link href="/2024/11/11/dev/python3/python_module/"/>
    <url>/2024/11/11/dev/python3/python_module/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="string"><a href="#string" class="headerlink" title="string"></a>string</h2><h3 id="string-ascii-letters"><a href="#string-ascii-letters" class="headerlink" title="string.ascii_letters"></a>string.ascii_letters</h3><p>返回包含所有字母的字符串，包括大小写字母</p><figure class="highlight python-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python-repl"><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python"><span class="hljs-keyword">import</span> string</span><br><span class="hljs-meta prompt_">&gt;&gt;&gt;</span> <span class="language-python">string.ascii_letters</span><br>&#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;<br></code></pre></td></tr></table></figure><h3 id="string-digits"><a href="#string-digits" class="headerlink" title="string.digits"></a>string.digits</h3><p>返回包含所有数字的字符串</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs delphi">&gt;&gt;&gt; <span class="hljs-keyword">string</span>.digits<br><span class="hljs-string">&#x27;0123456789&#x27;</span><br>&gt;&gt;&gt; <span class="hljs-keyword">type</span>(<span class="hljs-keyword">string</span>.digits)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="string-punctuation"><a href="#string-punctuation" class="headerlink" title="string.punctuation"></a>string.punctuation</h3><p>返回包含所有标点符号的字符串</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">&gt;&gt;&gt; string.punctuation<br>&#x27;!&quot;#$%&amp;\&#x27;<span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span>*<span class="hljs-punctuation">+</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">-</span>./<span class="hljs-punctuation">:</span><span class="hljs-punctuation">;</span>&lt;<span class="hljs-punctuation">=</span>&gt;?@[\\]^_`&#123;<span class="hljs-string">|&#125;~&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>dev</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tips</tag>
      
      <tag>dev</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>code_repo_reinforce</title>
    <link href="/2024/03/15/security/codesec/code_repo_reinforce/"/>
    <url>/2024/03/15/security/codesec/code_repo_reinforce/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>github 为了安全性需要禁止上传敏感内容，所以需要.gitignore 文件来设置哪些文件不需要上传进行版本管理</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-string">/dir/</span> 过滤整个文件夹<br>*<span class="hljs-string">.txt</span> 过滤所有<span class="hljs-string">.txt</span>文件<br><span class="hljs-string">/dir/config.php</span> 过滤具体文件<br></code></pre></td></tr></table></figure><p><img src="/2024/03/15/security/codesec/code_repo_reinforce/image-20241224171307321.png" alt="image-20241224171307321"></p><p>说明：</p><p>过滤掉的文件不会上传，也就是说不会进行版本管理，本地还是会有的</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">/ 开头表示目录<br>* 通配多个字符<br>? 通配单个字符<br><span class="hljs-string">[]</span> 包含单个字符的匹配列表<br>! 表示不忽略匹配的文件或者目录，也就是会上传<br></code></pre></td></tr></table></figure><p>规则匹配策略：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">自上到下进行匹配<br></code></pre></td></tr></table></figure><h2 id="错误总结"><a href="#错误总结" class="headerlink" title="错误总结"></a>错误总结</h2><p>1、不生效原因</p><p>可能是已经在缓存中，清除缓存，重新上传</p><p>git rm -r –cached .</p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>codesec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>codesec</tag>
      
      <tag>安全加固</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>waf_tools</title>
    <link href="/2024/03/15/security/netsec/waf/waf_tools/"/>
    <url>/2024/03/15/security/netsec/waf/waf_tools/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>测试waf时，需要对waf产品进行性能测试，除了手工模拟攻击测试外，可以使用开源WAF测试工具自动化进行深度测试。</p><h2 id="工具地址"><a href="#工具地址" class="headerlink" title="工具地址"></a>工具地址</h2><p><a href="https://github.com/chaitin/blazehttp">https://github.com/chaitin/blazehttp</a></p><h2 id="工具安装"><a href="#工具安装" class="headerlink" title="工具安装"></a>工具安装</h2><h2 id="测试效果"><a href="#测试效果" class="headerlink" title="测试效果"></a>测试效果</h2><h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>【1】blazehttp </p><p><a href="https://github.com/chaitin/blazehttp">https://github.com/chaitin/blazehttp</a></p>]]></content>
    
    
    <categories>
      
      <category>security</category>
      
      <category>netsec</category>
      
    </categories>
    
    
    <tags>
      
      <tag>security</tag>
      
      <tag>netsec</tag>
      
      <tag>waf</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ubuntu_static_ip_tips</title>
    <link href="/2024/03/14/network/ip/ubuntu_static_ip_tips/"/>
    <url>/2024/03/14/network/ip/ubuntu_static_ip_tips/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>Ubuntu20.4</p><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>1、备份 &#x2F;etc&#x2F;netplan 下配置文件</p><p>cp &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml.bak</p><p>2、修改 &#x2F;etc&#x2F;netplan 下配置文件</p><p>yaml 文件，需要注意空格缩进</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># Let NetworkManager manage all devices on this system</span><br><span class="hljs-params">network:</span><br>  <span class="hljs-params">version:</span> <span class="hljs-number">2</span><br>  <span class="hljs-params">renderer:</span> NetworkManager<br>  <span class="hljs-params">ethernets:</span><br>    <span class="hljs-params">ens33:</span><br>      <span class="hljs-params">dhcp4:</span> <span class="hljs-literal">false</span><br>      <span class="hljs-params">addresses:</span> <br>          <span class="hljs-operator">-</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">3.223</span><span class="hljs-symbol">/24</span><br>      <span class="hljs-params">routes:</span><br>          <span class="hljs-operator">-</span> <span class="hljs-params">to:</span> default<br>            <span class="hljs-params">via:</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">3.1</span><br>ubuntu@ubuntu-virtual-machine:<span class="hljs-operator">/</span><br></code></pre></td></tr></table></figure><p>3、应用当前配置</p><p>sudo netplan apply</p><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="配置后没有网络"><a href="#配置后没有网络" class="headerlink" title="配置后没有网络"></a>配置后没有网络</h3><h4 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h4><p>ip  a  对应网卡没有IP信息</p><p>图形界面也没有网络信息，右上角开关按钮-&gt;Settings-&gt;Network 只有 VPN 和 Network Proxy ，没有 Wired</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>停止网络服务，删除缓存信息，启动网络服务</p><p>service NetworkManager stop</p><p>rm -rf &#x2F;var&#x2F;lib&#x2F;NetworkManager&#x2F;NetworkManager.state</p><p>service NetworkManager start </p>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>ip</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>ip</tag>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mysql_op</title>
    <link href="/2024/03/13/db/mysql/mysql_op/"/>
    <url>/2024/03/13/db/mysql/mysql_op/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>记录日常mysql数据的操作命令</p><h1 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h1><h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><h2 id="启动停止"><a href="#启动停止" class="headerlink" title="启动停止"></a>启动停止</h2><p>net start mysql</p><p>net stop mysql</p>]]></content>
    
    
    <categories>
      
      <category>db</category>
      
      <category>mysql</category>
      
      <category>mysql_op</category>
      
    </categories>
    
    
    <tags>
      
      <tag>db</tag>
      
      <tag>mysql</tag>
      
      <tag>mysql_op</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mysql_error</title>
    <link href="/2024/03/13/db/mysql/mysql_error/"/>
    <url>/2024/03/13/db/mysql/mysql_error/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>对日常工作过程中遇到的mysql报错问题及解决方案汇总总结</p><h1 id="登录错误"><a href="#登录错误" class="headerlink" title="登录错误"></a>登录错误</h1><h2 id="unsupported-protocol"><a href="#unsupported-protocol" class="headerlink" title="unsupported protocol"></a>unsupported protocol</h2><h3 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h3><p>终端中使用 mysql -h host -u name -p 命令连接mysql数据库，提示协议不支持</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">ERROR </span>2026 (HY000): SSL connection error: error:0A000102:SSL routines::unsupported protocol<br></code></pre></td></tr></table></figure><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>增加–ssl-mode参数，忽略ssl认证</p><p>mysql -h host -u user -p –ssl-mode&#x3D;DISABLED</p><p>官方文档：</p><p><a href="https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode">https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode</a></p><h3 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h3><p>【1】mysql 客户端SSL错误2026 (HY000) tmaczt 2022-05-10 20:19:05</p><p>链接：<a href="https://blog.csdn.net/tmaczt/article/details/124696188">https://blog.csdn.net/tmaczt/article/details/124696188</a></p>]]></content>
    
    
    <categories>
      
      <category>db</category>
      
      <category>mysql</category>
      
      <category>mysql_error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>db</tag>
      
      <tag>mysql</tag>
      
      <tag>mysql_error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker_error</title>
    <link href="/2024/03/07/yunwei/yunweiapplications/docker/docker_error/"/>
    <url>/2024/03/07/yunwei/yunweiapplications/docker/docker_error/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="docker-pull-error"><a href="#docker-pull-error" class="headerlink" title="docker pull error"></a>docker pull error</h1><h2 id="image-name-error"><a href="#image-name-error" class="headerlink" title="image name error"></a>image name error</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs subunit">(base) root@localhost:~# docker pull gitlab-ce/gitlab-ce:14.9.1<br><span class="hljs-keyword">Error </span>response from daemon: pull access denied for gitlab-ce/gitlab-ce, repository does not exist or may require &#x27;docker login&#x27;: denied: requested access to the resource is denied<br></code></pre></td></tr></table></figure><p>因为镜像名称写错导致报错，正确镜像名称gitlab&#x2F;gitlab-ce</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elixir">(base) root<span class="hljs-variable">@localhost</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># docker search gitlab-ce</span><br><span class="hljs-title class_">NAME</span>                                     <span class="hljs-title class_">DESCRIPTION</span>                                     <span class="hljs-title class_">STARS</span>     <span class="hljs-title class_">OFFICIAL</span>   <span class="hljs-title class_">AUTOMATED</span><br>gitlab/gitlab-ce                         <span class="hljs-title class_">GitLab</span> <span class="hljs-title class_">Community</span> <span class="hljs-title class_">Edition</span> docker image based …   <span class="hljs-number">3592</span>                 [<span class="hljs-title class_">OK</span>]<br><br></code></pre></td></tr></table></figure><h2 id="image-tag-error"><a href="#image-tag-error" class="headerlink" title="image tag error"></a>image tag error</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs subunit">(base) root@localhost:~# docker pull gitlab/gitlab-ce:14.9.1<br><span class="hljs-keyword">Error </span>response from daemon: manifest for gitlab/gitlab-ce:14.9.1 not found: manifest unknown: manifest unknown<br><br></code></pre></td></tr></table></figure><p>因为镜像版本号不对导致报错，需要正确版本号</p><p>如何确认正常版本号</p><p>登录docker hub <a href="https://hub.docker.com/u/library">https://hub.docker.com/u/library</a> 搜索对应的镜像</p><p>复制提供的命令即可正确下载</p><p><a href="https://blog.csdn.net/ichen820/article/details/114536044">https://blog.csdn.net/ichen820/article/details/114536044</a></p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweiapplications</category>
      
      <category>docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweiapplications</tag>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker_tips</title>
    <link href="/2024/02/28/yunwei/yunweiapplications/docker/docker_tips/"/>
    <url>/2024/02/28/yunwei/yunweiapplications/docker/docker_tips/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>命令基于 mac Docker Desktop 4.11.1 (84025) </p><h3 id="查询指定镜像仓库镜像列表"><a href="#查询指定镜像仓库镜像列表" class="headerlink" title="查询指定镜像仓库镜像列表"></a>查询指定镜像仓库镜像列表</h3><p><strong>Curl</strong></p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">curl -X <span class="hljs-symbol">&#x27;GET</span><span class="hljs-string">&#x27; &#x27;</span>h__ps://demo.goharbor.io/api/v2.<span class="hljs-number">0</span>/projects?page=<span class="hljs-number">1</span>&amp;page_size=<span class="hljs-number">10</span>&amp;with_detail=<span class="hljs-literal">true</span>&#x27;  -H <span class="hljs-symbol">&#x27;accept</span>: application/json&#x27;<br></code></pre></td></tr></table></figure><p><strong>Request URL</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">https</span>://demo.goharbor.io/api/v2.<span class="hljs-number">0</span>/projects?page=<span class="hljs-number">1</span>&amp;page_size=<span class="hljs-number">10</span>&amp;with_detail=true<br></code></pre></td></tr></table></figure><p>q&#x3D;string   </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">格式<span class="hljs-attribute">q</span>=k=v <br><span class="hljs-attribute">q</span>=name=admin 精确匹配<br><span class="hljs-attribute">q</span>=name=~admin 模糊匹配<br></code></pre></td></tr></table></figure><p>q&#x3D;name&#x3D;admin</p><p>page&#x3D;interger</p><p>page_size&#x3D;interger</p><p>name&#x3D;string 指定项目</p><p>sort&#x3D;string  指定排序字段</p><p>public&#x3D;boolean  指定查询公开项目还是私有项目，默认公开项目</p><p>owner&#x3D;string  指定作者</p><p>with_detail&#x3D;boolean  指定是否需要展示详情</p><h3 id="查询指定镜像仓库指定镜像"><a href="#查询指定镜像仓库指定镜像" class="headerlink" title="查询指定镜像仓库指定镜像"></a>查询指定镜像仓库指定镜像</h3><p><strong>CURL</strong></p><p>curl -X ‘GET’ ‘h__ps:&#x2F;&#x2F;demo.goharbor.io&#x2F;api&#x2F;v2.0&#x2F;search?q&#x3D;1’ -H ‘accept: application&#x2F;json’</p><p><strong>Request URL</strong></p><p>h__ps:&#x2F;&#x2F;demo.goharbor.io&#x2F;api&#x2F;v2.0&#x2F;search?q&#x3D;1</p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweiapplications</category>
      
      <category>docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>tips</tag>
      
      <tag>yunweiapplications</tag>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker_compose</title>
    <link href="/2024/02/20/yunwei/yunweiapplications/docker/docker_compose/"/>
    <url>/2024/02/20/yunwei/yunweiapplications/docker/docker_compose/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p>项目（project）由一组关联的应用容器组成一个完整业务单元</p><p>服务（service）一个应用容器</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>指定yml基于的docker-compose版本</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">version</span>: &#x27;<span class="hljs-number">2</span>.<span class="hljs-number">3</span>&#x27;<br></code></pre></td></tr></table></figure><h3 id="services"><a href="#services" class="headerlink" title="services"></a>services</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">services</span>:<br>  <span class="hljs-attribute">redis</span>:<br>    <span class="hljs-attribute">image</span>: redis:<span class="hljs-number">5</span>.<span class="hljs-number">0</span>.<span class="hljs-number">9</span>-alpine<br></code></pre></td></tr></table></figure><h3 id="image"><a href="#image" class="headerlink" title="image"></a>image</h3><p>指定容器运行的镜像</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">image:</span> redis<br><span class="hljs-params">image:</span> ubuntu:<span class="hljs-number">14.04</span><br><span class="hljs-params">image:</span> example-registry.com:<span class="hljs-number">4000</span><span class="hljs-symbol">/postgresql</span><br><span class="hljs-params">image:</span> a4bc65fd <span class="hljs-comment"># 镜像id</span><br><span class="hljs-params">image:</span> vulhub<span class="hljs-operator">/</span>airflow:<span class="hljs-number">1.10</span>.<span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h3 id="environment"><a href="#environment" class="headerlink" title="environment"></a>environment</h3><p>添加环境变量，值可以为数组、字典或布尔值，布尔值需要使用引号，否则YML解析器转换为 True 或 False</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">postgresql</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">postgres:12-alpine</span><br>  <span class="hljs-attribute">environment</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_USER=gitlab</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_PASSWORD=password</span><br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vim">➜  docker docker-compose <span class="hljs-keyword">up</span> <br>Creating network <span class="hljs-string">&quot;docker_default&quot;</span> with the default driver<br>Pulling pgsql (postgre<span class="hljs-variable">s:12</span>-alpine)...<br><span class="hljs-number">12</span>-alpine: Pulling from library/postgres<br><span class="hljs-number">9</span>b18e9b68314: Pull <span class="hljs-built_in">complete</span><br><span class="hljs-number">75</span>aada9edfc5: Pull <span class="hljs-built_in">complete</span><br><span class="hljs-number">820773693750</span>: Pull <span class="hljs-built_in">complete</span><br><span class="hljs-number">83</span>dc43929537: Pull <span class="hljs-built_in">complete</span><br><span class="hljs-number">92</span>e2c19af124: Pull <span class="hljs-built_in">complete</span><br><span class="hljs-number">52</span>f242e5c209: Pull <span class="hljs-built_in">complete</span><br>e0a8c8565c42: Pull <span class="hljs-built_in">complete</span><br>a424ab832487: Pull <span class="hljs-built_in">complete</span><br>Digest: <span class="hljs-built_in">sha256</span>:<span class="hljs-number">55</span>fb7ba926381c2ac1f8f58bb181dd932f140aa467c3097a07c6815648dbc5e2<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> postgre<span class="hljs-variable">s:12</span>-alpine<br>Creating docker_pgsql_1 ... done<br>Attaching <span class="hljs-keyword">to</span> docker_pgsql_1<br><br>➜  ~ docker <span class="hljs-keyword">ps</span><br>CONTAINER ID   IMAGE                COMMAND                  CREATED          STATUS          PORTS      NAMES<br><span class="hljs-number">34264</span>c6a3d67   postgre<span class="hljs-variable">s:12</span>-alpine   <span class="hljs-string">&quot;docker-entrypoint.s…&quot;</span>   <span class="hljs-number">55</span> seconds ago   Up <span class="hljs-number">54</span> seconds   <span class="hljs-number">5432</span>/tcp   docker_pgsql_1<br><br></code></pre></td></tr></table></figure><h3 id="depends-on"><a href="#depends-on" class="headerlink" title="depends_on"></a>depends_on</h3><p>设置依赖关系</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">services</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">web</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-attribute">build</span><span class="hljs-punctuation">:</span> <span class="hljs-string">.</span><br>    <span class="hljs-attribute">depends_on</span><span class="hljs-punctuation">:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span><br>  <span class="hljs-attribute">redis</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">redis</span><br>  <span class="hljs-attribute">db</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">postgres</span><br></code></pre></td></tr></table></figure><p>docker-compose up：按照依赖关系启动服务，例如：先启动db和redis，再启动web，但是并不是说必须等db和redis启动完成再启动web</p><p>docker-compose up SERVICE：自动包含指定SERVER的依赖项</p><p>docker-compose stop ：按照依赖关系停止服务</p><h3 id="ports"><a href="#ports" class="headerlink" title="ports"></a>ports</h3><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">gitlab</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">vulhub/gitlab:13.10.1</span><br>  <span class="hljs-attribute">depends_on</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">postgresql</span><br>  <span class="hljs-attribute">ports</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;8080:80&quot;</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;10022:22&quot;</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;443&quot;</span><br></code></pre></td></tr></table></figure><p>绑定容器的8080到主机的80</p><p>绑定容器的443到主机的任意端口，取决于容器启动时的随机端口</p><h3 id="volumes"><a href="#volumes" class="headerlink" title="volumes"></a>volumes</h3><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">postgresql</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">postgres:11.9-alpine</span><br>    <span class="hljs-attribute">environment</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_USER=gitlab</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_PASSWORD=password</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_DB=gitlabhq_production</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">DB_EXTENSION=pg_trgm</span><br>    <span class="hljs-attribute">volumes</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">./load-extensions.sh:/docker-entrypoint-initdb.d/load-extensions.sh</span><br></code></pre></td></tr></table></figure><p>主机文件或数据卷挂载到容器中</p><h3 id="command"><a href="#command" class="headerlink" title="command"></a>command</h3><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">namenode</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">image</span><span class="hljs-punctuation">:</span> <span class="hljs-string">vulhub/hadoop:2.8.1</span><br>  <span class="hljs-attribute">environment</span><span class="hljs-punctuation">:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">HDFS_CONF_dfs_namenode_name_dir=file:///hadoop/dfs/name</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">CLUSTER_NAME=vulhub</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">HDFS_CONF_dfs_replication=1</span><br>  <span class="hljs-attribute">command</span><span class="hljs-punctuation">:</span> <span class="hljs-string">/namenode.sh</span><br></code></pre></td></tr></table></figure><p>覆盖容器启动的默认命令</p><h3 id="healthcheck"><a href="#healthcheck" class="headerlink" title="healthcheck"></a>healthcheck</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">healthcheck:</span><br><span class="hljs-symbol">  test:</span> [<span class="hljs-string">&quot;CMD&quot;</span>, <span class="hljs-string">&quot;pg_isready&quot;</span>, <span class="hljs-string">&quot;-U&quot;</span>, <span class="hljs-string">&quot;airflow&quot;</span>] <span class="hljs-meta">#设置检查程序</span><br><span class="hljs-symbol">  interval:</span> <span class="hljs-number">1</span>m5s <span class="hljs-meta">#设置检测间隔</span><br><span class="hljs-symbol">  retries:</span> <span class="hljs-number">5</span> <span class="hljs-meta">#设置重试次数</span><br><span class="hljs-symbol">  timeout:</span> <span class="hljs-number">10</span> <span class="hljs-meta">#设置超时时间</span><br><span class="hljs-symbol">  start_period:</span> <span class="hljs-number">1</span>m40s <span class="hljs-meta">#设置程序启动多久后开始检测</span><br></code></pre></td></tr></table></figure><h3 id="container-name"><a href="#container-name" class="headerlink" title="container_name"></a>container_name</h3><p>指定容器名称，而非默认生成的名称</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">container_name: <span class="hljs-keyword">my</span>-container<br></code></pre></td></tr></table></figure><h3 id="devices"><a href="#devices" class="headerlink" title="devices"></a>devices</h3><p>指定设备映射列表</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">devices:</span> <br>    - <span class="hljs-string">&quot;/dev/ttyUSB0:/dev/ttyUSB0&quot;</span><br></code></pre></td></tr></table></figure><h3 id="dns"><a href="#dns" class="headerlink" title="dns"></a>dns</h3><p>自定义DNS服务器，可以为单个值，也可以为列表</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">dns</span><span class="hljs-punctuation">:</span> <span class="hljs-string">8.8.8.8</span><br><br><span class="hljs-attribute">dns</span><span class="hljs-punctuation">: </span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">8.8.8.8</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">114.114.114.114</span><br></code></pre></td></tr></table></figure><h3 id="dns-search"><a href="#dns-search" class="headerlink" title="dns_search"></a>dns_search</h3><p>自定义DNS搜索域，可以为单个值，也可以为列表</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">dns_search: ns1<span class="hljs-selector-class">.test</span><span class="hljs-selector-class">.com</span><br><br>dns_search: <br>    - ns2<span class="hljs-selector-class">.test</span><span class="hljs-selector-class">.com</span><br>    - ns3<span class="hljs-selector-class">.test</span>.com<br></code></pre></td></tr></table></figure><h3 id="env-file"><a href="#env-file" class="headerlink" title="env_file"></a>env_file</h3><p>从文件中添加环境变量</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">env_file</span><span class="hljs-punctuation">:</span> <span class="hljs-string">.env</span><br><br><span class="hljs-attribute">env_file</span><span class="hljs-punctuation">: </span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">envfile2.env</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">./envfile3.env</span><br><br></code></pre></td></tr></table></figure><h3 id="expose"><a href="#expose" class="headerlink" title="expose"></a>expose</h3><p>暴露端口，但不映射到宿主机，也就是说只有内部可使用</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">expose:</span> <br>    - <span class="hljs-string">&quot;3333&quot;</span><br>    - <span class="hljs-string">&quot;6666&quot;</span><br></code></pre></td></tr></table></figure><h3 id="extra-hosts"><a href="#extra-hosts" class="headerlink" title="extra_hosts"></a>extra_hosts</h3><p>添加主机名映射，在容器&#x2F;etc&#x2F;hosts中创建主机名和IP绑定关系</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">extra_hosts:</span> <br>     - <span class="hljs-string">&quot;newhost:1.1.1.1&quot;</span><br>     - <span class="hljs-string">&quot;oldhost:2.2.2.2&quot;</span><br></code></pre></td></tr></table></figure><h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><p>服务日志记录配置</p><p>di r</p><h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>指定镜像构建上下文路径</p>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweiapplications</category>
      
      <category>docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweiapplications</tag>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker_command</title>
    <link href="/2024/02/20/yunwei/yunweiapplications/docker/docker_command/"/>
    <url>/2024/02/20/yunwei/yunweiapplications/docker/docker_command/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><p>命令基于 mac Docker Desktop 4.11.1 (84025) </p><h1 id="docker服务"><a href="#docker服务" class="headerlink" title="docker服务"></a>docker服务</h1><h2 id="查看服务"><a href="#查看服务" class="headerlink" title="查看服务"></a>查看服务</h2><h3 id="docker-info"><a href="#docker-info" class="headerlink" title="docker info"></a>docker info</h3><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs nix">➜  test docker info<br><span class="hljs-params">Client:</span><br> <span class="hljs-params">Context:</span>    default<br> Debug <span class="hljs-params">Mode:</span> <span class="hljs-literal">false</span><br> <span class="hljs-params">Plugins:</span><br>  <span class="hljs-params">buildx:</span> Docker Buildx (Docker Inc., v0.<span class="hljs-number">8.2</span>)<br>  <span class="hljs-params">compose:</span> Docker Compose (Docker Inc., v2.<span class="hljs-number">7.0</span>)<br>  <span class="hljs-params">extension:</span> Manages Docker extensions (Docker Inc., v0.<span class="hljs-number">2.8</span>)<br>  <span class="hljs-params">sbom:</span> View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc., <span class="hljs-number">0.6</span>.<span class="hljs-number">0</span>)<br>  <span class="hljs-params">scan:</span> Docker Scan (Docker Inc., v0.<span class="hljs-number">17.0</span>)<br><br><span class="hljs-params">Server:</span><br> <span class="hljs-params">Containers:</span> <span class="hljs-number">10</span><br>  <span class="hljs-params">Running:</span> <span class="hljs-number">2</span><br>  <span class="hljs-params">Paused:</span> <span class="hljs-number">0</span><br>  <span class="hljs-params">Stopped:</span> <span class="hljs-number">8</span><br> <span class="hljs-params">Images:</span> <span class="hljs-number">14</span><br> Server <span class="hljs-params">Version:</span> <span class="hljs-number">20.10</span>.<span class="hljs-number">17</span><br> Storage <span class="hljs-params">Driver:</span> overlay2<br>  Backing <span class="hljs-params">Filesystem:</span> extfs<br>  Supports <span class="hljs-params">d_type:</span> <span class="hljs-literal">true</span><br>  Native Overlay <span class="hljs-params">Diff:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-params">userxattr:</span> <span class="hljs-literal">false</span><br> Logging <span class="hljs-params">Driver:</span> json-file<br> Cgroup <span class="hljs-params">Driver:</span> cgroupfs<br> Cgroup <span class="hljs-params">Version:</span> <span class="hljs-number">2</span><br> <span class="hljs-params">Plugins:</span><br>  <span class="hljs-params">Volume:</span> local<br>  <span class="hljs-params">Network:</span> bridge host ipvlan macvlan <span class="hljs-literal">null</span> overlay<br>  <span class="hljs-params">Log:</span> awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog<br> <span class="hljs-params">Swarm:</span> inactive<br> <span class="hljs-params">Runtimes:</span> runc io.containerd.runc.v2 io.containerd.runtime.v1.linux<br> Default <span class="hljs-params">Runtime:</span> runc<br> Init <span class="hljs-params">Binary:</span> docker-init<br> containerd <span class="hljs-params">version:</span> <span class="hljs-number">10</span>c12954828e7c7c9b6e0ea9b0c02b01407d3ae1<br> runc <span class="hljs-params">version:</span> v1.<span class="hljs-number">1</span>.<span class="hljs-number">2</span><span class="hljs-operator">-</span><span class="hljs-number">0</span><span class="hljs-operator">-</span>ga916309<br> init <span class="hljs-params">version:</span> de40ad0<br> Security <span class="hljs-params">Options:</span><br>  seccomp<br>   <span class="hljs-params">Profile:</span> default<br>  cgroupns<br> Kernel <span class="hljs-params">Version:</span> <span class="hljs-number">5.10</span>.<span class="hljs-number">10</span>4-linuxkit<br> Operating <span class="hljs-params">System:</span> Docker Desktop<br> <span class="hljs-params">OSType:</span> linux<br> <span class="hljs-params">Architecture:</span> aarch64<br> <span class="hljs-params">CPUs:</span> <span class="hljs-number">4</span><br> Total <span class="hljs-params">Memory:</span> <span class="hljs-number">3.841</span>GiB<br> <span class="hljs-params">Name:</span> docker-desktop<br> <span class="hljs-params">ID:</span> <span class="hljs-number">4</span>PPK:ZEQN:<span class="hljs-number">27</span>ZX:<span class="hljs-number">7</span>RDL:BASL:RHIO:UZXN:DTSX:UHWP:HBFU:<span class="hljs-number">2</span>DYI:EJRN<br> Docker Root <span class="hljs-params">Dir:</span> <span class="hljs-symbol">/var/lib/docker</span><br> Debug <span class="hljs-params">Mode:</span> <span class="hljs-literal">false</span><br> HTTP <span class="hljs-params">Proxy:</span> http.docker.internal:<span class="hljs-number">3128</span><br> HTTPS <span class="hljs-params">Proxy:</span> http.docker.internal:<span class="hljs-number">3128</span><br> No <span class="hljs-params">Proxy:</span> hubproxy.docker.internal<br> <span class="hljs-params">Registry:</span> https:<span class="hljs-operator">//</span>index.docker.io<span class="hljs-operator">/</span>v1<span class="hljs-symbol">/</span><br> <span class="hljs-params">Labels:</span><br> <span class="hljs-params">Experimental:</span> <span class="hljs-literal">false</span><br> Insecure <span class="hljs-params">Registries:</span><br>  hubproxy.docker.internal:<span class="hljs-number">5000</span><br>  <span class="hljs-number">127.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">/8</span><br> Registry <span class="hljs-params">Mirrors:</span><br>  https:<span class="hljs-operator">//</span>zp98nloz.mirror.aliyuncs.com<span class="hljs-symbol">/</span><br> Live Restore <span class="hljs-params">Enabled:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h2 id="清除缓存"><a href="#清除缓存" class="headerlink" title="清除缓存"></a>清除缓存</h2><p>docker system prune -a</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs livescript">[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID        IMAGE                         COMMAND                  CREATED             STATUS              PORTS                    NAMES<br><span class="hljs-number">84457a</span>2d6565        xuxueli/xxl-job-admin:<span class="hljs-number">2.3</span>.<span class="hljs-number">1</span>   <span class="hljs-string">&quot;sh -c &#x27;java -jar ...&quot;</span>   <span class="hljs-number">25</span> minutes ago      Up <span class="hljs-number">25</span> minutes       <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8080</span>-&gt;<span class="hljs-number">8080</span>/tcp   xxl-job-admin<br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment"># docker images</span><br>REPOSITORY                        TAG                 IMAGE ID            CREATED             SIZE<br>docker.io/xuxueli/xxl-job-admin   <span class="hljs-number">2.3</span>.<span class="hljs-number">1</span>               <span class="hljs-number">252b</span>168021da        <span class="hljs-number">2</span> years ago         <span class="hljs-number">237</span> MB<br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment">#</span><br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment">#</span><br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment">#</span><br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment"># docker system prune -a</span><br>WARNING! This will remove:<br>- all stopped containers<br>- all volumes <span class="hljs-keyword">not</span> used <span class="hljs-keyword">by</span> at least one container<br>- all networks <span class="hljs-keyword">not</span> used <span class="hljs-keyword">by</span> at least one container<br>- all images without at least one container associated <span class="hljs-keyword">to</span> them<br>Are you sure you want <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span>? [y/N] y<br>Deleted Networks:<br>unacc_default<br><br>Total reclaimed space: <span class="hljs-number">0</span> B<br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment">#</span><br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment">#</span><br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment"># docker images</span><br>REPOSITORY                        TAG                 IMAGE ID            CREATED             SIZE<br>docker.io/xuxueli/xxl-job-admin   <span class="hljs-number">2.3</span>.<span class="hljs-number">1</span>               <span class="hljs-number">252b</span>168021da        <span class="hljs-number">2</span> years ago         <span class="hljs-number">237</span> MB<br>[root@nvm-14yhwwkhnu5v0 db]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID        IMAGE                         COMMAND                  CREATED             STATUS              PORTS                    NAMES<br><span class="hljs-number">84457a</span>2d6565        xuxueli/xxl-job-admin:<span class="hljs-number">2.3</span>.<span class="hljs-number">1</span>   <span class="hljs-string">&quot;sh -c &#x27;java -jar ...&quot;</span>   <span class="hljs-number">26</span> minutes ago      Up <span class="hljs-number">26</span> minutes       <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8080</span>-&gt;<span class="hljs-number">8080</span>/tcp   xxl-job-admin<br></code></pre></td></tr></table></figure><h1 id="镜像仓库"><a href="#镜像仓库" class="headerlink" title="镜像仓库"></a>镜像仓库</h1><h2 id="登录镜像仓库"><a href="#登录镜像仓库" class="headerlink" title="登录镜像仓库"></a>登录镜像仓库</h2><h3 id="docker-login"><a href="#docker-login" class="headerlink" title="docker login"></a>docker login</h3><p><strong>docker login [OPTIONS] [SERVER] [flags]</strong></p><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>以用户名&#x2F;密码或机器人账户&#x2F;密钥方式登录指定镜像仓库</p><h4 id="SERVER"><a href="#SERVER" class="headerlink" title="SERVER"></a>SERVER</h4><p>指定镜像仓库地址，例如：hub.xxx.com</p><h4 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a>Flags</h4><h5 id="p"><a href="#p" class="headerlink" title="-p"></a>-p</h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-comment">--password string </span><br></code></pre></td></tr></table></figure><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-comment">--password-stdin</span><br></code></pre></td></tr></table></figure><h5 id="u"><a href="#u" class="headerlink" title="-u"></a>-u</h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-comment">--username string</span><br></code></pre></td></tr></table></figure><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>机器人账户：robot-0207</p><p>机器人密钥：wlRCBQX68DCZIrCHoSAvACm1xpdadTBF</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">➜  test docker <span class="hljs-keyword">login</span> registry.xxx.xxx.com -u robot<span class="hljs-number">-0227</span> -p wlRCBQX68DCZIrCHoSAvACm1xpdadTBF<br><span class="hljs-built_in">WARNING</span>! <span class="hljs-keyword">Using</span> <span class="hljs-comment">--password via the CLI is insecure. Use --password-stdin.</span><br><span class="hljs-keyword">Login</span> Succeeded<br></code></pre></td></tr></table></figure><h2 id="退出镜仓库"><a href="#退出镜仓库" class="headerlink" title="退出镜仓库"></a>退出镜仓库</h2><h3 id="docker-logout"><a href="#docker-logout" class="headerlink" title="docker logout"></a>docker logout</h3><p><strong>docker logout [SERVER] [flags]</strong></p><h4 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h4><p>退出指定镜像仓库</p><h4 id="SERVER-1"><a href="#SERVER-1" class="headerlink" title="SERVER"></a>SERVER</h4><p>指定镜像仓库地址，例如：hub.xxx.com</p><h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">➜  <span class="hljs-symbol">~ docker logout</span><br><span class="hljs-symbol">Removing login credentials for https</span>:<span class="hljs-comment">//index.docker.io/v1/</span><br></code></pre></td></tr></table></figure><h1 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h1><h2 id="查询镜像"><a href="#查询镜像" class="headerlink" title="查询镜像"></a>查询镜像</h2><h3 id="docker-search"><a href="#docker-search" class="headerlink" title="docker search"></a>docker search</h3><p><strong>docker search [OPTIONS] TEAM</strong></p><h4 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h4><p>默认官方 Docker Hub （hub.docker.com）查找镜像</p><h4 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="f-–filter-filter"><a href="#f-–filter-filter" class="headerlink" title="-f –filter filter"></a>-f –filter filter</h5><p>Filter output based on conditions provided 根据过滤条件过滤镜像</p><h5 id="–no-trunc"><a href="#–no-trunc" class="headerlink" title="–no-trunc"></a>–no-trunc</h5><p>Don’t truncate output 不截断输出，也就是显示完整的镜像描述</p><h5 id="–limit-ini"><a href="#–limit-ini" class="headerlink" title="–limit ini"></a>–limit ini</h5><p>Max number of search results (default 25) 搜索结果的最大数目(默认25个)</p><h5 id="–format-string"><a href="#–format-string" class="headerlink" title="–format string"></a>–format string</h5><p>Pretty-print search using a Go template</p><h4 id="TEAM"><a href="#TEAM" class="headerlink" title="TEAM"></a>TEAM</h4><p>指定需要查询的镜像名</p><h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><h5 id="查找镜像名包含memcached且收藏数大于10的镜像"><a href="#查找镜像名包含memcached且收藏数大于10的镜像" class="headerlink" title="查找镜像名包含memcached且收藏数大于10的镜像"></a>查找镜像名包含memcached且收藏数大于10的镜像</h5><p>docker search -f stars&#x3D;10 memcached –no-trunc</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">➜  /tmp docker <span class="hljs-keyword">search</span> -f stars=<span class="hljs-number">10</span> memcached <span class="hljs-comment">--no-trunc</span><br><span class="hljs-type">NAME</span>                       DESCRIPTION                                                                       STARS     OFFICIAL   AUTOMATED<br>memcached                  Free &amp; <span class="hljs-keyword">open</span> source, high-performance, distributed memory <span class="hljs-keyword">object</span> caching <span class="hljs-keyword">system</span>.   <span class="hljs-number">2135</span>      [OK]       <br>bitnami/memcached          Bitnami Memcached Docker Image                                                    <span class="hljs-number">32</span>                   [OK]<br>sylvainlasnier/memcached   Memcached docker images based <span class="hljs-keyword">on</span> Ubuntu <span class="hljs-number">14.10</span>. It <span class="hljs-keyword">is</span> small <span class="hljs-keyword">and</span> basic.             <span class="hljs-number">28</span>                   [OK]<br>rapidfort/memcached-ib     RapidFort optimized, hardened image <span class="hljs-keyword">for</span> Memcached IronBank                        <span class="hljs-number">12</span>                   <br>rapidfort/memcached        RapidFort optimized, hardened image <span class="hljs-keyword">for</span> Memcached                                 <span class="hljs-number">11</span>                   <br>prom/memcached-exporter    Exports metrics <span class="hljs-keyword">from</span> memcached servers <span class="hljs-keyword">for</span> consumption <span class="hljs-keyword">by</span> Prometheus.             <span class="hljs-number">10</span>               <br></code></pre></td></tr></table></figure><p>NAME：镜像名</p><p>DESCRIPTION：描述</p><p>START：关注数</p><p>OFFICIAL：是否为docker官方发布</p><p>AUTOMATED：自动构建</p><h2 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h2><h3 id="docker-pull"><a href="#docker-pull" class="headerlink" title="docker pull"></a>docker pull</h3><p><strong>docker pull [OPTIONS] NAME[:TAG|@DIGEST]</strong></p><h4 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a>描述</h4><p>从镜像仓库中拉取或者更新指定镜像，如不选定版本号，则下载最新镜像</p><h4 id="OPTIONS-1"><a href="#OPTIONS-1" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="a-–all-tags"><a href="#a-–all-tags" class="headerlink" title="-a –all-tags"></a>-a –all-tags</h5><p>拉取所有tagged镜像</p><h5 id="–distable-content-trust"><a href="#–distable-content-trust" class="headerlink" title="–distable-content-trust"></a>–distable-content-trust</h5><p>忽略镜像的校验，默认是开启校验的</p><h4 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h4><p>1、pull命令中的NAME，取决于<a href="https://hub.docker.com/%E4%B8%AD%E6%98%BE%E7%A4%BA%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%90%8D%E3%80%82">https://hub.docker.com/中显示的软件名。</a></p><p>例如：</p><p>下载 mysql 8.3.0 版本，使用 docker pull mysql:8.3.0</p><p>下载 grafana&#x2F;grafana 10.2.4 版本，使用 docker pull grafana&#x2F;grafana:10.2.4 </p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">[root@localhost grafana]<span class="hljs-comment"># docker pull grafana/grafana:6.3.3</span><br><span class="hljs-number">6.3</span><span class="hljs-number">.3</span>: Pulling <span class="hljs-keyword">from</span> grafana/grafana<br>[root@localhost grafana]<span class="hljs-comment"># docker pull grafana/grafana:8.2.6</span><br><span class="hljs-number">8.2</span><span class="hljs-number">.6</span>: Pulling <span class="hljs-keyword">from</span> grafana/grafana<br><br>[root@localhost grafana]<span class="hljs-comment"># docker images | grep grafana</span><br>grafana/grafana                                                   <span class="hljs-number">8.2</span><span class="hljs-number">.6</span>     aeeaa96eea83   <span class="hljs-number">5</span> months ago   <span class="hljs-number">253</span>MB<br>grafana/grafana                                                   <span class="hljs-number">6.3</span><span class="hljs-number">.3</span>     a6e14b4109af   <span class="hljs-number">2</span> years ago    <span class="hljs-number">253</span>MB<br></code></pre></td></tr></table></figure><h4 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h4><p>从 docker hub 下载最新版memcached</p><p>docker pull memcached</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs makefile">(base) root@localhost:~<span class="hljs-comment"># docker pull memcached:latest</span><br><span class="hljs-section">latest: Pulling from library/memcached</span><br><span class="hljs-section">c229119241af: Pull complete </span><br><span class="hljs-section">af2f0309d301: Pull complete </span><br><span class="hljs-section">35783664a727: Pull complete </span><br><span class="hljs-section">a0d63d088cef: Pull complete </span><br><span class="hljs-section">d2f1f521665d: Pull complete </span><br><span class="hljs-section">24f6b2ace768: Pull complete </span><br><span class="hljs-section">Digest: sha256:c42541495ec1a6925cb105635bcafeedf60a56e3b9e4ac8b1afaf6d7851d70b2</span><br><span class="hljs-section">Status: Downloaded newer image for memcached:latest</span><br><span class="hljs-section">docker.io/library/memcached:latest</span><br></code></pre></td></tr></table></figure><h2 id="查看镜像历史"><a href="#查看镜像历史" class="headerlink" title="查看镜像历史"></a>查看镜像历史</h2><h3 id="docker-history"><a href="#docker-history" class="headerlink" title="docker history"></a>docker history</h3><p><strong>docker history [OPTIONS] images</strong></p><h4 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a>描述</h4><p>查看镜像的历史提交记录信息</p><figure class="highlight leaf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs leaf">➜  /tmp docker history mysql               <br>IMAGE          CREATED        CREATED BY                                      SIZE      COMMENT<br>de7c37d1d5ac   6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  CMD [&quot;mysqld&quot;]               0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  EXPOSE 3306 33060            0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENTRYPOINT [&quot;docker-entry…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span> COPY file:e9c22353a1133b89…   14.2kB    <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  VOLUME [/var/lib/mysql]      0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eux;  microdnf install -y &quot;m…   282MB     <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_SHELL_VERSION=8…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eu;  . /etc/os-release;  &#123;  …   215B      <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eux;  microdnf install -y &quot;m…   183MB     <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eu;  . /etc/os-release;  &#123;  …   246B      <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_VERSION=8.1.0-1…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_MAJOR=innovation   0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  key=&#x27;859BE8D7C586F5384…   3.17kB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  microdnf install -y   …   14.1MB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  arch=&quot;$(uname -m)&quot;;  c…   2.4MB     <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV GOSU_VERSION=1.16        0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  groupadd --system --gi…   2.77kB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  CMD [&quot;/bin/bash&quot;]            0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span> ADD file:49b1f7f2b2558f789…   118MB   <br></code></pre></td></tr></table></figure><h4 id="OPTIONS-2"><a href="#OPTIONS-2" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="H"><a href="#H" class="headerlink" title="-H"></a>-H</h5><p>以可读的方式展示时间镜像信息和时间，默认开启</p><h5 id="q"><a href="#q" class="headerlink" title="-q"></a>-q</h5><p>仅列出提交记录ID</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs nix">➜  <span class="hljs-symbol">/tmp</span> docker history <span class="hljs-operator">-</span>q mysql<br>de7c37d1d5ac<br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br><span class="hljs-symbol">&lt;missing&gt;</span><br></code></pre></td></tr></table></figure><h5 id="–no-trunc-1"><a href="#–no-trunc-1" class="headerlink" title="–no-trunc"></a>–no-trunc</h5><p>Don’t truncate output 不截断输出，也就是显示完整信息</p><h4 id="images"><a href="#images" class="headerlink" title="images"></a>images</h4><p>image ID 或REPOSITORY:TAG</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs tap">➜  /tmp docker images<br>REPOSITORY                TAG          IMAGE ID       CREATED         SIZE<br>grafana/grafana           10.2.4       147eb932c0fd  <span class="hljs-number"> 10 </span>days ago     391MB<br>mysql                     8.3.0        e68e2614955c  <span class="hljs-number"> 5 </span>weeks ago     638MB<br>apache/activemq-artemis   latest       76998b3399b7  <span class="hljs-number"> 3 </span>months ago    312MB<br>lamp_web                  latest       41d9dabcb737  <span class="hljs-number"> 6 </span>months ago    524MB<br>mysql                     latest       de7c37d1d5ac  <span class="hljs-number"> 6 </span>months ago    599MB<br>ubuntu                    latest       4c2c87c6c36e  <span class="hljs-number"> 14 </span>months ago   69.2MB<br>kalilinux/kali-rolling    latest       0d323592c7f5  <span class="hljs-number"> 14 </span>months ago   140MB<br>centos                   <span class="hljs-number"> 7 </span>           c9a1fdca3387  <span class="hljs-number"> 2 </span>years ago     301MB<br>nginx                     latest       eeb9db34b331  <span class="hljs-number"> 2 </span>years ago     134MB<br>php                       7.4.21-fpm   1829ff0bdd88  <span class="hljs-number"> 2 </span>years ago     364MB<br>vulhub/flink              1.11.2       b137254280cc  <span class="hljs-number"> 3 </span>years ago     625MB<br>islandora/activemq        latest       5d0bce1752d7  <span class="hljs-number"> 3 </span>years ago     272MB<br>webcenter/activemq        latest       3af156432993  <span class="hljs-number"> 7 </span>years ago     422MB<br></code></pre></td></tr></table></figure><figure class="highlight leaf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs leaf">➜  /tmp docker history mysql<br>IMAGE          CREATED        CREATED BY                                      SIZE      COMMENT<br>de7c37d1d5ac   6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  CMD [&quot;mysqld&quot;]               0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  EXPOSE 3306 33060            0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENTRYPOINT [&quot;docker-entry…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span> COPY file:e9c22353a1133b89…   14.2kB    <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  VOLUME [/var/lib/mysql]      0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eux;  microdnf install -y &quot;m…   282MB     <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_SHELL_VERSION=8…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eu;  . /etc/os-release;  &#123;  …   215B      <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eux;  microdnf install -y &quot;m…   183MB     <br>&lt;missing&gt;      6 months ago   /bin/sh -c set -eu;  . /etc/os-release;  &#123;  …   246B      <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_VERSION=8.1.0-1…   0B        <br>&lt;missing&gt;      6 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV MYSQL_MAJOR=innovation   0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  key=&#x27;859BE8D7C586F5384…   3.17kB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  microdnf install -y   …   14.1MB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  arch=&quot;$(uname -m)&quot;;  c…   2.4MB     <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  ENV GOSU_VERSION=1.16        0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c set -eux;  groupadd --system --gi…   2.77kB    <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span>  CMD [&quot;/bin/bash&quot;]            0B        <br>&lt;missing&gt;      7 months ago   /bin/sh -c <span class="hljs-punctuation">#</span><span class="hljs-params">(<span class="hljs-variable">nop</span>)</span> ADD file:49b1f7f2b2558f789…   118MB     <br></code></pre></td></tr></table></figure><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs nix">➜  <span class="hljs-symbol">/tmp</span> docker history mysql:<span class="hljs-number">8.3</span>.<span class="hljs-number">0</span><br>IMAGE          CREATED       CREATED BY                                      SIZE      COMMENT<br>e68e2614955c   <span class="hljs-number">5</span> weeks ago   CMD [<span class="hljs-string">&quot;mysqld&quot;</span>]                                  <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   EXPOSE <span class="hljs-built_in">map</span>[<span class="hljs-number">3306</span><span class="hljs-operator">/</span>tcp:&#123;&#125; <span class="hljs-number">33060</span><span class="hljs-operator">/</span>tcp:&#123;&#125;]            <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   ENTRYPOINT [<span class="hljs-string">&quot;docker-entrypoint.sh&quot;</span>]             <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   COPY docker-entrypoint.sh <span class="hljs-operator">/</span>usr<span class="hljs-operator">/</span>local<span class="hljs-operator">/</span>bin<span class="hljs-symbol">/</span> <span class="hljs-comment"># …   13.5kB    buildkit.dockerfile.v0</span><br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   VOLUME [<span class="hljs-operator">/</span>var<span class="hljs-operator">/</span>lib<span class="hljs-operator">/</span>mysql]                         <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  microdnf install <span class="hljs-operator">-</span>…   <span class="hljs-number">303</span>MB     buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   ENV MYSQL_SHELL_VERSION<span class="hljs-operator">=</span><span class="hljs-number">8.3</span>.<span class="hljs-number">0</span><span class="hljs-operator">-</span><span class="hljs-number">1</span>.el8             <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eu;  &#123;   echo &#x27;[mysql-to…   <span class="hljs-number">226</span>B      buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  microdnf install <span class="hljs-operator">-</span>…   <span class="hljs-number">197</span>MB     buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eu;  &#123;   echo &#x27;[mysqlinn…   <span class="hljs-number">246</span>B      buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   ENV MYSQL_VERSION<span class="hljs-operator">=</span><span class="hljs-number">8.3</span>.<span class="hljs-number">0</span><span class="hljs-operator">-</span><span class="hljs-number">1</span>.el8                   <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   ENV MYSQL_MAJOR<span class="hljs-operator">=</span>innovation                      <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  <span class="hljs-attr">key</span><span class="hljs-operator">=</span>&#x27;BCA4 <span class="hljs-number">3417</span> C3B…   <span class="hljs-number">3.17</span>kB    buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  microdnf install <span class="hljs-operator">-</span>…   <span class="hljs-number">14</span>MB      buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  <span class="hljs-attr">arch</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;$(uname -m)&quot;</span>…   <span class="hljs-number">2.4</span>MB     buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   ENV GOSU_VERSION<span class="hljs-operator">=</span><span class="hljs-number">1.16</span>                           <span class="hljs-number">0</span>B        buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   RUN <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c set <span class="hljs-operator">-</span>eux;  groupadd <span class="hljs-operator">-</span>-system …   <span class="hljs-number">2.77</span>kB    buildkit.dockerfile.v0<br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c <span class="hljs-comment">#(nop)  CMD [&quot;/bin/bash&quot;]            0B        </span><br><span class="hljs-symbol">&lt;missing&gt;</span>      <span class="hljs-number">5</span> weeks ago   <span class="hljs-symbol">/bin/sh</span> <span class="hljs-operator">-</span>c <span class="hljs-comment">#(nop) ADD file:53c58659a3a149d31…   122MB   </span><br></code></pre></td></tr></table></figure><h2 id="查看镜像元数据"><a href="#查看镜像元数据" class="headerlink" title="查看镜像元数据"></a>查看镜像元数据</h2><h3 id="docker-inspect"><a href="#docker-inspect" class="headerlink" title="docker inspect"></a>docker inspect</h3><p><strong>docker inspect [OPTIONS] Name|Id</strong></p><h4 id="描述-5"><a href="#描述-5" class="headerlink" title="描述"></a>描述</h4><p>查看镜像的基础数据</p><h4 id="OPTIONS-3"><a href="#OPTIONS-3" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="f"><a href="#f" class="headerlink" title="-f"></a>-f</h5><p>指定返回值的模版文件，类似 docker inspect –format</p><h4 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h4><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">➜  /tmp docker images <span class="hljs-string">| grep nginx</span><br>nginx                     latest       eeb9db34b331   <span class="hljs-number">2</span> years ago     <span class="hljs-number">134</span>MB<br></code></pre></td></tr></table></figure><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><code class="hljs nix">➜  <span class="hljs-symbol">/tmp</span> docker inspect nginx<br>[<br>    &#123;<br>        <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;sha256:eeb9db34b33190cac170b27d857e9b23511d396a2609c1a54e93025634afed0a&quot;</span>,<br>        <span class="hljs-string">&quot;RepoTags&quot;</span>: [<br>            <span class="hljs-string">&quot;nginx:latest&quot;</span><br>        ],<br>        <span class="hljs-string">&quot;RepoDigests&quot;</span>: [<br>            <span class="hljs-string">&quot;nginx@sha256:0d17b565c37bcbd895e9d92315a05c1c3c9a29f762b011a10c54a66cd53c9b31&quot;</span><br>        ],<br>        <span class="hljs-string">&quot;Parent&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;Comment&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;Created&quot;</span>: <span class="hljs-string">&quot;2021-12-29T18:45:32.26799474Z&quot;</span>,<br>        <span class="hljs-string">&quot;Container&quot;</span>: <span class="hljs-string">&quot;28117e6cd07462919e64874c17cec15a453e5b3d99b088f04a12a7640c27c280&quot;</span>,<br>        <span class="hljs-string">&quot;ContainerConfig&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Hostname&quot;</span>: <span class="hljs-string">&quot;28117e6cd074&quot;</span>,<br>            <span class="hljs-string">&quot;Domainname&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;User&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;AttachStdin&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStdout&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStderr&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;ExposedPorts&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;80/tcp&quot;</span>: &#123;&#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;Tty&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;OpenStdin&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;StdinOnce&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Env&quot;</span>: [<br>                <span class="hljs-string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>,<br>                <span class="hljs-string">&quot;NGINX_VERSION=1.21.5&quot;</span>,<br>                <span class="hljs-string">&quot;NJS_VERSION=0.7.1&quot;</span>,<br>                <span class="hljs-string">&quot;PKG_RELEASE=1~bullseye&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;Cmd&quot;</span>: [<br>                <span class="hljs-string">&quot;/bin/sh&quot;</span>,<br>                <span class="hljs-string">&quot;-c&quot;</span>,<br>                <span class="hljs-string">&quot;#(nop) &quot;</span>,<br>                <span class="hljs-string">&quot;CMD [<span class="hljs-char escape_">\&quot;</span>nginx<span class="hljs-char escape_">\&quot;</span> <span class="hljs-char escape_">\&quot;</span>-g<span class="hljs-char escape_">\&quot;</span> <span class="hljs-char escape_">\&quot;</span>daemon off;<span class="hljs-char escape_">\&quot;</span>]&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;Image&quot;</span>: <span class="hljs-string">&quot;sha256:86f0ad4f760522a77d5d2748709f102fba21b448831ba769d6b5bee6bc8b15e7&quot;</span>,<br>            <span class="hljs-string">&quot;Volumes&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;WorkingDir&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Entrypoint&quot;</span>: [<br>                <span class="hljs-string">&quot;/docker-entrypoint.sh&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;OnBuild&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;Labels&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;maintainer&quot;</span>: <span class="hljs-string">&quot;NGINX Docker Maintainers &lt;docker-maint@nginx.com&gt;&quot;</span><br>            &#125;,<br>            <span class="hljs-string">&quot;StopSignal&quot;</span>: <span class="hljs-string">&quot;SIGQUIT&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;DockerVersion&quot;</span>: <span class="hljs-string">&quot;20.10.7&quot;</span>,<br>        <span class="hljs-string">&quot;Author&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;Config&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Hostname&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Domainname&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;User&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;AttachStdin&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStdout&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStderr&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;ExposedPorts&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;80/tcp&quot;</span>: &#123;&#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;Tty&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;OpenStdin&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;StdinOnce&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Env&quot;</span>: [<br>                <span class="hljs-string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>,<br>                <span class="hljs-string">&quot;NGINX_VERSION=1.21.5&quot;</span>,<br>                <span class="hljs-string">&quot;NJS_VERSION=0.7.1&quot;</span>,<br>                <span class="hljs-string">&quot;PKG_RELEASE=1~bullseye&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;Cmd&quot;</span>: [<br>                <span class="hljs-string">&quot;nginx&quot;</span>,<br>                <span class="hljs-string">&quot;-g&quot;</span>,<br>                <span class="hljs-string">&quot;daemon off;&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;Image&quot;</span>: <span class="hljs-string">&quot;sha256:86f0ad4f760522a77d5d2748709f102fba21b448831ba769d6b5bee6bc8b15e7&quot;</span>,<br>            <span class="hljs-string">&quot;Volumes&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;WorkingDir&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Entrypoint&quot;</span>: [<br>                <span class="hljs-string">&quot;/docker-entrypoint.sh&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;OnBuild&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;Labels&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;maintainer&quot;</span>: <span class="hljs-string">&quot;NGINX Docker Maintainers &lt;docker-maint@nginx.com&gt;&quot;</span><br>            &#125;,<br>            <span class="hljs-string">&quot;StopSignal&quot;</span>: <span class="hljs-string">&quot;SIGQUIT&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;Architecture&quot;</span>: <span class="hljs-string">&quot;arm64&quot;</span>,<br>        <span class="hljs-string">&quot;Variant&quot;</span>: <span class="hljs-string">&quot;v8&quot;</span>,<br>        <span class="hljs-string">&quot;Os&quot;</span>: <span class="hljs-string">&quot;linux&quot;</span>,<br>        <span class="hljs-string">&quot;Size&quot;</span>: <span class="hljs-number">134458357</span>,<br>        <span class="hljs-string">&quot;VirtualSize&quot;</span>: <span class="hljs-number">134458357</span>,<br>        <span class="hljs-string">&quot;GraphDriver&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Data&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;LowerDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/19bce005f2b1d9db0eba7c613875f51cd1b7a19ea0a43dcbf45c1017fbcc03dc/diff:/var/lib/docker/overlay2/2949cec29c3a2dfba7a1cbc215919f6ec18a27e80506dbbc51017f4389bb604e/diff:/var/lib/docker/overlay2/8f23aefbf0d9446e0dd6f9d228bdd2ed21b4b556d064352cdb546407fbe22b7b/diff:/var/lib/docker/overlay2/aba312ecee136814284e1d21b2d4f6c28cdabb85ee4d3142324ae752156359ac/diff:/var/lib/docker/overlay2/3db4264e94b91b2dac969fd2a0af7317aeb303e8d0032162e2e4734c05b750c9/diff&quot;</span>,<br>                <span class="hljs-string">&quot;MergedDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/13e56f4f1a8dc5bf18857bdf279ce0d20b730534c8b5027eafe142cf28e36a95/merged&quot;</span>,<br>                <span class="hljs-string">&quot;UpperDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/13e56f4f1a8dc5bf18857bdf279ce0d20b730534c8b5027eafe142cf28e36a95/diff&quot;</span>,<br>                <span class="hljs-string">&quot;WorkDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/13e56f4f1a8dc5bf18857bdf279ce0d20b730534c8b5027eafe142cf28e36a95/work&quot;</span><br>            &#125;,<br>            <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;overlay2&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;RootFS&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;layers&quot;</span>,<br>            <span class="hljs-string">&quot;Layers&quot;</span>: [<br>                <span class="hljs-string">&quot;sha256:1c79be3b9cebb9838b5c607567cb18eb50cd94e39b20a6241ca7d2d53dcffc89&quot;</span>,<br>                <span class="hljs-string">&quot;sha256:c6652321c7b9deb69994b5490710e7ab52a38f5171eddbe6f4d47fb9ea928929&quot;</span>,<br>                <span class="hljs-string">&quot;sha256:d00df4ca0725daf0ad547fcc9c731ed877d7b898559703ffe94e35de77ebd455&quot;</span>,<br>                <span class="hljs-string">&quot;sha256:eb5d612bd5e0648b5dd9680101b778787652f435ac73db4b5e559b868392a314&quot;</span>,<br>                <span class="hljs-string">&quot;sha256:01792ec538b3b8d67d341ad7b079beec9b289feb8a1e618b3fcfe2bb0c206a2b&quot;</span>,<br>                <span class="hljs-string">&quot;sha256:7bc89178e1bbe5212cc907f798b0f3bb3e07c71083390703e04486012d398a4f&quot;</span><br>            ]<br>        &#125;,<br>        <span class="hljs-string">&quot;Metadata&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;LastTagTime&quot;</span>: <span class="hljs-string">&quot;0001-01-01T00:00:00Z&quot;</span><br>        &#125;<br>    &#125;<br>]<br></code></pre></td></tr></table></figure><h2 id="生成镜像"><a href="#生成镜像" class="headerlink" title="生成镜像"></a>生成镜像</h2><h3 id="docker-build"><a href="#docker-build" class="headerlink" title="docker build"></a>docker build</h3><p><strong>docker build [OPTIONS] PATH | URL | -</strong></p><h4 id="描述-6"><a href="#描述-6" class="headerlink" title="描述"></a>描述</h4><p>已有的镜像不能满足业务需求，需要自己构建符合需求的镜像</p><h4 id="OPTIONS-4"><a href="#OPTIONS-4" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="t"><a href="#t" class="headerlink" title="-t"></a>-t</h5><p>–tag list</p><p>–target string  指定镜像 tag</p><h4 id="PATH"><a href="#PATH" class="headerlink" title="PATH"></a>PATH</h4><p>指定 Dockerfile 路径</p><h4 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h4><h5 id="编写-Dockerfile-文件"><a href="#编写-Dockerfile-文件" class="headerlink" title="编写 Dockerfile 文件"></a>编写 Dockerfile 文件</h5><p>注意：文件名就是Dockerfile</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">➜  test cat Dockerfile <br><span class="hljs-comment"># 使用官方的 Ubuntu 20.04 镜像作为基础</span><br><span class="hljs-keyword">FROM</span> ubuntu:<span class="hljs-number">20.04</span><br><br><span class="hljs-comment"># 作者信息</span><br><span class="hljs-keyword">LABEL</span><span class="language-bash"> maintainer=<span class="hljs-string">&quot;your-email@example.com&quot;</span></span><br><br><span class="hljs-comment"># 更新 apt 软件包列表并安装一个示例应用程序</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y \</span><br><span class="language-bash">    nginx \</span><br><span class="language-bash">    &amp;&amp; <span class="hljs-built_in">rm</span> -rf /var/lib/apt/lists/*</span><br><br><span class="hljs-comment"># 将本地文件复制到镜像中</span><br><span class="hljs-keyword">COPY</span><span class="language-bash"> index.html /var/www/html/</span><br><br><span class="hljs-comment"># 暴露端口</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">80</span><br><br><span class="hljs-comment"># 定义容器启动时运行的命令</span><br><span class="hljs-keyword">CMD</span><span class="language-bash"> [<span class="hljs-string">&quot;nginx&quot;</span>, <span class="hljs-string">&quot;-g&quot;</span>, <span class="hljs-string">&quot;daemon off;&quot;</span>]</span><br></code></pre></td></tr></table></figure><h5 id="build镜像"><a href="#build镜像" class="headerlink" title="build镜像"></a>build镜像</h5><p>docker build -t my-nginx-image .</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs ruby">➜  test docker build -t my-nginx-image .<br>[+] <span class="hljs-title class_">Building</span> <span class="hljs-number">74</span>.9s (<span class="hljs-number">8</span>/<span class="hljs-number">8</span>) <span class="hljs-variable constant_">FINISHED</span>                                                                                                                                           <br> =&gt; [internal] load build definition from <span class="hljs-title class_">Dockerfile</span>                                                                                                                   <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; transferring <span class="hljs-symbol">dockerfile:</span> 491B                                                                                                                                   <span class="hljs-number">0</span>.0s<br> =&gt; [internal] load .dockerignore                                                                                                                                      <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; transferring <span class="hljs-symbol">context:</span> 2B                                                                                                                                        <span class="hljs-number">0</span>.0s<br> =&gt; [internal] load metadata for docker.io/library/<span class="hljs-symbol">ubuntu:</span><span class="hljs-number">20.04</span>                                                                                                        <span class="hljs-number">1</span>.4s<br> =&gt; [<span class="hljs-number">1</span>/<span class="hljs-number">3</span>] <span class="hljs-variable constant_">FROM</span> docker.io/library/<span class="hljs-symbol">ubuntu:</span><span class="hljs-number">20.04</span><span class="hljs-variable">@sha256</span><span class="hljs-symbol">:</span>626ffe58f6e7566e00254b638eb7e0f3b11d4da9675088f4781a50ae288f3322                                                 <span class="hljs-number">23</span>.4s<br> =&gt; =&gt; resolve docker.io/library/<span class="hljs-symbol">ubuntu:</span><span class="hljs-number">20.04</span><span class="hljs-variable">@sha256</span><span class="hljs-symbol">:</span>626ffe58f6e7566e00254b638eb7e0f3b11d4da9675088f4781a50ae288f3322                                                  <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; <span class="hljs-symbol">sha256:</span>626ffe58f6e7566e00254b638eb7e0f3b11d4da9675088f4781a50ae288f3322 <span class="hljs-number">1</span>.42kB / <span class="hljs-number">1</span>.42kB                                                                         <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; <span class="hljs-symbol">sha256:</span>26c3bd3ae441c873a210200bcbb975ffd2bbf0c0841a4584f4476c8a5b8f3d99 529B / 529B                                                                             <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; <span class="hljs-symbol">sha256:</span>d5ca7a4456053674d490803005766890dd19e3f7e789a48737c0d462da531f5d <span class="hljs-number">1</span>.48kB / <span class="hljs-number">1</span>.48kB                                                                         <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; <span class="hljs-symbol">sha256:</span>a39c84e173f038958d338f55a9e8ee64bb6643e8ac6ae98e08ca65146e668d86 <span class="hljs-number">27</span>.17MB / <span class="hljs-number">27</span>.17MB                                                                      <span class="hljs-number">22</span>.6s<br> =&gt; =&gt; extracting <span class="hljs-symbol">sha256:</span>a39c84e173f038958d338f55a9e8ee64bb6643e8ac6ae98e08ca65146e668d86                                                                              <span class="hljs-number">0</span>.7s<br> =&gt; [internal] load build context                                                                                                                                      <span class="hljs-number">0</span>.0s<br> =&gt; =&gt; transferring <span class="hljs-symbol">context:</span> 255B                                                                                                                                      <span class="hljs-number">0</span>.0s<br> =&gt; [<span class="hljs-number">2</span>/<span class="hljs-number">3</span>] <span class="hljs-variable constant_">RUN</span> apt-get update &amp;&amp; apt-get install -y     nginx     &amp;&amp; rm -rf /var/lib/apt/lists/*                                                                       <span class="hljs-number">49</span>.7s<br> =&gt; [<span class="hljs-number">3</span>/<span class="hljs-number">3</span>] <span class="hljs-variable constant_">COPY</span> index.html /var/www/html/                                                                                                                               <span class="hljs-number">0</span>.0s <br> =&gt; exporting to image                                                                                                                                                 <span class="hljs-number">0</span>.2s <br> =&gt; =&gt; exporting layers                                                                                                                                                <span class="hljs-number">0</span>.2s <br> =&gt; =&gt; writing image <span class="hljs-symbol">sha256:</span>fd09b8e38b0e75b933c83996e55146d4a59e2c62b13c0daec733177186923b39                                                                           <span class="hljs-number">0</span>.0s <br> =&gt; =&gt; naming to docker.io/library/my-nginx-image  <br></code></pre></td></tr></table></figure><h2 id="添加TAG"><a href="#添加TAG" class="headerlink" title="添加TAG"></a>添加TAG</h2><h3 id="docker-tag"><a href="#docker-tag" class="headerlink" title="docker tag"></a>docker tag</h3><p><strong>docker tag 镜像名称:镜像版本 镜像新名称:镜像新版本</strong></p><h4 id="描述-7"><a href="#描述-7" class="headerlink" title="描述"></a>描述</h4><p>为镜像设置tag</p><h4 id="OPTIONS-5"><a href="#OPTIONS-5" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h4 id="实例-6"><a href="#实例-6" class="headerlink" title="实例"></a>实例</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[root@iZbp1191gh7vw52537lyxrZ ~]<span class="hljs-comment"># docker images</span><br>REPOSITORY        <span class="hljs-keyword">TAG</span>       <span class="hljs-title">IMAGE</span> ID       CREATED        SIZE<br>grafana/grafana   <span class="hljs-number">8.2</span>.<span class="hljs-number">6</span>     aeeaa96eea83   <span class="hljs-number">9</span> months ago   <span class="hljs-number">253M</span>B<br>grafana/grafana   <span class="hljs-number">6.3</span>.<span class="hljs-number">3</span>     a6e14b4109af   <span class="hljs-number">3</span> years ago    <span class="hljs-number">253M</span>B<br>[root@iZbp1191gh7vw52537lyxrZ ~]<span class="hljs-comment"># docker tag grafana/grafana:8.2.6 grafana:8.2.6.1</span><br>[root@iZbp1191gh7vw52537lyxrZ ~]<span class="hljs-comment"># docker images</span><br>REPOSITORY        <span class="hljs-keyword">TAG</span>       <span class="hljs-title">IMAGE</span> ID       CREATED        SIZE<br>grafana/grafana   <span class="hljs-number">8.2</span>.<span class="hljs-number">6</span>     aeeaa96eea83   <span class="hljs-number">9</span> months ago   <span class="hljs-number">253M</span>B<br>grafana           <span class="hljs-number">8.2</span>.<span class="hljs-number">6.1</span>   aeeaa96eea83   <span class="hljs-number">9</span> months ago   <span class="hljs-number">253M</span>B<br>grafana/grafana   <span class="hljs-number">6.3</span>.<span class="hljs-number">3</span>     a6e14b4109af   <span class="hljs-number">3</span> years ago    <span class="hljs-number">253M</span>B<br></code></pre></td></tr></table></figure><h2 id="上传镜像"><a href="#上传镜像" class="headerlink" title="上传镜像"></a>上传镜像</h2><h3 id="docker-push"><a href="#docker-push" class="headerlink" title="docker push"></a><strong>docker push</strong></h3><p><strong>docker push [OPTIONS] NAME[:TAG]</strong></p><h4 id="描述-8"><a href="#描述-8" class="headerlink" title="描述"></a>描述</h4><p>上传镜像到远程镜像仓库</p><h4 id="OPTIONS-6"><a href="#OPTIONS-6" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="a"><a href="#a" class="headerlink" title="-a"></a>-a</h5><p>–all-tags 上传所有tag的镜像到仓库</p><p>–disable-content-trust  关闭镜像签名校验，默认校验</p><p>-q</p><p>–quiet Suppress verbose output</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus">➜  / docker push registry<span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span>.xxx/hours/my-nginx-<span class="hljs-selector-tag">image</span>:<span class="hljs-number">2.0</span>                                    <br>The push refers to repository <span class="hljs-selector-attr">[registry.xxx.xxx.xxx.xxx/hours/my-nginx-image]</span><br><span class="hljs-number">0</span>c192a2bcb80: Pushed <br>bed1f48a7b1b: Pushed <br><span class="hljs-number">350</span>f36b271de: Layer already exists <br><span class="hljs-number">2.0</span>: digest: sha256:c0b08d64470340b8fc730b795e0d99f78da1595d5443ab97e7b51ab8bd057022 size: <span class="hljs-number">948</span><br>➜  / docker push registry<span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span>.xxx/hours/my-nginx-<span class="hljs-selector-tag">image</span>:<span class="hljs-number">2.0</span> -<span class="hljs-selector-tag">q</span><br>registry<span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span><span class="hljs-selector-class">.xxx</span>.xxx/hours/my-nginx-<span class="hljs-selector-tag">image</span>:<span class="hljs-number">2.0</span><br></code></pre></td></tr></table></figure><h5 id="NAME-TAG"><a href="#NAME-TAG" class="headerlink" title="NAME[:TAG]"></a>NAME[:TAG]</h5><p>指定需要上传的镜像名或指定镜像TAG</p><p>不指定TAG，则使用默认TAG：latest</p><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><h6 id="不指定镜像仓库"><a href="#不指定镜像仓库" class="headerlink" title="不指定镜像仓库"></a>不指定镜像仓库</h6><p>默认会上传到 docker.io</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">➜  / docker push my-nginx-image<br><span class="hljs-keyword">Using</span> <span class="hljs-keyword">default</span> tag: latest<br>The push refers <span class="hljs-keyword">to</span> repository [docker.io/library/my-nginx-image]<br><span class="hljs-number">0</span>c192a2bcb80: Preparing <br><span class="hljs-symbol">bed1f48a7b1b:</span> Preparing <br><span class="hljs-number">350</span>f36b271de: Preparing <br><span class="hljs-symbol">denied:</span> requested access <span class="hljs-keyword">to</span> the resource <span class="hljs-built_in">is</span> denied<br></code></pre></td></tr></table></figure><h6 id="指定镜像仓库"><a href="#指定镜像仓库" class="headerlink" title="指定镜像仓库"></a>指定镜像仓库</h6><p>仓库域名&#x2F;项目名&#x2F;镜像名[:tag]</p><p>registry.xxx.xxx.xxx.xxx&#x2F;waf&#x2F;my-nginx-image:latest</p><h5 id="实例-7"><a href="#实例-7" class="headerlink" title="实例"></a>实例</h5><p>1、镜像添加tag</p><p>docker tag 镜像名:tag 仓库域名&#x2F;项目名&#x2F;镜像名:tag</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs perl">➜  / docker tag <span class="hljs-keyword">my</span>-nginx-image:latest registry.xxx.xxx.xxx.xxx/hours/<span class="hljs-keyword">my</span>-nginx-image:<span class="hljs-number">2.0</span><br><br>➜  / docker images | <span class="hljs-keyword">grep</span> <span class="hljs-number">2.0</span>     <br>registry.xxx.xxx.xxx.xxx/hours/<span class="hljs-keyword">my</span>-nginx-image     <span class="hljs-number">2.0</span>          fd09b8e38b0e   <span class="hljs-number">5</span> days ago      123MB<br></code></pre></td></tr></table></figure><p>2、上传镜像</p><p>可能需要登录，如果没有登录会提示（unauthorized: unauthorized to access repository: waf&#x2F;my-nginx-image, action: push: unauthorized to access repository: waf&#x2F;my-nginx-image, action: push）</p><p>docker push 仓库域名&#x2F;项目名&#x2F;镜像名:tag</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix">➜  <span class="hljs-symbol">/</span> docker push registry.xxx.xxx.xxx.xxx<span class="hljs-operator">/</span>hours<span class="hljs-operator">/</span>my-nginx-image:<span class="hljs-number">2.0</span>                                    <br>The push refers to repository [registry.xxx.xxx.xxx.xxx<span class="hljs-operator">/</span>hours<span class="hljs-operator">/</span>my-nginx-image]<br><span class="hljs-number">0</span><span class="hljs-params">c192a2bcb80:</span> Pushed <br><span class="hljs-params">bed1f48a7b1b:</span> Pushed <br><span class="hljs-number">350</span><span class="hljs-params">f36b271de:</span> Layer already exists <br><span class="hljs-number">2.0</span>: <span class="hljs-params">digest:</span> sha256:c0b08d64470340b8fc730b795e0d99f78da1595d5443ab97e7b51ab8bd057022 <span class="hljs-params">size:</span> <span class="hljs-number">948</span><br></code></pre></td></tr></table></figure><h1 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h1><h2 id="创建容器"><a href="#创建容器" class="headerlink" title="创建容器"></a>创建容器</h2><h3 id="docker-run"><a href="#docker-run" class="headerlink" title="docker run"></a>docker run</h3><p><strong>docker run [OPTIONS] IMAGE [COMMAND] [ARG…]</strong></p><p>docker run -itd  -p port1:port2 -v &#x2F;path:&#x2F;path IMAGE</p><p>dockerdocker二进制文件</p><p>run运行docker容器命令</p><h4 id="描述-9"><a href="#描述-9" class="headerlink" title="描述"></a>描述</h4><p>创建并运行容器</p><h4 id="OPTIONS-7"><a href="#OPTIONS-7" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="–name-Name"><a href="#–name-Name" class="headerlink" title="–name  Name"></a>–name  Name</h5><p>设置容器名称</p><h5 id="i，–interactive"><a href="#i，–interactive" class="headerlink" title="-i，–interactive"></a>-i，–interactive</h5><p>Keep STDIN open even if not attached  为容器创建终端，即使没有连接</p><h5 id="t，–tty"><a href="#t，–tty" class="headerlink" title="-t，–tty"></a>-t，–tty</h5><p>Allocate a pseudo-TTY 为容器分配伪终端，允许你对容器内的标准输入进行交互</p><h5 id="d，–detch"><a href="#d，–detch" class="headerlink" title="-d，–detch"></a>-d，–detch</h5><p>Run container in background and print container ID  创建的容器运行在后台，输出容器id</p><h5 id="–rm"><a href="#–rm" class="headerlink" title="–rm"></a>–rm</h5><p>容器退出时自动清理容器内部的文件系统，不可与 -d 命令同时使用</p><p>只能自动清理 foreground 容器，不可自动清理 detached 容器，也会清理容器的匿名 data volumes</p><p>等价于容器退出后，执行 docker rm -v</p><h5 id="port1"><a href="#port1" class="headerlink" title="port1"></a>port1</h5><p>容器外端口，宿主机端口</p><h5 id="port2"><a href="#port2" class="headerlink" title="port2"></a>port2</h5><p>容器内端口</p><h5 id="IMAGE"><a href="#IMAGE" class="headerlink" title="IMAGE"></a>IMAGE</h5><p>镜像名</p><h5 id="v-path1-path2"><a href="#v-path1-path2" class="headerlink" title="-v &#x2F;path1:&#x2F;path2"></a>-v &#x2F;path1:&#x2F;path2</h5><p>挂载目录  &#x2F;path1 宿主机目录  &#x2F;path2 容器目录，也就是将宿主机挂载到容器中</p><h4 id="COMMAND"><a href="#COMMAND" class="headerlink" title="COMMAND"></a>COMMAND</h4><p>制定执行的命令，例如 &#x2F;bin&#x2F;bash 指定使用的bash</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vim">➜  docker run -itd -<span class="hljs-keyword">p</span> <span class="hljs-number">8888</span>:<span class="hljs-number">80</span> -v /Users/admin/<span class="hljs-keyword">opt</span>/docker/:/<span class="hljs-keyword">opt</span>/ cento<span class="hljs-variable">s:7</span><br>Unable <span class="hljs-keyword">to</span> <span class="hljs-keyword">find</span> image <span class="hljs-string">&#x27;centos:7&#x27;</span> locally<br><span class="hljs-number">7</span>: Pulling from library/centos<br><span class="hljs-number">6717</span>b8ec66cd: Pull <span class="hljs-built_in">complete</span> <br>Digest: <span class="hljs-built_in">sha256</span>:c73f515d06b0fa07bb18d8202035e739a494ce760aa73129f60f4bf2bd22b407<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> cento<span class="hljs-variable">s:7</span><br><span class="hljs-number">0</span>fc471d9378c722e269c16673297223a77f1ba482bd67f0a4ad5f904bc9bd93f<br>➜  docker docker <span class="hljs-keyword">ps</span><br>CONTAINER ID   IMAGE      COMMAND       CREATED         STATUS         PORTS                  NAMES<br><span class="hljs-number">0</span>fc471d9378c   cento<span class="hljs-variable">s:7</span>   <span class="hljs-string">&quot;/bin/bash&quot;</span>   <span class="hljs-number">5</span> seconds ago   Up <span class="hljs-number">5</span> seconds   <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8888</span>-&gt;<span class="hljs-number">80</span>/tcp   gifted_banach<br></code></pre></td></tr></table></figure><h2 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h2><h3 id="docker-rm"><a href="#docker-rm" class="headerlink" title="docker rm"></a>docker rm</h3><p>docker rm id</p><h4 id="描述-10"><a href="#描述-10" class="headerlink" title="描述"></a>描述</h4><p>删除指定容器</p><h4 id="实例-8"><a href="#实例-8" class="headerlink" title="实例"></a>实例</h4><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">(base) root<span class="hljs-variable">@localhost</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># docker rm dbea3aafd585</span><br>dbea3aafd585<br></code></pre></td></tr></table></figure><h2 id="查看容器日志"><a href="#查看容器日志" class="headerlink" title="查看容器日志"></a>查看容器日志</h2><p><strong>docker logs [-f] id</strong></p><h3 id="docker-logs"><a href="#docker-logs" class="headerlink" title="docker logs"></a>docker logs</h3><h4 id="描述-11"><a href="#描述-11" class="headerlink" title="描述"></a>描述</h4><p>查看容器的日志信息</p><h4 id="OPTIONS-8"><a href="#OPTIONS-8" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="f-1"><a href="#f-1" class="headerlink" title="-f"></a>-f</h5><p>查看实时日志</p><h4 id="实例-9"><a href="#实例-9" class="headerlink" title="实例"></a>实例</h4><p>查看实时日志</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs css">➜  /tmp docker logs -f <span class="hljs-number">61804</span>e0083af<br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>└─# ┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br>┌──(root㉿<span class="hljs-number">61804</span>e0083af)-<span class="hljs-selector-attr">[/]</span><br></code></pre></td></tr></table></figure><h2 id="查看容器元数据"><a href="#查看容器元数据" class="headerlink" title="查看容器元数据"></a>查看容器元数据</h2><p><strong>docker inspect [OPTIONS] Name|Id</strong></p><h3 id="docker-inspect-1"><a href="#docker-inspect-1" class="headerlink" title="docker inspect"></a>docker inspect</h3><h4 id="描述-12"><a href="#描述-12" class="headerlink" title="描述"></a>描述</h4><p>查看容器的基础数据</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@iZbp1191gh7vw52537lyxrZ</span> ~]<span class="hljs-meta"># docker inspect 4b0e2ed242e0</span><br>[<br>    &#123;<br>        <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1&quot;</span>,<br>        <span class="hljs-string">&quot;Created&quot;</span>: <span class="hljs-string">&quot;2022-09-16T01:30:49.271281387Z&quot;</span>,<br>        <span class="hljs-string">&quot;Path&quot;</span>: <span class="hljs-string">&quot;/run.sh&quot;</span>,<br>        <span class="hljs-string">&quot;Args&quot;</span>: [],<br>        <span class="hljs-string">&quot;State&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Status&quot;</span>: <span class="hljs-string">&quot;running&quot;</span>,<br>            <span class="hljs-string">&quot;Running&quot;</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">&quot;Paused&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Restarting&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;OOMKilled&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Dead&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Pid&quot;</span>: <span class="hljs-number">1272</span>,<br>            <span class="hljs-string">&quot;ExitCode&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;Error&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;StartedAt&quot;</span>: <span class="hljs-string">&quot;2022-09-16T01:30:49.547993902Z&quot;</span>,<br>            <span class="hljs-string">&quot;FinishedAt&quot;</span>: <span class="hljs-string">&quot;0001-01-01T00:00:00Z&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;Image&quot;</span>: <span class="hljs-string">&quot;sha256:aeeaa96eea830b988643e495b3978bff65dbdb997cc938ff5a4185a6bf3d7839&quot;</span>,<br>        <span class="hljs-string">&quot;ResolvConfPath&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/containers/4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1/resolv.conf&quot;</span>,<br>        <span class="hljs-string">&quot;HostnamePath&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/containers/4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1/hostname&quot;</span>,<br>        <span class="hljs-string">&quot;HostsPath&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/containers/4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1/hosts&quot;</span>,<br>        <span class="hljs-string">&quot;LogPath&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/containers/4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1/4b0e2ed242e0e9be6f1834263c786c89bbfc5e4a8c939fe39a9f4009ad29aeb1-json.log&quot;</span>,<br>        <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;/amazing_brahmagupta&quot;</span>,<br>        <span class="hljs-string">&quot;RestartCount&quot;</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-string">&quot;Driver&quot;</span>: <span class="hljs-string">&quot;overlay2&quot;</span>,<br>        <span class="hljs-string">&quot;Platform&quot;</span>: <span class="hljs-string">&quot;linux&quot;</span>,<br>        <span class="hljs-string">&quot;MountLabel&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;ProcessLabel&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;AppArmorProfile&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;ExecIDs&quot;</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-string">&quot;HostConfig&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Binds&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;ContainerIDFile&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;LogConfig&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;Type&quot;</span>: <span class="hljs-string">&quot;json-file&quot;</span>,<br>                <span class="hljs-string">&quot;Config&quot;</span>: &#123;&#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;NetworkMode&quot;</span>: <span class="hljs-string">&quot;default&quot;</span>,<br>            <span class="hljs-string">&quot;PortBindings&quot;</span>: &#123;&#125;,<br>            <span class="hljs-string">&quot;RestartPolicy&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;no&quot;</span>,<br>                <span class="hljs-string">&quot;MaximumRetryCount&quot;</span>: <span class="hljs-number">0</span><br>            &#125;,<br>            <span class="hljs-string">&quot;AutoRemove&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;VolumeDriver&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;VolumesFrom&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;CapAdd&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;CapDrop&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;CgroupnsMode&quot;</span>: <span class="hljs-string">&quot;host&quot;</span>,<br>            <span class="hljs-string">&quot;Dns&quot;</span>: [],<br>            <span class="hljs-string">&quot;DnsOptions&quot;</span>: [],<br>            <span class="hljs-string">&quot;DnsSearch&quot;</span>: [],<br>            <span class="hljs-string">&quot;ExtraHosts&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;GroupAdd&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;IpcMode&quot;</span>: <span class="hljs-string">&quot;private&quot;</span>,<br>            <span class="hljs-string">&quot;Cgroup&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Links&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;OomScoreAdj&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;PidMode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Privileged&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;PublishAllPorts&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;ReadonlyRootfs&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;SecurityOpt&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;UTSMode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;UsernsMode&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;ShmSize&quot;</span>: <span class="hljs-number">67108864</span>,<br>            <span class="hljs-string">&quot;Runtime&quot;</span>: <span class="hljs-string">&quot;runc&quot;</span>,<br>            <span class="hljs-string">&quot;ConsoleSize&quot;</span>: [<br>                <span class="hljs-number">0</span>,<br>                <span class="hljs-number">0</span><br>            ],<br>            <span class="hljs-string">&quot;Isolation&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;CpuShares&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;Memory&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;NanoCpus&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CgroupParent&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;BlkioWeight&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;BlkioWeightDevice&quot;</span>: [],<br>            <span class="hljs-string">&quot;BlkioDeviceReadBps&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;BlkioDeviceWriteBps&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;BlkioDeviceReadIOps&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;BlkioDeviceWriteIOps&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;CpuPeriod&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CpuQuota&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CpuRealtimePeriod&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CpuRealtimeRuntime&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CpusetCpus&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;CpusetMems&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;Devices&quot;</span>: [],<br>            <span class="hljs-string">&quot;DeviceCgroupRules&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;DeviceRequests&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;KernelMemory&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;KernelMemoryTCP&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;MemoryReservation&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;MemorySwap&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;MemorySwappiness&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;OomKillDisable&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;PidsLimit&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;Ulimits&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;CpuCount&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;CpuPercent&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;IOMaximumIOps&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;IOMaximumBandwidth&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;MaskedPaths&quot;</span>: [<br>                <span class="hljs-string">&quot;/proc/asound&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/acpi&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/kcore&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/keys&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/latency_stats&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/timer_list&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/timer_stats&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/sched_debug&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/scsi&quot;</span>,<br>                <span class="hljs-string">&quot;/sys/firmware&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;ReadonlyPaths&quot;</span>: [<br>                <span class="hljs-string">&quot;/proc/bus&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/fs&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/irq&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/sys&quot;</span>,<br>                <span class="hljs-string">&quot;/proc/sysrq-trigger&quot;</span><br>            ]<br>        &#125;,<br>        <span class="hljs-string">&quot;GraphDriver&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Data&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;LowerDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/6c2f8aaf6b91b05cad73153ed26167454ccba0b4fdc4eec9d855f6a6eabe5885-init/diff:/var/lib/docker/overlay2/633c4f694e05024bd76ad9fa14e1c6e91eafa6fc167d32d65323885a9716bc35/diff:/var/lib/docker/overlay2/3ecd937d9ada1a8fca42695112f838d4e6eecad76e4da399deacb18ef3649f82/diff:/var/lib/docker/overlay2/034018bf0da3afd6cf8bea09c68058ed00aef54e0874542ab6b0cd0b5a2f5b02/diff:/var/lib/docker/overlay2/6a03f6c5a8ecfae171548b33f90b727a03afd182a426885717725fbd33e1e336/diff:/var/lib/docker/overlay2/e0ab3c204ba426a01ca2074f17047430c05eecc9d07a1e950e1bc0a49bb46181/diff:/var/lib/docker/overlay2/2f13d908a74a801add00f7fff9820ccfb297beac35a2d91ea05f812e2de3faf2/diff:/var/lib/docker/overlay2/5342538fe3dcd1ce2077dc5ac82efaed68d7fa18d7d58e2c41129f1f0c3a0b3f/diff:/var/lib/docker/overlay2/40c7b37364a365de1537dd0a8fbf60f9fc1484feb520fea5a45e396dcbb4e121/diff:/var/lib/docker/overlay2/a02e590a00667b827a1e3c789b75c3bb846586593bf2fc8015546a8351f77443/diff&quot;</span>,<br>                <span class="hljs-string">&quot;MergedDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/6c2f8aaf6b91b05cad73153ed26167454ccba0b4fdc4eec9d855f6a6eabe5885/merged&quot;</span>,<br>                <span class="hljs-string">&quot;UpperDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/6c2f8aaf6b91b05cad73153ed26167454ccba0b4fdc4eec9d855f6a6eabe5885/diff&quot;</span>,<br>                <span class="hljs-string">&quot;WorkDir&quot;</span>: <span class="hljs-string">&quot;/var/lib/docker/overlay2/6c2f8aaf6b91b05cad73153ed26167454ccba0b4fdc4eec9d855f6a6eabe5885/work&quot;</span><br>            &#125;,<br>            <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;overlay2&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;Mounts&quot;</span>: [],<br>        <span class="hljs-string">&quot;Config&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Hostname&quot;</span>: <span class="hljs-string">&quot;4b0e2ed242e0&quot;</span>,<br>            <span class="hljs-string">&quot;Domainname&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;User&quot;</span>: <span class="hljs-string">&quot;472&quot;</span>,<br>            <span class="hljs-string">&quot;AttachStdin&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStdout&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;AttachStderr&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;ExposedPorts&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;3000/tcp&quot;</span>: &#123;&#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;Tty&quot;</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">&quot;OpenStdin&quot;</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-string">&quot;StdinOnce&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;Env&quot;</span>: [<br>                <span class="hljs-string">&quot;PATH=/usr/share/grafana/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_CONFIG=/etc/grafana/grafana.ini&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_DATA=/var/lib/grafana&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_HOME=/usr/share/grafana&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_LOGS=/var/log/grafana&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_PLUGINS=/var/lib/grafana/plugins&quot;</span>,<br>                <span class="hljs-string">&quot;GF_PATHS_PROVISIONING=/etc/grafana/provisioning&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;Cmd&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;Image&quot;</span>: <span class="hljs-string">&quot;aeeaa96eea83&quot;</span>,<br>            <span class="hljs-string">&quot;Volumes&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;WorkingDir&quot;</span>: <span class="hljs-string">&quot;/usr/share/grafana&quot;</span>,<br>            <span class="hljs-string">&quot;Entrypoint&quot;</span>: [<br>                <span class="hljs-string">&quot;/run.sh&quot;</span><br>            ],<br>            <span class="hljs-string">&quot;OnBuild&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;Labels&quot;</span>: &#123;&#125;<br>        &#125;,<br>        <span class="hljs-string">&quot;NetworkSettings&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;Bridge&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;SandboxID&quot;</span>: <span class="hljs-string">&quot;d5029e992abf128054cd8dcb811ef7fcddde6c94578e84b3ad41b309eeea0301&quot;</span>,<br>            <span class="hljs-string">&quot;HairpinMode&quot;</span>: <span class="hljs-literal">false</span>,<br>            <span class="hljs-string">&quot;LinkLocalIPv6Address&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;LinkLocalIPv6PrefixLen&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;Ports&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;3000/tcp&quot;</span>: <span class="hljs-literal">null</span><br>            &#125;,<br>            <span class="hljs-string">&quot;SandboxKey&quot;</span>: <span class="hljs-string">&quot;/var/run/docker/netns/d5029e992abf&quot;</span>,<br>            <span class="hljs-string">&quot;SecondaryIPAddresses&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;SecondaryIPv6Addresses&quot;</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&quot;EndpointID&quot;</span>: <span class="hljs-string">&quot;14e461fe748eea297b8d84f043159905b7956018493b45476442b060ed2e9c3d&quot;</span>,<br>            <span class="hljs-string">&quot;Gateway&quot;</span>: <span class="hljs-string">&quot;172.17.0.1&quot;</span>,<br>            <span class="hljs-string">&quot;GlobalIPv6Address&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;GlobalIPv6PrefixLen&quot;</span>: <span class="hljs-number">0</span>,<br>            <span class="hljs-string">&quot;IPAddress&quot;</span>: <span class="hljs-string">&quot;172.17.0.3&quot;</span>,<br>            <span class="hljs-string">&quot;IPPrefixLen&quot;</span>: <span class="hljs-number">16</span>,<br>            <span class="hljs-string">&quot;IPv6Gateway&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>            <span class="hljs-string">&quot;MacAddress&quot;</span>: <span class="hljs-string">&quot;02:42:ac:11:00:03&quot;</span>,<br>            <span class="hljs-string">&quot;Networks&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;bridge&quot;</span>: &#123;<br>                    <span class="hljs-string">&quot;IPAMConfig&quot;</span>: <span class="hljs-literal">null</span>,<br>                    <span class="hljs-string">&quot;Links&quot;</span>: <span class="hljs-literal">null</span>,<br>                    <span class="hljs-string">&quot;Aliases&quot;</span>: <span class="hljs-literal">null</span>,<br>                    <span class="hljs-string">&quot;NetworkID&quot;</span>: <span class="hljs-string">&quot;3934b22c38426e6823be8668550b7d3992929a89bd449089673db6dc3dbbef26&quot;</span>,<br>                    <span class="hljs-string">&quot;EndpointID&quot;</span>: <span class="hljs-string">&quot;14e461fe748eea297b8d84f043159905b7956018493b45476442b060ed2e9c3d&quot;</span>,<br>                    <span class="hljs-string">&quot;Gateway&quot;</span>: <span class="hljs-string">&quot;172.17.0.1&quot;</span>,<br>                    <span class="hljs-string">&quot;IPAddress&quot;</span>: <span class="hljs-string">&quot;172.17.0.3&quot;</span>,<br>                    <span class="hljs-string">&quot;IPPrefixLen&quot;</span>: <span class="hljs-number">16</span>,<br>                    <span class="hljs-string">&quot;IPv6Gateway&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                    <span class="hljs-string">&quot;GlobalIPv6Address&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                    <span class="hljs-string">&quot;GlobalIPv6PrefixLen&quot;</span>: <span class="hljs-number">0</span>,<br>                    <span class="hljs-string">&quot;MacAddress&quot;</span>: <span class="hljs-string">&quot;02:42:ac:11:00:03&quot;</span>,<br>                    <span class="hljs-string">&quot;DriverOpts&quot;</span>: <span class="hljs-literal">null</span><br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>]<br></code></pre></td></tr></table></figure><h4 id="OPTIONS-9"><a href="#OPTIONS-9" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><h5 id="f-2"><a href="#f-2" class="headerlink" title="-f"></a>-f</h5><p>指定返回值的模版文件，类似 docker inspect –format</p><h4 id="实例-10"><a href="#实例-10" class="headerlink" title="实例"></a>实例</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">➜  /tmp docker ps <br>CONTAINER ID   IMAGE                           COMMAND   CREATED         STATUS         PORTS     NAMES<br>61804e0083af   kalilinux/kali-rolling:latest   <span class="hljs-string">&quot;bash&quot;</span>    14 months ago   Up 3 seconds             kali<br></code></pre></td></tr></table></figure><h5 id="查看容器ID"><a href="#查看容器ID" class="headerlink" title="查看容器ID"></a>查看容器ID</h5><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">docker inspect <span class="hljs-punctuation">-</span>f<span class="hljs-punctuation">=</span>&#x27;&#123;&#123;.Id&#125;&#x27; Name<span class="hljs-string">|Id</span><br></code></pre></td></tr></table></figure><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">➜  /tmp docker inspect -f=&#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.Id</span>&#125;&#125;</span><span class="language-xml">&#x27; 61804e0083af</span><br><span class="language-xml">61804e0083afedef03947dc1189d5c4ecfc8f689885f8dffcac4dc4624caa00f</span><br></code></pre></td></tr></table></figure><h5 id="查看容器创建具体时间"><a href="#查看容器创建具体时间" class="headerlink" title="查看容器创建具体时间"></a>查看容器创建具体时间</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">docker inspect -f &#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.Created</span>&#125;&#125;</span><span class="language-xml">&#x27; Name|Id</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">➜  /tmp docker ps <br>CONTAINER ID   IMAGE                           COMMAND   CREATED         STATUS         PORTS     NAMES<br>61804e0083af   kalilinux/kali-rolling:latest   <span class="hljs-string">&quot;bash&quot;</span>    14 months ago   Up 3 seconds             kali<br></code></pre></td></tr></table></figure><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">➜  /tmp docker inspect -f &#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.Created</span>&#125;&#125;</span><span class="language-xml">&#x27; 61804e0083af</span><br><span class="language-xml">2022-12-08T04:42:46.58388013Z</span><br></code></pre></td></tr></table></figure><h5 id="查看容器日志路径"><a href="#查看容器日志路径" class="headerlink" title="查看容器日志路径"></a>查看容器日志路径</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">docker inspect -f &#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.LogPath</span>&#125;&#125;</span><span class="language-xml">&#x27; Name|Id</span><br></code></pre></td></tr></table></figure><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gradle">➜  /tmp docker <span class="hljs-keyword">inspect</span> -f <span class="hljs-string">&#x27;&#123;&#123;.LogPath&#125;&#125;&#x27;</span> <span class="hljs-number">61804</span>e0083af<br><span class="hljs-regexp">/var/</span>lib<span class="hljs-regexp">/docker/</span>containers<span class="hljs-regexp">/61804e0083afedef03947dc1189d5c4ecfc8f689885f8dffcac4dc4624caa00f/</span><span class="hljs-number">61804</span>e0083afedef03947dc1189d5c4ecfc8f689885f8dffcac4dc4624caa00f-json.log<br></code></pre></td></tr></table></figure><h5 id="查看容器所使用镜像"><a href="#查看容器所使用镜像" class="headerlink" title="查看容器所使用镜像"></a>查看容器所使用镜像</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">docker inspect -f &#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.Image</span>&#125;&#125;</span><span class="language-xml">&#x27; Name|Id</span><br></code></pre></td></tr></table></figure><p>查询结果为镜像id，docker images 查询的id为镜像id的前12位</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs llvm">➜  ~ docker inspect -f &#x27;&#123;&#123;.Image&#125;&#125;&#x27; <span class="hljs-number">61804e0083</span>af<br>sha<span class="hljs-number">256</span>:<span class="hljs-number">0</span>d<span class="hljs-number">323592</span><span class="hljs-keyword">c</span><span class="hljs-number">7</span>f<span class="hljs-number">57780</span>d<span class="hljs-number">4</span>caa<span class="hljs-number">99</span>ba<span class="hljs-number">48e8867</span>d<span class="hljs-number">43532</span><span class="hljs-keyword">c</span><span class="hljs-number">72879</span>b<span class="hljs-number">31</span>ec<span class="hljs-number">0</span>b<span class="hljs-number">47</span>af<span class="hljs-number">0</span><span class="hljs-keyword">c</span><span class="hljs-number">7</span>cfeb<span class="hljs-number">19</span><br>➜  ~ docker images | grep <span class="hljs-number">0</span>d<span class="hljs-number">3235</span><br>kalilinux/kali-rolling    latest       <span class="hljs-number">0</span>d<span class="hljs-number">323592</span><span class="hljs-keyword">c</span><span class="hljs-number">7</span>f<span class="hljs-number">5</span>   <span class="hljs-number">14</span> months ago   <span class="hljs-number">140</span>MB<br></code></pre></td></tr></table></figure><h5 id="查看容器名"><a href="#查看容器名" class="headerlink" title="查看容器名"></a>查看容器名</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">docker inspect -f=&#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.Name</span>&#125;&#125;</span><span class="language-xml">&#x27; 61804e0083af</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">➜  /tmp docker inspect -f=<span class="hljs-string">&#x27;&#123;&#123;.Name&#125;&#125;&#x27;</span> 61804e0083af<br>/kali<br>➜  /tmp docker ps | grep 61804e0083af<br>61804e0083af   kalilinux/kali-rolling:latest   <span class="hljs-string">&quot;bash&quot;</span>                   15 months ago   Up 7 minutes                                        kali<br>➜  /tmp <br><br></code></pre></td></tr></table></figure><h5 id="查看容器内IP"><a href="#查看容器内IP" class="headerlink" title="查看容器内IP"></a>查看容器内IP</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">docker inspect -f=&#x27;</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">.NetworkSettings.Networks.bridge.IPAddress</span>&#125;&#125;</span><span class="language-xml">&#x27; 61804e0083af</span><br></code></pre></td></tr></table></figure><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">➜  /tmp docker inspect -f=&#x27;&#123;&#123;.NetworkSettings.Networks.bridge.IPAddress&#125;&#125;&#x27; 61804e0083af<br><span class="hljs-number">172.17.0.2</span><br></code></pre></td></tr></table></figure><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tap">➜  /tmp docker exec -it 61804e0083af &quot;ifconfig&quot;<br>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br>        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255<br>        ether 02:42:ac:11:00:02  txqueuelen<span class="hljs-number"> 0 </span> (Ethernet)<br>        RX packets<span class="hljs-number"> 15 </span> bytes<span class="hljs-number"> 1322 </span>(1.2 KiB)<br>        RX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span> overruns<span class="hljs-number"> 0 </span> frame 0<br>        TX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        TX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span>overruns<span class="hljs-number"> 0 </span> carrier<span class="hljs-number"> 0 </span> collisions 0<br><br>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536<br>        inet 127.0.0.1  netmask 255.0.0.0<br>        loop  txqueuelen<span class="hljs-number"> 1000 </span> (Local Loopback)<br>        RX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        RX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span> overruns<span class="hljs-number"> 0 </span> frame 0<br>        TX packets<span class="hljs-number"> 0 </span> bytes<span class="hljs-number"> 0 </span>(0.0 B)<br>        TX errors<span class="hljs-number"> 0 </span> dropped<span class="hljs-number"> 0 </span>overruns<span class="hljs-number"> 0 </span> carrier<span class="hljs-number"> 0 </span> collisions 0<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweiapplications</category>
      
      <category>docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweiapplications</tag>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker_install</title>
    <link href="/2024/02/20/yunwei/yunweiapplications/docker/docker_install/"/>
    <url>/2024/02/20/yunwei/yunweiapplications/docker/docker_install/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><h4 id="安装指定版本docker"><a href="#安装指定版本docker" class="headerlink" title="安装指定版本docker"></a>安装指定版本docker</h4><h5 id="安装基础环境"><a href="#安装基础环境" class="headerlink" title="安装基础环境"></a>安装基础环境</h5><h3 id="redhat"><a href="#redhat" class="headerlink" title="redhat"></a>redhat</h3><h3 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h3><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><h2 id="uninstall"><a href="#uninstall" class="headerlink" title="uninstall"></a>uninstall</h2><h3 id="ubuntu-1"><a href="#ubuntu-1" class="headerlink" title="ubuntu"></a>ubuntu</h3><h3 id="redhat-1"><a href="#redhat-1" class="headerlink" title="redhat"></a>redhat</h3><h3 id="mac-1"><a href="#mac-1" class="headerlink" title="mac"></a>mac</h3><h3 id="windows-1"><a href="#windows-1" class="headerlink" title="windows"></a>windows</h3>]]></content>
    
    
    <categories>
      
      <category>yunwei</category>
      
      <category>yunweiapplications</category>
      
      <category>docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>yunwei</tag>
      
      <tag>yunweiapplications</tag>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dns_record_operation</title>
    <link href="/2024/02/06/network/dns/dns_record_operation/"/>
    <url>/2024/02/06/network/dns/dns_record_operation/</url>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>对常见的DNS记录及操作学习总结</p><h1 id="常见DNS记录"><a href="#常见DNS记录" class="headerlink" title="常见DNS记录"></a>常见DNS记录</h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="常见通用操作"><a href="#常见通用操作" class="headerlink" title="常见通用操作"></a>常见通用操作</h1><h2 id="dig-trace-查询"><a href="#dig-trace-查询" class="headerlink" title="dig trace 查询"></a>dig trace 查询</h2><h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><p><strong>dig +trace domain</strong></p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>1、直接从根域名服务器开始查询</p><p>2、本机代替递归服务器（本地DNS服务器）完成迭代查询</p><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><p>1、本地设备向根域名服务器（.） 查询 bilibili.com</p><p><img src="/image-20241225191304588.png" alt="image-20241225191304588"></p><p>2、根域名服务器识别为.com顶级域，告知需要去顶级域名服务器（.com)查询，并将顶级域名服务器返回给本地设备</p><p><img src="/image-20241225191338413.png" alt="image-20241225191338413"></p><p>3、本地设备又向顶级域名服务器请求查询bilibili.com</p><p><img src="/image-20241225191403683.png" alt="image-20241225191403683"></p><p>4、.com顶级域名服务器没有bilibili.com记录，告知需要去查询的域名服务器</p><p><img src="/image-20241225191431654.png" alt="image-20241225191431654"></p><p>5、本地设备再次向上一步请求返回的域名服务器发起请求</p><p><img src="/image-20241225191451787.png" alt="image-20241225191451787"></p><p>6、返回查询结果</p><p><img src="/image-20241225191523680.png" alt="image-20241225191523680"></p><figure class="highlight mercury"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs mercury">root@iZbp1191gh7vw52537lyxrZ:~# dig +<span class="hljs-keyword">trace</span> bilibili.com<br><br>; &lt;&lt;&gt;&gt; DiG <span class="hljs-number">9.18</span>.<span class="hljs-number">18</span>-<span class="hljs-number">0</span>ubuntu0.<span class="hljs-number">22.04</span>.<span class="hljs-number">2</span>-Ubuntu &lt;&lt;&gt;&gt; +<span class="hljs-keyword">trace</span> bilibili.com<br>;; global options: +cmd<br>.<span class="hljs-number">9</span>INNSf.root-servers.net.<br>.<span class="hljs-number">9</span>INNSd.root-servers.net.<br>.<span class="hljs-number">9</span>INNSg.root-servers.net.<br>.<span class="hljs-number">9</span>INNSh.root-servers.net.<br>.<span class="hljs-number">9</span>INNSa.root-servers.net.<br>.<span class="hljs-number">9</span>INNSc.root-servers.net.<br>.<span class="hljs-number">9</span>INNSk.root-servers.net.<br>.<span class="hljs-number">9</span>INNSb.root-servers.net.<br>.<span class="hljs-number">9</span>INNSl.root-servers.net.<br>.<span class="hljs-number">9</span>INNSm.root-servers.net.<br>.<span class="hljs-number">9</span>INNSj.root-servers.net.<br>.<span class="hljs-number">9</span>INNSi.root-servers.net.<br>.<span class="hljs-number">9</span>INNSe.root-servers.net.<br>;; Received <span class="hljs-number">239</span> bytes from <span class="hljs-number">127.0</span>.<span class="hljs-number">0.53</span>#<span class="hljs-number">53</span>(<span class="hljs-number">127.0</span>.<span class="hljs-number">0.53</span>) in <span class="hljs-number">0</span> ms<br><br>;; UDP setup with <span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b#<span class="hljs-number">53</span>(<span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b) for bilibili.com failed: network unreachable.<br>;; UDP setup with <span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b#<span class="hljs-number">53</span>(<span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b) for bilibili.com failed: network unreachable.<br>;; UDP setup with <span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b#<span class="hljs-number">53</span>(<span class="hljs-number">2801</span>:<span class="hljs-number">1</span>b8:<span class="hljs-number">10</span>::b) for bilibili.com failed: network unreachable.<br>;; UDP setup with <span class="hljs-number">2001</span>:<span class="hljs-number">7</span>fe::<span class="hljs-number">53</span>#<span class="hljs-number">53</span>(<span class="hljs-number">2001</span>:<span class="hljs-number">7</span>fe::<span class="hljs-number">53</span>) for bilibili.com failed: network unreachable.<br>com.<span class="hljs-number">172800</span>INNSa.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSb.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSc.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSd.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSe.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSf.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSg.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSh.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSi.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSj.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSk.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSl.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSm.gtld-servers.net.<br>com.<span class="hljs-number">86400</span>INDS<span class="hljs-number">19718</span> <span class="hljs-number">13</span> <span class="hljs-number">2</span> <span class="hljs-number">8</span>ACBB0CD28F41250A80A491389424D341522D946B0DA0C0291F2D3D7 <span class="hljs-number">71</span>D7805A<br>com.<span class="hljs-number">86400</span>INRRSIGDS <span class="hljs-number">8</span> <span class="hljs-number">1</span> <span class="hljs-number">86400</span> <span class="hljs-number">20240326050000</span> <span class="hljs-number">20240313040000</span> <span class="hljs-number">30903</span> . HMM7P1NYHa5RzV8Iqk5Kko4+/<span class="hljs-number">86</span>zW+tj+amxZiFP6qFZibjGiZ0XW4Nw gToWas+AVxHF+a73XU/<span class="hljs-number">0</span>mSdL6N0xpyabRsyYYXAYaZ4lZ9W1nST5DclJ hpyGcN6bP8+fm1VKLM5wXYuZ6tyeQuvDA3g8RfsN8B5q1CT31dU6vlyL <span class="hljs-number">8</span>NfbTTSDzYnH4zZzLpojJZ5dmW6Ua3oNiFitK4Ri+<span class="hljs-number">2</span>aOtv81WBLRqNHI WjRRbiP5JBAZDAj+iV+vQATwmH2gDxXBe6WN1KTbzcV7Nc9ds0l+B1Oy SF4zKaRP3wu3P0IyMzwDT63W76yCsesmW1+SIJpweI2HLA9MBx/+DZmZ iz7i6Q<span class="hljs-built_in">=</span><span class="hljs-built_in">=</span><br>;; Received <span class="hljs-number">1172</span> bytes from <span class="hljs-number">198.97</span>.<span class="hljs-number">190.53</span>#<span class="hljs-number">53</span>(h.root-servers.net) in <span class="hljs-number">104</span> ms<br><br>;; UDP setup with <span class="hljs-number">2001</span>:<span class="hljs-number">503</span>:<span class="hljs-number">39</span>c1::<span class="hljs-number">30</span>#<span class="hljs-number">53</span>(<span class="hljs-number">2001</span>:<span class="hljs-number">503</span>:<span class="hljs-number">39</span>c1::<span class="hljs-number">30</span>) for bilibili.com failed: network unreachable.<br>;; UDP setup with <span class="hljs-number">2001</span>:<span class="hljs-number">503</span>:d2d::<span class="hljs-number">30</span>#<span class="hljs-number">53</span>(<span class="hljs-number">2001</span>:<span class="hljs-number">503</span>:d2d::<span class="hljs-number">30</span>) for bilibili.com failed: network unreachable.<br>bilibili.com.<span class="hljs-number">172800</span>INNSns3.dnsv5.com.<br>bilibili.com.<span class="hljs-number">172800</span>INNSns4.dnsv5.com.<br>CK0POJMG874LJREF7EFN8430QVIT8BSM.com. <span class="hljs-number">86400</span> IN NSEC3 <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span> - CK0Q2D6NI4I7EQH8NA30NS61O48UL8G5 NS SOA RRSIG DNSKEY NSEC3PARAM<br>CK0POJMG874LJREF7EFN8430QVIT8BSM.com. <span class="hljs-number">86400</span> IN RRSIG NSEC3 <span class="hljs-number">13</span> <span class="hljs-number">2</span> <span class="hljs-number">86400</span> <span class="hljs-number">20240317052456</span> <span class="hljs-number">20240310041456</span> <span class="hljs-number">4534</span> com. nDsu/HWipq9WrDO772lGr5Rm0BGksazMNQ4BCktOTsLTqadXRbTc8Tx8 W1gAunMnPlgJUg7EzY+Bu0NR3W4cig<span class="hljs-built_in">=</span><span class="hljs-built_in">=</span><br><span class="hljs-number">34</span>N8HDRIDRS931JVPDDJA5QLVPMOGVUB.com. <span class="hljs-number">86400</span> IN NSEC3 <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span> - <span class="hljs-number">34</span>N8VR2QIA8E6FQT7AUGCM6FARONEELO NS DS RRSIG<br><span class="hljs-number">34</span>N8HDRIDRS931JVPDDJA5QLVPMOGVUB.com. <span class="hljs-number">86400</span> IN RRSIG NSEC3 <span class="hljs-number">13</span> <span class="hljs-number">2</span> <span class="hljs-number">86400</span> <span class="hljs-number">20240319051354</span> <span class="hljs-number">20240312040354</span> <span class="hljs-number">4534</span> com. C1pama7SsZ1nj2soxDM0wG3vGlXjMB1Mn20jEnBOAVmXFgoPN+bQpoXs UemGxrKrQe83kf10kN/<span class="hljs-number">52</span>ul4JYgIrQ<span class="hljs-built_in">=</span><span class="hljs-built_in">=</span><br>;; Received <span class="hljs-number">784</span> bytes from <span class="hljs-number">192.52</span>.<span class="hljs-number">178.30</span>#<span class="hljs-number">53</span>(k.gtld-servers.net) in <span class="hljs-number">164</span> ms<br><br>bilibili.com.<span class="hljs-number">60</span>INA<span class="hljs-number">8.134</span>.<span class="hljs-number">50.24</span><br>bilibili.com.<span class="hljs-number">60</span>INA<span class="hljs-number">47.103</span>.<span class="hljs-number">24.173</span><br>bilibili.com.<span class="hljs-number">60</span>INA<span class="hljs-number">119.3</span>.<span class="hljs-number">70.188</span><br>bilibili.com.<span class="hljs-number">60</span>INA<span class="hljs-number">139.159</span>.<span class="hljs-number">241.37</span><br>bilibili.com.<span class="hljs-number">86400</span>INNSns3.dnsv5.com.<br>bilibili.com.<span class="hljs-number">86400</span>INNSns4.dnsv5.com.<br>;; Received <span class="hljs-number">159</span> bytes from <span class="hljs-number">1.12</span>.<span class="hljs-number">0.16</span>#<span class="hljs-number">53</span>(ns4.dnsv5.com) in <span class="hljs-number">16</span> ms<br></code></pre></td></tr></table></figure><h2 id="清空DNS缓存"><a href="#清空DNS缓存" class="headerlink" title="清空DNS缓存"></a>清空DNS缓存</h2><h3 id="Mac电脑"><a href="#Mac电脑" class="headerlink" title="Mac电脑"></a>Mac电脑</h3><p><strong>sudo killall -HUP mDNSResponder</strong></p><h1 id="DNS安全加固"><a href="#DNS安全加固" class="headerlink" title="DNS安全加固"></a>DNS安全加固</h1><h1 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h1><p>【1】 dnsviz.net</p><p><a href="https://dnsviz.net/d/pizzaseo.com/dnssec/">https://dnsviz.net/d/pizzaseo.com/dnssec/</a></p><p>【2】DNSSEC 2024-01-30 13:38:58</p><p><a href="https://help.aliyun.com/document_detail/149662.html">https://help.aliyun.com/document_detail/149662.html</a></p>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
      <category>dns</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>dns</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
